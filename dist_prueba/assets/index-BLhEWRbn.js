(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function mS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hd={exports:{}},Ya={},qd={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function gS(){if(Dy)return Re;Dy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function F(O,q,pe){this.props=O,this.context=q,this.refs=B,this.updater=pe||R}F.prototype.isReactComponent={},F.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=F.prototype;function Y(O,q,pe){this.props=O,this.context=q,this.refs=B,this.updater=pe||R}var Q=Y.prototype=new H;Q.constructor=Y,U(Q,F.prototype),Q.isPureReactComponent=!0;var ne=Array.isArray,ie=Object.prototype.hasOwnProperty,ae={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function I(O,q,pe){var Pe,Ce={},De=null,Ue=null;if(q!=null)for(Pe in q.ref!==void 0&&(Ue=q.ref),q.key!==void 0&&(De=""+q.key),q)ie.call(q,Pe)&&!x.hasOwnProperty(Pe)&&(Ce[Pe]=q[Pe]);var je=arguments.length-2;if(je===1)Ce.children=pe;else if(1<je){for(var He=Array(je),Tt=0;Tt<je;Tt++)He[Tt]=arguments[Tt+2];Ce.children=He}if(O&&O.defaultProps)for(Pe in je=O.defaultProps,je)Ce[Pe]===void 0&&(Ce[Pe]=je[Pe]);return{$$typeof:n,type:O,key:De,ref:Ue,props:Ce,_owner:ae.current}}function P(O,q){return{$$typeof:n,type:O.type,key:q,ref:O.ref,props:O.props,_owner:O._owner}}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function N(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return q[pe]})}var M=/\/+/g;function C(O,q){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):q.toString(36)}function Xe(O,q,pe,Pe,Ce){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=O,Ce=Ce(Ue),O=Pe===""?"."+C(Ue,0):Pe,ne(Ce)?(pe="",O!=null&&(pe=O.replace(M,"$&/")+"/"),Xe(Ce,q,pe,"",function(Tt){return Tt})):Ce!=null&&(D(Ce)&&(Ce=P(Ce,pe+(!Ce.key||Ue&&Ue.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+O)),q.push(Ce)),1;if(Ue=0,Pe=Pe===""?".":Pe+":",ne(O))for(var je=0;je<O.length;je++){De=O[je];var He=Pe+C(De,je);Ue+=Xe(De,q,pe,He,Ce)}else if(He=S(O),typeof He=="function")for(O=He.call(O),je=0;!(De=O.next()).done;)De=De.value,He=Pe+C(De,je++),Ue+=Xe(De,q,pe,He,Ce);else if(De==="object")throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Ct(O,q,pe){if(O==null)return O;var Pe=[],Ce=0;return Xe(O,Pe,"","",function(De){return q.call(pe,De,Ce++)}),Pe}function Rt(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var Se={current:null},Z={transition:null},fe={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Z,ReactCurrentOwner:ae};function se(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Ct,forEach:function(O,q,pe){Ct(O,function(){q.apply(this,arguments)},pe)},count:function(O){var q=0;return Ct(O,function(){q++}),q},toArray:function(O){return Ct(O,function(q){return q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=F,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=Y,Re.StrictMode=i,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Re.act=se,Re.cloneElement=function(O,q,pe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Pe=U({},O.props),Ce=O.key,De=O.ref,Ue=O._owner;if(q!=null){if(q.ref!==void 0&&(De=q.ref,Ue=ae.current),q.key!==void 0&&(Ce=""+q.key),O.type&&O.type.defaultProps)var je=O.type.defaultProps;for(He in q)ie.call(q,He)&&!x.hasOwnProperty(He)&&(Pe[He]=q[He]===void 0&&je!==void 0?je[He]:q[He])}var He=arguments.length-2;if(He===1)Pe.children=pe;else if(1<He){je=Array(He);for(var Tt=0;Tt<He;Tt++)je[Tt]=arguments[Tt+2];Pe.children=je}return{$$typeof:n,type:O.type,key:Ce,ref:De,props:Pe,_owner:Ue}},Re.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Re.createElement=I,Re.createFactory=function(O){var q=I.bind(null,O);return q.type=O,q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:d,render:O}},Re.isValidElement=D,Re.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:Rt}},Re.memo=function(O,q){return{$$typeof:y,type:O,compare:q===void 0?null:q}},Re.startTransition=function(O){var q=Z.transition;Z.transition={};try{O()}finally{Z.transition=q}},Re.unstable_act=se,Re.useCallback=function(O,q){return Se.current.useCallback(O,q)},Re.useContext=function(O){return Se.current.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O){return Se.current.useDeferredValue(O)},Re.useEffect=function(O,q){return Se.current.useEffect(O,q)},Re.useId=function(){return Se.current.useId()},Re.useImperativeHandle=function(O,q,pe){return Se.current.useImperativeHandle(O,q,pe)},Re.useInsertionEffect=function(O,q){return Se.current.useInsertionEffect(O,q)},Re.useLayoutEffect=function(O,q){return Se.current.useLayoutEffect(O,q)},Re.useMemo=function(O,q){return Se.current.useMemo(O,q)},Re.useReducer=function(O,q,pe){return Se.current.useReducer(O,q,pe)},Re.useRef=function(O){return Se.current.useRef(O)},Re.useState=function(O){return Se.current.useState(O)},Re.useSyncExternalStore=function(O,q,pe){return Se.current.useSyncExternalStore(O,q,pe)},Re.useTransition=function(){return Se.current.useTransition()},Re.version="18.3.1",Re}var Vy;function hp(){return Vy||(Vy=1,qd.exports=gS()),qd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function yS(){if(Ny)return Ya;Ny=1;var n=hp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,y){var _,T={},S=null,R=null;y!==void 0&&(S=""+y),f.key!==void 0&&(S=""+f.key),f.ref!==void 0&&(R=f.ref);for(_ in f)i.call(f,_)&&!l.hasOwnProperty(_)&&(T[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)T[_]===void 0&&(T[_]=f[_]);return{$$typeof:e,type:d,key:S,ref:R,props:T,_owner:o.current}}return Ya.Fragment=t,Ya.jsx=u,Ya.jsxs=u,Ya}var Oy;function vS(){return Oy||(Oy=1,Hd.exports=yS()),Hd.exports}var ee=vS(),me=hp();const _s=mS(me);var Zu={},Kd={exports:{}},sn={},Wd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function _S(){return My||(My=1,function(n){function e(Z,fe){var se=Z.length;Z.push(fe);e:for(;0<se;){var O=se-1>>>1,q=Z[O];if(0<o(q,fe))Z[O]=fe,Z[se]=q,se=O;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var fe=Z[0],se=Z.pop();if(se!==fe){Z[0]=se;e:for(var O=0,q=Z.length,pe=q>>>1;O<pe;){var Pe=2*(O+1)-1,Ce=Z[Pe],De=Pe+1,Ue=Z[De];if(0>o(Ce,se))De<q&&0>o(Ue,Ce)?(Z[O]=Ue,Z[De]=se,O=De):(Z[O]=Ce,Z[Pe]=se,O=Pe);else if(De<q&&0>o(Ue,se))Z[O]=Ue,Z[De]=se,O=De;else break e}}return fe}function o(Z,fe){var se=Z.sortIndex-fe.sortIndex;return se!==0?se:Z.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],y=[],_=1,T=null,S=3,R=!1,U=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(Z){for(var fe=t(y);fe!==null;){if(fe.callback===null)i(y);else if(fe.startTime<=Z)i(y),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=t(y)}}function ne(Z){if(B=!1,Q(Z),!U)if(t(f)!==null)U=!0,Rt(ie);else{var fe=t(y);fe!==null&&Se(ne,fe.startTime-Z)}}function ie(Z,fe){U=!1,B&&(B=!1,H(I),I=-1),R=!0;var se=S;try{for(Q(fe),T=t(f);T!==null&&(!(T.expirationTime>fe)||Z&&!N());){var O=T.callback;if(typeof O=="function"){T.callback=null,S=T.priorityLevel;var q=O(T.expirationTime<=fe);fe=n.unstable_now(),typeof q=="function"?T.callback=q:T===t(f)&&i(f),Q(fe)}else i(f);T=t(f)}if(T!==null)var pe=!0;else{var Pe=t(y);Pe!==null&&Se(ne,Pe.startTime-fe),pe=!1}return pe}finally{T=null,S=se,R=!1}}var ae=!1,x=null,I=-1,P=5,D=-1;function N(){return!(n.unstable_now()-D<P)}function M(){if(x!==null){var Z=n.unstable_now();D=Z;var fe=!0;try{fe=x(!0,Z)}finally{fe?C():(ae=!1,x=null)}}else ae=!1}var C;if(typeof Y=="function")C=function(){Y(M)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Ct=Xe.port2;Xe.port1.onmessage=M,C=function(){Ct.postMessage(null)}}else C=function(){F(M,0)};function Rt(Z){x=Z,ae||(ae=!0,C())}function Se(Z,fe){I=F(function(){Z(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){U||R||(U=!0,Rt(ie))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var fe=3;break;default:fe=S}var se=S;S=fe;try{return Z()}finally{S=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,fe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var se=S;S=Z;try{return fe()}finally{S=se}},n.unstable_scheduleCallback=function(Z,fe,se){var O=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?O+se:O):se=O,Z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=se+q,Z={id:_++,callback:fe,priorityLevel:Z,startTime:se,expirationTime:q,sortIndex:-1},se>O?(Z.sortIndex=se,e(y,Z),t(f)===null&&Z===t(y)&&(B?(H(I),I=-1):B=!0,Se(ne,se-O))):(Z.sortIndex=q,e(f,Z),U||R||(U=!0,Rt(ie))),Z},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Z){var fe=S;return function(){var se=S;S=fe;try{return Z.apply(this,arguments)}finally{S=se}}}}(Gd)),Gd}var Ly;function wS(){return Ly||(Ly=1,Wd.exports=_S()),Wd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function TS(){if(by)return sn;by=1;var n=hp(),e=wS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function S(r){return f.call(T,r)?!0:f.call(_,r)?!1:y.test(r)?T[r]=!0:(_[r]=!0,!1)}function R(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function U(r,s,a,h){if(s===null||typeof s>"u"||R(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(r,s,a,h,p,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new B(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];F[s]=new B(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new B(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new B(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new B(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new B(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new B(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new B(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new B(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,Y);F[s]=new B(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,Y);F[s]=new B(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,Y);F[s]=new B(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new B(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new B(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,s,a,h){var p=F.hasOwnProperty(s)?F[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(U(s,a,p,h)&&(a=null),h||p===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,h=p.attributeNamespace,a===null?r.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ae=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),Z=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=Z&&r[Z]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,O;function q(r){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var pe=!1;function Pe(r,s){if(!r||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var p=z.stack.split(`
`),g=h.stack.split(`
`),w=p.length-1,A=g.length-1;1<=w&&0<=A&&p[w]!==g[A];)A--;for(;1<=w&&0<=A;w--,A--)if(p[w]!==g[A]){if(w!==1||A!==1)do if(w--,A--,0>A||p[w]!==g[A]){var k=`
`+p[w].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=w&&0<=A);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?q(r):""}function Ce(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case ae:return"Portal";case P:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case Xe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ct:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case Rt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=He(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function vr(r){r._valueTracker||(r._valueTracker=Tt(r))}function xs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=He(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Kr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ui(r,s){var a=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ds(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=je(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ra(r,s){s=s.checked,s!=null&&Q(r,"checked",s,!1)}function ia(r,s){ra(r,s);var a=je(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Vs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Vs(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Fl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Vs(r,s,a){(s!=="number"||Kr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var _r=Array.isArray;function wr(r,s,a,h){if(r=r.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=s.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&h&&(r[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function sa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ns(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(_r(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:je(a)}}function Os(r,s){var a=je(s.value),h=je(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function oa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Tr,aa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Tr=Tr||document.createElement("div"),Tr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Tr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Wr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bi=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(r){Bi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ji[s]=ji[r]})});function la(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ji.hasOwnProperty(r)&&ji[r]?(""+s).trim():s+"px"}function ua(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,p=la(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,p):r[a]=p}}var ca=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(r,s){if(s){if(ca[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function da(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zi=null;function Ms(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,yn=null,Wn=null;function bs(r){if(r=La(r)){if(typeof Ls!="function")throw Error(t(280));var s=r.stateNode;s&&(s=pu(s),Ls(r.stateNode,r.type,s))}}function Gn(r){yn?Wn?Wn.push(r):Wn=[r]:yn=r}function fa(){if(yn){var r=yn,s=Wn;if(Wn=yn=null,bs(r),s)for(r=0;r<s.length;r++)bs(s[r])}}function $i(r,s){return r(s)}function pa(){}var Er=!1;function ma(r,s,a){if(Er)return r(s,a);Er=!0;try{return $i(r,s,a)}finally{Er=!1,(yn!==null||Wn!==null)&&(pa(),fa())}}function ot(r,s){var a=r.stateNode;if(a===null)return null;var h=pu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Fs=!1;if(d)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Fs=!1}function Hi(r,s,a,h,p,g,w,A,k){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(G){this.onError(G)}}var qi=!1,Us=null,xn=!1,ga=null,vh={onError:function(r){qi=!0,Us=r}};function js(r,s,a,h,p,g,w,A,k){qi=!1,Us=null,Hi.apply(vh,arguments)}function Ul(r,s,a,h,p,g,w,A,k){if(js.apply(this,arguments),qi){if(qi){var z=Us;qi=!1,Us=null}else throw Error(t(198));xn||(xn=!0,ga=z)}}function Dn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ki(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Vn(r){if(Dn(r)!==r)throw Error(t(188))}function jl(r){var s=r.alternate;if(!s){if(s=Dn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(h=p.return,h!==null){a=h;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return Vn(p),r;if(g===h)return Vn(p),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=p,h=g;else{for(var w=!1,A=p.child;A;){if(A===a){w=!0,a=p,h=g;break}if(A===h){w=!0,h=p,a=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===a){w=!0,a=g,h=p;break}if(A===h){w=!0,h=g,a=p;break}A=A.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ya(r){return r=jl(r),r!==null?Bs(r):null}function Bs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Bs(r);if(s!==null)return s;r=r.sibling}return null}var zs=e.unstable_scheduleCallback,va=e.unstable_cancelCallback,Bl=e.unstable_shouldYield,_h=e.unstable_requestPaint,qe=e.unstable_now,zl=e.unstable_getCurrentPriorityLevel,Wi=e.unstable_ImmediatePriority,Gr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,_a=e.unstable_LowPriority,$l=e.unstable_IdlePriority,Gi=null,ln=null;function Hl(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Gi,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Kl,wa=Math.log,ql=Math.LN2;function Kl(r){return r>>>=0,r===0?32:31-(wa(r)/ql|0)|0}var $s=64,Hs=4194304;function Qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Qi(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,p=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var A=w&~p;A!==0?h=Qr(A):(g&=w,g!==0&&(h=Qr(g)))}else w=a&~p,w!==0?h=Qr(w):g!==0&&(h=Qr(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&p)&&(p=h&-h,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Kt(s),p=1<<a,h|=r[a],s&=~p;return h}function wh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Kt(g),A=1<<w,k=p[w];k===-1?(!(A&a)||A&h)&&(p[w]=wh(A,s)):k<=s&&(r.expiredLanes|=A),g&=~A}}function un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Xi(){var r=$s;return $s<<=1,!($s&4194240)&&($s=64),r}function Xr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Yr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=a}function $e(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-Kt(a),g=1<<p;s[p]=0,h[p]=-1,r[p]=-1,a&=~g}}function Jr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Kt(a),p=1<<h;p&s|r[h]&s&&(r[h]|=s),a&=~p}}var xe=0;function Zr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Wl,qs,Gl,Ql,Xl,Ta=!1,Qn=[],kt=null,Nn=null,On=null,ei=new Map,_n=new Map,Xn=[],Th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yl(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(s.pointerId)}}function Yt(r,s,a,h,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[p]},s!==null&&(s=La(s),s!==null&&qs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Eh(r,s,a,h,p){switch(s){case"focusin":return kt=Yt(kt,r,s,a,h,p),!0;case"dragenter":return Nn=Yt(Nn,r,s,a,h,p),!0;case"mouseover":return On=Yt(On,r,s,a,h,p),!0;case"pointerover":var g=p.pointerId;return ei.set(g,Yt(ei.get(g)||null,r,s,a,h,p)),!0;case"gotpointercapture":return g=p.pointerId,_n.set(g,Yt(_n.get(g)||null,r,s,a,h,p)),!0}return!1}function Jl(r){var s=ts(r.target);if(s!==null){var a=Dn(s);if(a!==null){if(s=a.tag,s===13){if(s=Ki(a),s!==null){r.blockedOn=s,Xl(r.priority,function(){Gl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ir(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ks(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);zi=h,a.target.dispatchEvent(h),zi=null}else return s=La(a),s!==null&&qs(s),r.blockedOn=a,!1;s.shift()}return!0}function Yi(r,s,a){Ir(r)&&a.delete(s)}function Zl(){Ta=!1,kt!==null&&Ir(kt)&&(kt=null),Nn!==null&&Ir(Nn)&&(Nn=null),On!==null&&Ir(On)&&(On=null),ei.forEach(Yi),_n.forEach(Yi)}function Mn(r,s){r.blockedOn===s&&(r.blockedOn=null,Ta||(Ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zl)))}function Ln(r){function s(p){return Mn(p,r)}if(0<Qn.length){Mn(Qn[0],r);for(var a=1;a<Qn.length;a++){var h=Qn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(kt!==null&&Mn(kt,r),Nn!==null&&Mn(Nn,r),On!==null&&Mn(On,r),ei.forEach(s),_n.forEach(s),a=0;a<Xn.length;a++)h=Xn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Xn.length&&(a=Xn[0],a.blockedOn===null);)Jl(a),a.blockedOn===null&&Xn.shift()}var Ar=ne.ReactCurrentBatchConfig,ti=!0;function Ye(r,s,a,h){var p=xe,g=Ar.transition;Ar.transition=null;try{xe=1,Ea(r,s,a,h)}finally{xe=p,Ar.transition=g}}function Sh(r,s,a,h){var p=xe,g=Ar.transition;Ar.transition=null;try{xe=4,Ea(r,s,a,h)}finally{xe=p,Ar.transition=g}}function Ea(r,s,a,h){if(ti){var p=Ks(r,s,a,h);if(p===null)Oh(r,s,h,Ji,a),Yl(r,h);else if(Eh(p,r,s,a,h))h.stopPropagation();else if(Yl(r,h),s&4&&-1<Th.indexOf(r)){for(;p!==null;){var g=La(p);if(g!==null&&Wl(g),g=Ks(r,s,a,h),g===null&&Oh(r,s,h,Ji,a),g===p)break;p=g}p!==null&&h.stopPropagation()}else Oh(r,s,h,null,a)}}var Ji=null;function Ks(r,s,a,h){if(Ji=null,r=Ms(h),r=ts(r),r!==null)if(s=Dn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ki(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ji=r,null}function Sa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zl()){case Wi:return 1;case Gr:return 4;case vn:case _a:return 16;case $l:return 536870912;default:return 16}default:return 16}}var cn=null,Ws=null,Jt=null;function Ia(){if(Jt)return Jt;var r,s=Ws,a=s.length,h,p="value"in cn?cn.value:cn.textContent,g=p.length;for(r=0;r<a&&s[r]===p[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===p[g-h];h++);return Jt=p.slice(r,1<h?1-h:void 0)}function Gs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Yn(){return!0}function Aa(){return!1}function xt(r){function s(a,h,p,g,w){this._reactName=a,this._targetInst=p,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Yn:Aa,this.isPropagationStopped=Aa,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),s}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=xt(bn),Jn=se({},bn,{view:0,detail:0}),Ih=xt(Jn),Xs,Pr,ni,Zi=se({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ni&&(ni&&r.type==="mousemove"?(Xs=r.screenX-ni.screenX,Pr=r.screenY-ni.screenY):Pr=Xs=0,ni=r),Xs)},movementY:function(r){return"movementY"in r?r.movementY:Pr}}),Ys=xt(Zi),Pa=se({},Zi,{dataTransfer:0}),eu=xt(Pa),Js=se({},Jn,{relatedTarget:0}),Zs=xt(Js),tu=se({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cr=xt(tu),nu=se({},bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ru=xt(nu),iu=se({},bn,{data:0}),Ca=xt(iu),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=su[r])?!!s[r]:!1}function Zn(){return ou}var c=se({},Jn,{key:function(r){if(r.key){var s=eo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zn,charCode:function(r){return r.type==="keypress"?Gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=xt(c),v=se({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=xt(v),L=se({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zn}),$=xt(L),te=se({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=xt(te),gt=se({},Zi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=xt(gt),Et=[9,13,27,32],ht=d&&"CompositionEvent"in window,wn=null;d&&"documentMode"in document&&(wn=document.documentMode);var hn=d&&"TextEvent"in window&&!wn,es=d&&(!ht||wn&&8<wn&&11>=wn),to=" ",Am=!1;function Pm(r,s){switch(r){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var no=!1;function f1(r,s){switch(r){case"compositionend":return Cm(s);case"keypress":return s.which!==32?null:(Am=!0,to);case"textInput":return r=s.data,r===to&&Am?null:r;default:return null}}function p1(r,s){if(no)return r==="compositionend"||!ht&&Pm(r,s)?(r=Ia(),Jt=Ws=cn=null,no=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return es&&s.locale!=="ko"?null:s.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!m1[r.type]:s==="textarea"}function km(r,s,a,h){Gn(h),s=hu(s,"onChange"),0<s.length&&(a=new Qs("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Ra=null,ka=null;function g1(r){Wm(r,0)}function au(r){var s=ao(r);if(xs(s))return r}function y1(r,s){if(r==="change")return s}var xm=!1;if(d){var Ah;if(d){var Ph="oninput"in document;if(!Ph){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),Ph=typeof Dm.oninput=="function"}Ah=Ph}else Ah=!1;xm=Ah&&(!document.documentMode||9<document.documentMode)}function Vm(){Ra&&(Ra.detachEvent("onpropertychange",Nm),ka=Ra=null)}function Nm(r){if(r.propertyName==="value"&&au(ka)){var s=[];km(s,ka,r,Ms(r)),ma(g1,s)}}function v1(r,s,a){r==="focusin"?(Vm(),Ra=s,ka=a,Ra.attachEvent("onpropertychange",Nm)):r==="focusout"&&Vm()}function _1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return au(ka)}function w1(r,s){if(r==="click")return au(s)}function T1(r,s){if(r==="input"||r==="change")return au(s)}function E1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Fn=typeof Object.is=="function"?Object.is:E1;function xa(r,s){if(Fn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var p=a[h];if(!f.call(s,p)||!Fn(r[p],s[p]))return!1}return!0}function Om(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Mm(r,s){var a=Om(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Om(a)}}function Lm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Lm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function bm(){for(var r=window,s=Kr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Kr(r.document)}return s}function Ch(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function S1(r){var s=bm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Lm(a.ownerDocument.documentElement,a)){if(h!==null&&Ch(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,g=Math.min(h.start,p);h=h.end===void 0?g:Math.min(h.end,p),!r.extend&&g>h&&(p=h,h=g,g=p),p=Mm(a,g);var w=Mm(a,h);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var I1=d&&"documentMode"in document&&11>=document.documentMode,ro=null,Rh=null,Da=null,kh=!1;function Fm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||ro==null||ro!==Kr(h)||(h=ro,"selectionStart"in h&&Ch(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Da&&xa(Da,h)||(Da=h,h=hu(Rh,"onSelect"),0<h.length&&(s=new Qs("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=ro)))}function lu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var io={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},xh={},Um={};d&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function uu(r){if(xh[r])return xh[r];if(!io[r])return r;var s=io[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Um)return xh[r]=s[a];return r}var jm=uu("animationend"),Bm=uu("animationiteration"),zm=uu("animationstart"),$m=uu("transitionend"),Hm=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(r,s){Hm.set(r,s),l(s,[r])}for(var Dh=0;Dh<qm.length;Dh++){var Vh=qm[Dh],A1=Vh.toLowerCase(),P1=Vh[0].toUpperCase()+Vh.slice(1);ri(A1,"on"+P1)}ri(jm,"onAnimationEnd"),ri(Bm,"onAnimationIteration"),ri(zm,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri($m,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function Km(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Ul(h,s,void 0,r),r.currentTarget=null}function Wm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],p=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var A=h[w],k=A.instance,z=A.currentTarget;if(A=A.listener,k!==g&&p.isPropagationStopped())break e;Km(p,A,z),g=k}else for(w=0;w<h.length;w++){if(A=h[w],k=A.instance,z=A.currentTarget,A=A.listener,k!==g&&p.isPropagationStopped())break e;Km(p,A,z),g=k}}}if(xn)throw r=ga,xn=!1,ga=null,r}function We(r,s){var a=s[jh];a===void 0&&(a=s[jh]=new Set);var h=r+"__bubble";a.has(h)||(Gm(s,r,2,!1),a.add(h))}function Nh(r,s,a){var h=0;s&&(h|=4),Gm(a,r,h,s)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Na(r){if(!r[cu]){r[cu]=!0,i.forEach(function(a){a!=="selectionchange"&&(C1.has(a)||Nh(a,!1,r),Nh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[cu]||(s[cu]=!0,Nh("selectionchange",!1,s))}}function Gm(r,s,a,h){switch(Sa(s)){case 1:var p=Ye;break;case 4:p=Sh;break;default:p=Ea}a=p.bind(null,s,a,r),p=void 0,!Fs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,a,{capture:!0,passive:p}):r.addEventListener(s,a,!0):p!==void 0?r.addEventListener(s,a,{passive:p}):r.addEventListener(s,a,!1)}function Oh(r,s,a,h,p){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var A=h.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(w===4)for(w=h.return;w!==null;){var k=w.tag;if((k===3||k===4)&&(k=w.stateNode.containerInfo,k===p||k.nodeType===8&&k.parentNode===p))return;w=w.return}for(;A!==null;){if(w=ts(A),w===null)return;if(k=w.tag,k===5||k===6){h=g=w;continue e}A=A.parentNode}}h=h.return}ma(function(){var z=g,G=Ms(a),X=[];e:{var W=Hm.get(r);if(W!==void 0){var oe=Qs,ce=r;switch(r){case"keypress":if(Gs(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":ce="focus",oe=Zs;break;case"focusout":ce="blur",oe=Zs;break;case"beforeblur":case"afterblur":oe=Zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=$;break;case jm:case Bm:case zm:oe=Cr;break;case $m:oe=ze;break;case"scroll":oe=Ih;break;case"wheel":oe=Ve;break;case"copy":case"cut":case"paste":oe=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=E}var he=(s&4)!==0,at=!he&&r==="scroll",b=he?W!==null?W+"Capture":null:W;he=[];for(var V=z,j;V!==null;){j=V;var J=j.stateNode;if(j.tag===5&&J!==null&&(j=J,b!==null&&(J=ot(V,b),J!=null&&he.push(Oa(V,J,j)))),at)break;V=V.return}0<he.length&&(W=new oe(W,ce,null,a,G),X.push({event:W,listeners:he}))}}if(!(s&7)){e:{if(W=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",W&&a!==zi&&(ce=a.relatedTarget||a.fromElement)&&(ts(ce)||ce[Rr]))break e;if((oe||W)&&(W=G.window===G?G:(W=G.ownerDocument)?W.defaultView||W.parentWindow:window,oe?(ce=a.relatedTarget||a.toElement,oe=z,ce=ce?ts(ce):null,ce!==null&&(at=Dn(ce),ce!==at||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=z),oe!==ce)){if(he=Ys,J="onMouseLeave",b="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(he=E,J="onPointerLeave",b="onPointerEnter",V="pointer"),at=oe==null?W:ao(oe),j=ce==null?W:ao(ce),W=new he(J,V+"leave",oe,a,G),W.target=at,W.relatedTarget=j,J=null,ts(G)===z&&(he=new he(b,V+"enter",ce,a,G),he.target=j,he.relatedTarget=at,J=he),at=J,oe&&ce)t:{for(he=oe,b=ce,V=0,j=he;j;j=so(j))V++;for(j=0,J=b;J;J=so(J))j++;for(;0<V-j;)he=so(he),V--;for(;0<j-V;)b=so(b),j--;for(;V--;){if(he===b||b!==null&&he===b.alternate)break t;he=so(he),b=so(b)}he=null}else he=null;oe!==null&&Qm(X,W,oe,he,!1),ce!==null&&at!==null&&Qm(X,at,ce,he,!0)}}e:{if(W=z?ao(z):window,oe=W.nodeName&&W.nodeName.toLowerCase(),oe==="select"||oe==="input"&&W.type==="file")var de=y1;else if(Rm(W))if(xm)de=T1;else{de=_1;var ge=v1}else(oe=W.nodeName)&&oe.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(de=w1);if(de&&(de=de(r,z))){km(X,de,a,G);break e}ge&&ge(r,W,z),r==="focusout"&&(ge=W._wrapperState)&&ge.controlled&&W.type==="number"&&Vs(W,"number",W.value)}switch(ge=z?ao(z):window,r){case"focusin":(Rm(ge)||ge.contentEditable==="true")&&(ro=ge,Rh=z,Da=null);break;case"focusout":Da=Rh=ro=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Fm(X,a,G);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":Fm(X,a,G)}var ye;if(ht)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else no?Pm(r,a)&&(Te="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(es&&a.locale!=="ko"&&(no||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&no&&(ye=Ia()):(cn=G,Ws="value"in cn?cn.value:cn.textContent,no=!0)),ge=hu(z,Te),0<ge.length&&(Te=new Ca(Te,r,null,a,G),X.push({event:Te,listeners:ge}),ye?Te.data=ye:(ye=Cm(a),ye!==null&&(Te.data=ye)))),(ye=hn?f1(r,a):p1(r,a))&&(z=hu(z,"onBeforeInput"),0<z.length&&(G=new Ca("onBeforeInput","beforeinput",null,a,G),X.push({event:G,listeners:z}),G.data=ye))}Wm(X,s)})}function Oa(r,s,a){return{instance:r,listener:s,currentTarget:a}}function hu(r,s){for(var a=s+"Capture",h=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=ot(r,a),g!=null&&h.unshift(Oa(r,g,p)),g=ot(r,s),g!=null&&h.push(Oa(r,g,p))),r=r.return}return h}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Qm(r,s,a,h,p){for(var g=s._reactName,w=[];a!==null&&a!==h;){var A=a,k=A.alternate,z=A.stateNode;if(k!==null&&k===h)break;A.tag===5&&z!==null&&(A=z,p?(k=ot(a,g),k!=null&&w.unshift(Oa(a,k,A))):p||(k=ot(a,g),k!=null&&w.push(Oa(a,k,A)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var R1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function Xm(r){return(typeof r=="string"?r:""+r).replace(R1,`
`).replace(k1,"")}function du(r,s,a){if(s=Xm(s),Xm(r)!==s&&a)throw Error(t(425))}function fu(){}var Mh=null,Lh=null;function bh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,x1=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(r){return Ym.resolve(null).then(r).catch(V1)}:Fh;function V1(r){setTimeout(function(){throw r})}function Uh(r,s){var a=s,h=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(h===0){r.removeChild(p),Ln(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=p}while(a);Ln(s)}function ii(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Jm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var oo=Math.random().toString(36).slice(2),er="__reactFiber$"+oo,Ma="__reactProps$"+oo,Rr="__reactContainer$"+oo,jh="__reactEvents$"+oo,N1="__reactListeners$"+oo,O1="__reactHandles$"+oo;function ts(r){var s=r[er];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Rr]||a[er]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Jm(r);r!==null;){if(a=r[er])return a;r=Jm(r)}return s}r=a,a=r.parentNode}return null}function La(r){return r=r[er]||r[Rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function pu(r){return r[Ma]||null}var Bh=[],lo=-1;function si(r){return{current:r}}function Ge(r){0>lo||(r.current=Bh[lo],Bh[lo]=null,lo--)}function Ke(r,s){lo++,Bh[lo]=r.current,r.current=s}var oi={},Lt=si(oi),Zt=si(!1),ns=oi;function uo(r,s){var a=r.type.contextTypes;if(!a)return oi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in a)p[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function en(r){return r=r.childContextTypes,r!=null}function mu(){Ge(Zt),Ge(Lt)}function Zm(r,s,a){if(Lt.current!==oi)throw Error(t(168));Ke(Lt,s),Ke(Zt,a)}function eg(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Ue(r)||"Unknown",p));return se({},a,h)}function gu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||oi,ns=Lt.current,Ke(Lt,r),Ke(Zt,Zt.current),!0}function tg(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=eg(r,s,ns),h.__reactInternalMemoizedMergedChildContext=r,Ge(Zt),Ge(Lt),Ke(Lt,r)):Ge(Zt),Ke(Zt,a)}var kr=null,yu=!1,zh=!1;function ng(r){kr===null?kr=[r]:kr.push(r)}function M1(r){yu=!0,ng(r)}function ai(){if(!zh&&kr!==null){zh=!0;var r=0,s=xe;try{var a=kr;for(xe=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}kr=null,yu=!1}catch(p){throw kr!==null&&(kr=kr.slice(r+1)),zs(Wi,ai),p}finally{xe=s,zh=!1}}return null}var co=[],ho=0,vu=null,_u=0,Tn=[],En=0,rs=null,xr=1,Dr="";function is(r,s){co[ho++]=_u,co[ho++]=vu,vu=r,_u=s}function rg(r,s,a){Tn[En++]=xr,Tn[En++]=Dr,Tn[En++]=rs,rs=r;var h=xr;r=Dr;var p=32-Kt(h)-1;h&=~(1<<p),a+=1;var g=32-Kt(s)+p;if(30<g){var w=p-p%5;g=(h&(1<<w)-1).toString(32),h>>=w,p-=w,xr=1<<32-Kt(s)+p|a<<p|h,Dr=g+r}else xr=1<<g|a<<p|h,Dr=r}function $h(r){r.return!==null&&(is(r,1),rg(r,1,0))}function Hh(r){for(;r===vu;)vu=co[--ho],co[ho]=null,_u=co[--ho],co[ho]=null;for(;r===rs;)rs=Tn[--En],Tn[En]=null,Dr=Tn[--En],Tn[En]=null,xr=Tn[--En],Tn[En]=null}var dn=null,fn=null,Je=!1,Un=null;function ig(r,s){var a=Pn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function sg(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,dn=r,fn=ii(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,dn=r,fn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=rs!==null?{id:xr,overflow:Dr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Pn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,dn=r,fn=null,!0):!1;default:return!1}}function qh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Kh(r){if(Je){var s=fn;if(s){var a=s;if(!sg(r,s)){if(qh(r))throw Error(t(418));s=ii(a.nextSibling);var h=dn;s&&sg(r,s)?ig(h,a):(r.flags=r.flags&-4097|2,Je=!1,dn=r)}}else{if(qh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Je=!1,dn=r}}}function og(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function wu(r){if(r!==dn)return!1;if(!Je)return og(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!bh(r.type,r.memoizedProps)),s&&(s=fn)){if(qh(r))throw ag(),Error(t(418));for(;s;)ig(r,s),s=ii(s.nextSibling)}if(og(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){fn=ii(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}fn=null}}else fn=dn?ii(r.stateNode.nextSibling):null;return!0}function ag(){for(var r=fn;r;)r=ii(r.nextSibling)}function fo(){fn=dn=null,Je=!1}function Wh(r){Un===null?Un=[r]:Un.push(r)}var L1=ne.ReactCurrentBatchConfig;function ba(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var p=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var A=p.refs;w===null?delete A[g]:A[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Tu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function lg(r){var s=r._init;return s(r._payload)}function ug(r){function s(b,V){if(r){var j=b.deletions;j===null?(b.deletions=[V],b.flags|=16):j.push(V)}}function a(b,V){if(!r)return null;for(;V!==null;)s(b,V),V=V.sibling;return null}function h(b,V){for(b=new Map;V!==null;)V.key!==null?b.set(V.key,V):b.set(V.index,V),V=V.sibling;return b}function p(b,V){return b=mi(b,V),b.index=0,b.sibling=null,b}function g(b,V,j){return b.index=j,r?(j=b.alternate,j!==null?(j=j.index,j<V?(b.flags|=2,V):j):(b.flags|=2,V)):(b.flags|=1048576,V)}function w(b){return r&&b.alternate===null&&(b.flags|=2),b}function A(b,V,j,J){return V===null||V.tag!==6?(V=Fd(j,b.mode,J),V.return=b,V):(V=p(V,j),V.return=b,V)}function k(b,V,j,J){var de=j.type;return de===x?G(b,V,j.props.children,J,j.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Rt&&lg(de)===V.type)?(J=p(V,j.props),J.ref=ba(b,V,j),J.return=b,J):(J=qu(j.type,j.key,j.props,null,b.mode,J),J.ref=ba(b,V,j),J.return=b,J)}function z(b,V,j,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Ud(j,b.mode,J),V.return=b,V):(V=p(V,j.children||[]),V.return=b,V)}function G(b,V,j,J,de){return V===null||V.tag!==7?(V=ds(j,b.mode,J,de),V.return=b,V):(V=p(V,j),V.return=b,V)}function X(b,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Fd(""+V,b.mode,j),V.return=b,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ie:return j=qu(V.type,V.key,V.props,null,b.mode,j),j.ref=ba(b,null,V),j.return=b,j;case ae:return V=Ud(V,b.mode,j),V.return=b,V;case Rt:var J=V._init;return X(b,J(V._payload),j)}if(_r(V)||fe(V))return V=ds(V,b.mode,j,null),V.return=b,V;Tu(b,V)}return null}function W(b,V,j,J){var de=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return de!==null?null:A(b,V,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ie:return j.key===de?k(b,V,j,J):null;case ae:return j.key===de?z(b,V,j,J):null;case Rt:return de=j._init,W(b,V,de(j._payload),J)}if(_r(j)||fe(j))return de!==null?null:G(b,V,j,J,null);Tu(b,j)}return null}function oe(b,V,j,J,de){if(typeof J=="string"&&J!==""||typeof J=="number")return b=b.get(j)||null,A(V,b,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case ie:return b=b.get(J.key===null?j:J.key)||null,k(V,b,J,de);case ae:return b=b.get(J.key===null?j:J.key)||null,z(V,b,J,de);case Rt:var ge=J._init;return oe(b,V,j,ge(J._payload),de)}if(_r(J)||fe(J))return b=b.get(j)||null,G(V,b,J,de,null);Tu(V,J)}return null}function ce(b,V,j,J){for(var de=null,ge=null,ye=V,Te=V=0,At=null;ye!==null&&Te<j.length;Te++){ye.index>Te?(At=ye,ye=null):At=ye.sibling;var Fe=W(b,ye,j[Te],J);if(Fe===null){ye===null&&(ye=At);break}r&&ye&&Fe.alternate===null&&s(b,ye),V=g(Fe,V,Te),ge===null?de=Fe:ge.sibling=Fe,ge=Fe,ye=At}if(Te===j.length)return a(b,ye),Je&&is(b,Te),de;if(ye===null){for(;Te<j.length;Te++)ye=X(b,j[Te],J),ye!==null&&(V=g(ye,V,Te),ge===null?de=ye:ge.sibling=ye,ge=ye);return Je&&is(b,Te),de}for(ye=h(b,ye);Te<j.length;Te++)At=oe(ye,b,Te,j[Te],J),At!==null&&(r&&At.alternate!==null&&ye.delete(At.key===null?Te:At.key),V=g(At,V,Te),ge===null?de=At:ge.sibling=At,ge=At);return r&&ye.forEach(function(gi){return s(b,gi)}),Je&&is(b,Te),de}function he(b,V,j,J){var de=fe(j);if(typeof de!="function")throw Error(t(150));if(j=de.call(j),j==null)throw Error(t(151));for(var ge=de=null,ye=V,Te=V=0,At=null,Fe=j.next();ye!==null&&!Fe.done;Te++,Fe=j.next()){ye.index>Te?(At=ye,ye=null):At=ye.sibling;var gi=W(b,ye,Fe.value,J);if(gi===null){ye===null&&(ye=At);break}r&&ye&&gi.alternate===null&&s(b,ye),V=g(gi,V,Te),ge===null?de=gi:ge.sibling=gi,ge=gi,ye=At}if(Fe.done)return a(b,ye),Je&&is(b,Te),de;if(ye===null){for(;!Fe.done;Te++,Fe=j.next())Fe=X(b,Fe.value,J),Fe!==null&&(V=g(Fe,V,Te),ge===null?de=Fe:ge.sibling=Fe,ge=Fe);return Je&&is(b,Te),de}for(ye=h(b,ye);!Fe.done;Te++,Fe=j.next())Fe=oe(ye,b,Te,Fe.value,J),Fe!==null&&(r&&Fe.alternate!==null&&ye.delete(Fe.key===null?Te:Fe.key),V=g(Fe,V,Te),ge===null?de=Fe:ge.sibling=Fe,ge=Fe);return r&&ye.forEach(function(pS){return s(b,pS)}),Je&&is(b,Te),de}function at(b,V,j,J){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ie:e:{for(var de=j.key,ge=V;ge!==null;){if(ge.key===de){if(de=j.type,de===x){if(ge.tag===7){a(b,ge.sibling),V=p(ge,j.props.children),V.return=b,b=V;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Rt&&lg(de)===ge.type){a(b,ge.sibling),V=p(ge,j.props),V.ref=ba(b,ge,j),V.return=b,b=V;break e}a(b,ge);break}else s(b,ge);ge=ge.sibling}j.type===x?(V=ds(j.props.children,b.mode,J,j.key),V.return=b,b=V):(J=qu(j.type,j.key,j.props,null,b.mode,J),J.ref=ba(b,V,j),J.return=b,b=J)}return w(b);case ae:e:{for(ge=j.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(b,V.sibling),V=p(V,j.children||[]),V.return=b,b=V;break e}else{a(b,V);break}else s(b,V);V=V.sibling}V=Ud(j,b.mode,J),V.return=b,b=V}return w(b);case Rt:return ge=j._init,at(b,V,ge(j._payload),J)}if(_r(j))return ce(b,V,j,J);if(fe(j))return he(b,V,j,J);Tu(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,V!==null&&V.tag===6?(a(b,V.sibling),V=p(V,j),V.return=b,b=V):(a(b,V),V=Fd(j,b.mode,J),V.return=b,b=V),w(b)):a(b,V)}return at}var po=ug(!0),cg=ug(!1),Eu=si(null),Su=null,mo=null,Gh=null;function Qh(){Gh=mo=Su=null}function Xh(r){var s=Eu.current;Ge(Eu),r._currentValue=s}function Yh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function go(r,s){Su=r,Gh=mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(tn=!0),r.firstContext=null)}function Sn(r){var s=r._currentValue;if(Gh!==r)if(r={context:r,memoizedValue:s,next:null},mo===null){if(Su===null)throw Error(t(308));mo=r,Su.dependencies={lanes:0,firstContext:r}}else mo=mo.next=r;return s}var ss=null;function Jh(r){ss===null?ss=[r]:ss.push(r)}function hg(r,s,a,h){var p=s.interleaved;return p===null?(a.next=a,Jh(s)):(a.next=p.next,p.next=a),s.interleaved=a,Vr(r,h)}function Vr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var li=!1;function Zh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Nr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ui(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Le&2){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Vr(r,a)}return p=h.interleaved,p===null?(s.next=s,Jh(h)):(s.next=p.next,p.next=s),h.interleaved=s,Vr(r,a)}function Iu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Jr(r,a)}}function fg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?p=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?p=g=s:g=g.next=s}else p=g=s;a={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Au(r,s,a,h){var p=r.updateQueue;li=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var k=A,z=k.next;k.next=null,w===null?g=z:w.next=z,w=k;var G=r.alternate;G!==null&&(G=G.updateQueue,A=G.lastBaseUpdate,A!==w&&(A===null?G.firstBaseUpdate=z:A.next=z,G.lastBaseUpdate=k))}if(g!==null){var X=p.baseState;w=0,G=z=k=null,A=g;do{var W=A.lane,oe=A.eventTime;if((h&W)===W){G!==null&&(G=G.next={eventTime:oe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ce=r,he=A;switch(W=s,oe=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){X=ce.call(oe,X,W);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,W=typeof ce=="function"?ce.call(oe,X,W):ce,W==null)break e;X=se({},X,W);break e;case 2:li=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,W=p.effects,W===null?p.effects=[A]:W.push(A))}else oe={eventTime:oe,lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},G===null?(z=G=oe,k=X):G=G.next=oe,w|=W;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;W=A,A=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);if(G===null&&(k=X),p.baseState=k,p.firstBaseUpdate=z,p.lastBaseUpdate=G,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);ls|=w,r.lanes=w,r.memoizedState=X}}function pg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=a,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Fa={},tr=si(Fa),Ua=si(Fa),ja=si(Fa);function os(r){if(r===Fa)throw Error(t(174));return r}function ed(r,s){switch(Ke(ja,s),Ke(Ua,r),Ke(tr,Fa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=mt(s,r)}Ge(tr),Ke(tr,s)}function yo(){Ge(tr),Ge(Ua),Ge(ja)}function mg(r){os(ja.current);var s=os(tr.current),a=mt(s,r.type);s!==a&&(Ke(Ua,r),Ke(tr,a))}function td(r){Ua.current===r&&(Ge(tr),Ge(Ua))}var Ze=si(0);function Pu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nd=[];function rd(){for(var r=0;r<nd.length;r++)nd[r]._workInProgressVersionPrimary=null;nd.length=0}var Cu=ne.ReactCurrentDispatcher,id=ne.ReactCurrentBatchConfig,as=0,et=null,yt=null,St=null,Ru=!1,Ba=!1,za=0,b1=0;function bt(){throw Error(t(321))}function sd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Fn(r[a],s[a]))return!1;return!0}function od(r,s,a,h,p,g){if(as=g,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Cu.current=r===null||r.memoizedState===null?B1:z1,r=a(h,p),Ba){g=0;do{if(Ba=!1,za=0,25<=g)throw Error(t(301));g+=1,St=yt=null,s.updateQueue=null,Cu.current=$1,r=a(h,p)}while(Ba)}if(Cu.current=Du,s=yt!==null&&yt.next!==null,as=0,St=yt=et=null,Ru=!1,s)throw Error(t(300));return r}function ad(){var r=za!==0;return za=0,r}function nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?et.memoizedState=St=r:St=St.next=r,St}function In(){if(yt===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=St===null?et.memoizedState:St.next;if(s!==null)St=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},St===null?et.memoizedState=St=r:St=St.next=r}return St}function $a(r,s){return typeof s=="function"?s(r):s}function ld(r){var s=In(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=yt,p=h.baseQueue,g=a.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}h.baseQueue=p=g,a.pending=null}if(p!==null){g=p.next,h=h.baseState;var A=w=null,k=null,z=g;do{var G=z.lane;if((as&G)===G)k!==null&&(k=k.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var X={lane:G,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};k===null?(A=k=X,w=h):k=k.next=X,et.lanes|=G,ls|=G}z=z.next}while(z!==null&&z!==g);k===null?w=h:k.next=A,Fn(h,s.memoizedState)||(tn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=k,a.lastRenderedState=h}if(r=a.interleaved,r!==null){p=r;do g=p.lane,et.lanes|=g,ls|=g,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function ud(r){var s=In(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,p=a.pending,g=s.memoizedState;if(p!==null){a.pending=null;var w=p=p.next;do g=r(g,w.action),w=w.next;while(w!==p);Fn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function gg(){}function yg(r,s){var a=et,h=In(),p=s(),g=!Fn(h.memoizedState,p);if(g&&(h.memoizedState=p,tn=!0),h=h.queue,cd(wg.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,Ha(9,_g.bind(null,a,h,p,s),void 0,null),It===null)throw Error(t(349));as&30||vg(a,s,p)}return p}function vg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function _g(r,s,a,h){s.value=a,s.getSnapshot=h,Tg(s)&&Eg(r)}function wg(r,s,a){return a(function(){Tg(s)&&Eg(r)})}function Tg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Fn(r,a)}catch{return!0}}function Eg(r){var s=Vr(r,1);s!==null&&$n(s,r,1,-1)}function Sg(r){var s=nr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:r},s.queue=r,r=r.dispatch=j1.bind(null,et,r),[s.memoizedState,r]}function Ha(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Ig(){return In().memoizedState}function ku(r,s,a,h){var p=nr();et.flags|=r,p.memoizedState=Ha(1|s,a,void 0,h===void 0?null:h)}function xu(r,s,a,h){var p=In();h=h===void 0?null:h;var g=void 0;if(yt!==null){var w=yt.memoizedState;if(g=w.destroy,h!==null&&sd(h,w.deps)){p.memoizedState=Ha(s,a,g,h);return}}et.flags|=r,p.memoizedState=Ha(1|s,a,g,h)}function Ag(r,s){return ku(8390656,8,r,s)}function cd(r,s){return xu(2048,8,r,s)}function Pg(r,s){return xu(4,2,r,s)}function Cg(r,s){return xu(4,4,r,s)}function Rg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function kg(r,s,a){return a=a!=null?a.concat([r]):null,xu(4,4,Rg.bind(null,s,r),a)}function hd(){}function xg(r,s){var a=In();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&sd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Dg(r,s){var a=In();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&sd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Vg(r,s,a){return as&21?(Fn(a,s)||(a=Xi(),et.lanes|=a,ls|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=a)}function F1(r,s){var a=xe;xe=a!==0&&4>a?a:4,r(!0);var h=id.transition;id.transition={};try{r(!1),s()}finally{xe=a,id.transition=h}}function Ng(){return In().memoizedState}function U1(r,s,a){var h=fi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Og(r))Mg(s,a);else if(a=hg(r,s,a,h),a!==null){var p=Qt();$n(a,r,h,p),Lg(a,s,h)}}function j1(r,s,a){var h=fi(r),p={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Og(r))Mg(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,a);if(p.hasEagerState=!0,p.eagerState=A,Fn(A,w)){var k=s.interleaved;k===null?(p.next=p,Jh(s)):(p.next=k.next,k.next=p),s.interleaved=p;return}}catch{}finally{}a=hg(r,s,p,h),a!==null&&(p=Qt(),$n(a,r,h,p),Lg(a,s,h))}}function Og(r){var s=r.alternate;return r===et||s!==null&&s===et}function Mg(r,s){Ba=Ru=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Lg(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Jr(r,a)}}var Du={readContext:Sn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},B1={readContext:Sn,useCallback:function(r,s){return nr().memoizedState=[r,s===void 0?null:s],r},useContext:Sn,useEffect:Ag,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,ku(4194308,4,Rg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return ku(4194308,4,r,s)},useInsertionEffect:function(r,s){return ku(4,2,r,s)},useMemo:function(r,s){var a=nr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=nr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=U1.bind(null,et,r),[h.memoizedState,r]},useRef:function(r){var s=nr();return r={current:r},s.memoizedState=r},useState:Sg,useDebugValue:hd,useDeferredValue:function(r){return nr().memoizedState=r},useTransition:function(){var r=Sg(!1),s=r[0];return r=F1.bind(null,r[1]),nr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=et,p=nr();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));as&30||vg(h,s,a)}p.memoizedState=a;var g={value:a,getSnapshot:s};return p.queue=g,Ag(wg.bind(null,h,g,r),[r]),h.flags|=2048,Ha(9,_g.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=nr(),s=It.identifierPrefix;if(Je){var a=Dr,h=xr;a=(h&~(1<<32-Kt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=za++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=b1++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},z1={readContext:Sn,useCallback:xg,useContext:Sn,useEffect:cd,useImperativeHandle:kg,useInsertionEffect:Pg,useLayoutEffect:Cg,useMemo:Dg,useReducer:ld,useRef:Ig,useState:function(){return ld($a)},useDebugValue:hd,useDeferredValue:function(r){var s=In();return Vg(s,yt.memoizedState,r)},useTransition:function(){var r=ld($a)[0],s=In().memoizedState;return[r,s]},useMutableSource:gg,useSyncExternalStore:yg,useId:Ng,unstable_isNewReconciler:!1},$1={readContext:Sn,useCallback:xg,useContext:Sn,useEffect:cd,useImperativeHandle:kg,useInsertionEffect:Pg,useLayoutEffect:Cg,useMemo:Dg,useReducer:ud,useRef:Ig,useState:function(){return ud($a)},useDebugValue:hd,useDeferredValue:function(r){var s=In();return yt===null?s.memoizedState=r:Vg(s,yt.memoizedState,r)},useTransition:function(){var r=ud($a)[0],s=In().memoizedState;return[r,s]},useMutableSource:gg,useSyncExternalStore:yg,useId:Ng,unstable_isNewReconciler:!1};function jn(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function dd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:se({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Vu={isMounted:function(r){return(r=r._reactInternals)?Dn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Qt(),p=fi(r),g=Nr(h,p);g.payload=s,a!=null&&(g.callback=a),s=ui(r,g,p),s!==null&&($n(s,r,p,h),Iu(s,r,p))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Qt(),p=fi(r),g=Nr(h,p);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ui(r,g,p),s!==null&&($n(s,r,p,h),Iu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Qt(),h=fi(r),p=Nr(a,h);p.tag=2,s!=null&&(p.callback=s),s=ui(r,p,h),s!==null&&($n(s,r,h,a),Iu(s,r,h))}};function bg(r,s,a,h,p,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!xa(a,h)||!xa(p,g):!0}function Fg(r,s,a){var h=!1,p=oi,g=s.contextType;return typeof g=="object"&&g!==null?g=Sn(g):(p=en(s)?ns:Lt.current,h=s.contextTypes,g=(h=h!=null)?uo(r,p):oi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Vu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ug(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Vu.enqueueReplaceState(s,s.state,null)}function fd(r,s,a,h){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},Zh(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=Sn(g):(g=en(s)?ns:Lt.current,p.context=uo(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(dd(r,s,g,a),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Vu.enqueueReplaceState(p,p.state,null),Au(r,a,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function vo(r,s){try{var a="",h=s;do a+=Ce(h),h=h.return;while(h);var p=a}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function pd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function md(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var H1=typeof WeakMap=="function"?WeakMap:Map;function jg(r,s,a){a=Nr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Uu||(Uu=!0,xd=h),md(r,s)},a}function Bg(r,s,a){a=Nr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;a.payload=function(){return h(p)},a.callback=function(){md(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){md(r,s),typeof h!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function zg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new H1;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(a)||(p.add(a),r=iS.bind(null,r,s,a),s.then(r,r))}function $g(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Hg(r,s,a,h,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Nr(-1,1),s.tag=2,ui(a,s,1))),a.lanes|=1),r)}var q1=ne.ReactCurrentOwner,tn=!1;function Gt(r,s,a,h){s.child=r===null?cg(s,null,a,h):po(s,r.child,a,h)}function qg(r,s,a,h,p){a=a.render;var g=s.ref;return go(s,p),h=od(r,s,a,h,g,p),a=ad(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Or(r,s,p)):(Je&&a&&$h(s),s.flags|=1,Gt(r,s,h,p),s.child)}function Kg(r,s,a,h,p){if(r===null){var g=a.type;return typeof g=="function"&&!bd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Wg(r,s,g,h,p)):(r=qu(a.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&p)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:xa,a(w,h)&&r.ref===s.ref)return Or(r,s,p)}return s.flags|=1,r=mi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Wg(r,s,a,h,p){if(r!==null){var g=r.memoizedProps;if(xa(g,h)&&r.ref===s.ref)if(tn=!1,s.pendingProps=h=g,(r.lanes&p)!==0)r.flags&131072&&(tn=!0);else return s.lanes=r.lanes,Or(r,s,p)}return gd(r,s,a,h,p)}function Gg(r,s,a){var h=s.pendingProps,p=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(wo,pn),pn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(wo,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ke(wo,pn),pn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Ke(wo,pn),pn|=h;return Gt(r,s,p,a),s.child}function Qg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function gd(r,s,a,h,p){var g=en(a)?ns:Lt.current;return g=uo(s,g),go(s,p),a=od(r,s,a,h,g,p),h=ad(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Or(r,s,p)):(Je&&h&&$h(s),s.flags|=1,Gt(r,s,a,p),s.child)}function Xg(r,s,a,h,p){if(en(a)){var g=!0;gu(s)}else g=!1;if(go(s,p),s.stateNode===null)Ou(r,s),Fg(s,a,h),fd(s,a,h,p),h=!0;else if(r===null){var w=s.stateNode,A=s.memoizedProps;w.props=A;var k=w.context,z=a.contextType;typeof z=="object"&&z!==null?z=Sn(z):(z=en(a)?ns:Lt.current,z=uo(s,z));var G=a.getDerivedStateFromProps,X=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function";X||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==h||k!==z)&&Ug(s,w,h,z),li=!1;var W=s.memoizedState;w.state=W,Au(s,h,w,p),k=s.memoizedState,A!==h||W!==k||Zt.current||li?(typeof G=="function"&&(dd(s,a,G,h),k=s.memoizedState),(A=li||bg(s,a,A,h,W,k,z))?(X||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),w.props=h,w.state=k,w.context=z,h=A):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,dg(r,s),A=s.memoizedProps,z=s.type===s.elementType?A:jn(s.type,A),w.props=z,X=s.pendingProps,W=w.context,k=a.contextType,typeof k=="object"&&k!==null?k=Sn(k):(k=en(a)?ns:Lt.current,k=uo(s,k));var oe=a.getDerivedStateFromProps;(G=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==X||W!==k)&&Ug(s,w,h,k),li=!1,W=s.memoizedState,w.state=W,Au(s,h,w,p);var ce=s.memoizedState;A!==X||W!==ce||Zt.current||li?(typeof oe=="function"&&(dd(s,a,oe,h),ce=s.memoizedState),(z=li||bg(s,a,z,h,W,ce,k)||!1)?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ce,k),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ce,k)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ce),w.props=h,w.state=ce,w.context=k,h=z):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),h=!1)}return yd(r,s,a,h,g,p)}function yd(r,s,a,h,p,g){Qg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return p&&tg(s,a,!1),Or(r,s,g);h=s.stateNode,q1.current=s;var A=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=po(s,r.child,null,g),s.child=po(s,null,A,g)):Gt(r,s,A,g),s.memoizedState=h.state,p&&tg(s,a,!0),s.child}function Yg(r){var s=r.stateNode;s.pendingContext?Zm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Zm(r,s.context,!1),ed(r,s.containerInfo)}function Jg(r,s,a,h,p){return fo(),Wh(p),s.flags|=256,Gt(r,s,a,h),s.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function _d(r){return{baseLanes:r,cachePool:null,transitions:null}}function Zg(r,s,a){var h=s.pendingProps,p=Ze.current,g=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(p&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ke(Ze,p&1),r===null)return Kh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Ku(w,h,0,null),r=ds(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=_d(a),s.memoizedState=vd,r):wd(s,w));if(p=r.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return K1(r,s,w,h,A,p,a);if(g){g=h.fallback,w=s.mode,p=r.child,A=p.sibling;var k={mode:"hidden",children:h.children};return!(w&1)&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=mi(p,k),h.subtreeFlags=p.subtreeFlags&14680064),A!==null?g=mi(A,g):(g=ds(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?_d(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=vd,h}return g=r.child,r=g.sibling,h=mi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function wd(r,s){return s=Ku({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Nu(r,s,a,h){return h!==null&&Wh(h),po(s,r.child,null,a),r=wd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function K1(r,s,a,h,p,g,w){if(a)return s.flags&256?(s.flags&=-257,h=pd(Error(t(422))),Nu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,p=s.mode,h=Ku({mode:"visible",children:h.children},p,0,null),g=ds(g,p,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&po(s,r.child,null,w),s.child.memoizedState=_d(w),s.memoizedState=vd,g);if(!(s.mode&1))return Nu(r,s,w,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var A=h.dgst;return h=A,g=Error(t(419)),h=pd(g,h,void 0),Nu(r,s,w,h)}if(A=(w&r.childLanes)!==0,tn||A){if(h=It,h!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|w)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Vr(r,p),$n(h,r,p,-1))}return Ld(),h=pd(Error(t(421))),Nu(r,s,w,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=sS.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,fn=ii(p.nextSibling),dn=s,Je=!0,Un=null,r!==null&&(Tn[En++]=xr,Tn[En++]=Dr,Tn[En++]=rs,xr=r.id,Dr=r.overflow,rs=s),s=wd(s,h.children),s.flags|=4096,s)}function ey(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Yh(r.return,s,a)}function Td(r,s,a,h,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=p)}function ty(r,s,a){var h=s.pendingProps,p=h.revealOrder,g=h.tail;if(Gt(r,s,h.children,a),h=Ze.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ey(r,a,s);else if(r.tag===19)ey(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(Ze,h),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)r=a.alternate,r!==null&&Pu(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),Td(s,!1,p,a,g);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Pu(r)===null){s.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Td(s,!0,a,null,g);break;case"together":Td(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ou(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Or(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ls|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=mi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=mi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function W1(r,s,a){switch(s.tag){case 3:Yg(s),fo();break;case 5:mg(s);break;case 1:en(s.type)&&gu(s);break;case 4:ed(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Ke(Eu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(Ze,Ze.current&1),s.flags|=128,null):a&s.child.childLanes?Zg(r,s,a):(Ke(Ze,Ze.current&1),r=Or(r,s,a),r!==null?r.sibling:null);Ke(Ze,Ze.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return ty(r,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(Ze,Ze.current),h)break;return null;case 22:case 23:return s.lanes=0,Gg(r,s,a)}return Or(r,s,a)}var ny,Ed,ry,iy;ny=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ed=function(){},ry=function(r,s,a,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,os(tr.current);var g=null;switch(a){case"input":p=Ui(r,p),h=Ui(r,h),g=[];break;case"select":p=se({},p,{value:void 0}),h=se({},h,{value:void 0}),g=[];break;case"textarea":p=sa(r,p),h=sa(r,h),g=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=fu)}ha(a,h);var w;a=null;for(z in p)if(!h.hasOwnProperty(z)&&p.hasOwnProperty(z)&&p[z]!=null)if(z==="style"){var A=p[z];for(w in A)A.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var k=h[z];if(A=p!=null?p[z]:void 0,h.hasOwnProperty(z)&&k!==A&&(k!=null||A!=null))if(z==="style")if(A){for(w in A)!A.hasOwnProperty(w)||k&&k.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in k)k.hasOwnProperty(w)&&A[w]!==k[w]&&(a||(a={}),a[w]=k[w])}else a||(g||(g=[]),g.push(z,a)),a=k;else z==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,A=A?A.__html:void 0,k!=null&&A!==k&&(g=g||[]).push(z,k)):z==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push(z,""+k):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(k!=null&&z==="onScroll"&&We("scroll",r),g||A===k||(g=[])):(g=g||[]).push(z,k))}a&&(g=g||[]).push("style",a);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},iy=function(r,s,a,h){a!==h&&(s.flags|=4)};function qa(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function G1(r,s,a){var h=s.pendingProps;switch(Hh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return en(s.type)&&mu(),Ft(s),null;case 3:return h=s.stateNode,yo(),Ge(Zt),Ge(Lt),rd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(wu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Un!==null&&(Nd(Un),Un=null))),Ed(r,s),Ft(s),null;case 5:td(s);var p=os(ja.current);if(a=s.type,r!==null&&s.stateNode!=null)ry(r,s,a,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(r=os(tr.current),wu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[er]=s,h[Ma]=g,r=(s.mode&1)!==0,a){case"dialog":We("cancel",h),We("close",h);break;case"iframe":case"object":case"embed":We("load",h);break;case"video":case"audio":for(p=0;p<Va.length;p++)We(Va[p],h);break;case"source":We("error",h);break;case"img":case"image":case"link":We("error",h),We("load",h);break;case"details":We("toggle",h);break;case"input":Ds(h,g),We("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},We("invalid",h);break;case"textarea":Ns(h,g),We("invalid",h)}ha(a,g),p=null;for(var w in g)if(g.hasOwnProperty(w)){var A=g[w];w==="children"?typeof A=="string"?h.textContent!==A&&(g.suppressHydrationWarning!==!0&&du(h.textContent,A,r),p=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&du(h.textContent,A,r),p=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&We("scroll",h)}switch(a){case"input":vr(h),Fl(h,g,!0);break;case"textarea":vr(h),oa(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=fu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[er]=s,r[Ma]=h,ny(r,s,!1,!1),s.stateNode=r;e:{switch(w=da(a,h),a){case"dialog":We("cancel",r),We("close",r),p=h;break;case"iframe":case"object":case"embed":We("load",r),p=h;break;case"video":case"audio":for(p=0;p<Va.length;p++)We(Va[p],r);p=h;break;case"source":We("error",r),p=h;break;case"img":case"image":case"link":We("error",r),We("load",r),p=h;break;case"details":We("toggle",r),p=h;break;case"input":Ds(r,h),p=Ui(r,h),We("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=se({},h,{value:void 0}),We("invalid",r);break;case"textarea":Ns(r,h),p=sa(r,h),We("invalid",r);break;default:p=h}ha(a,p),A=p;for(g in A)if(A.hasOwnProperty(g)){var k=A[g];g==="style"?ua(r,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&aa(r,k)):g==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&Wr(r,k):typeof k=="number"&&Wr(r,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?k!=null&&g==="onScroll"&&We("scroll",r):k!=null&&Q(r,g,k,w))}switch(a){case"input":vr(r),Fl(r,h,!1);break;case"textarea":vr(r),oa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+je(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?wr(r,!!h.multiple,g,!1):h.defaultValue!=null&&wr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=fu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)iy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=os(ja.current),os(tr.current),wu(s)){if(h=s.stateNode,a=s.memoizedProps,h[er]=s,(g=h.nodeValue!==a)&&(r=dn,r!==null))switch(r.tag){case 3:du(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&du(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[er]=s,s.stateNode=h}return Ft(s),null;case 13:if(Ge(Ze),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&fn!==null&&s.mode&1&&!(s.flags&128))ag(),fo(),s.flags|=98560,g=!1;else if(g=wu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[er]=s}else fo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ft(s),g=!1}else Un!==null&&(Nd(Un),Un=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||Ze.current&1?vt===0&&(vt=3):Ld())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return yo(),Ed(r,s),r===null&&Na(s.stateNode.containerInfo),Ft(s),null;case 10:return Xh(s.type._context),Ft(s),null;case 17:return en(s.type)&&mu(),Ft(s),null;case 19:if(Ge(Ze),g=s.memoizedState,g===null)return Ft(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)qa(g,!1);else{if(vt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Pu(r),w!==null){for(s.flags|=128,qa(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(Ze,Ze.current&1|2),s.child}r=r.sibling}g.tail!==null&&qe()>To&&(s.flags|=128,h=!0,qa(g,!1),s.lanes=4194304)}else{if(!h)if(r=Pu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),qa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Je)return Ft(s),null}else 2*qe()-g.renderingStartTime>To&&a!==1073741824&&(s.flags|=128,h=!0,qa(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=qe(),s.sibling=null,a=Ze.current,Ke(Ze,h?a&1|2:a&1),s):(Ft(s),null);case 22:case 23:return Md(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?pn&1073741824&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Q1(r,s){switch(Hh(s),s.tag){case 1:return en(s.type)&&mu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return yo(),Ge(Zt),Ge(Lt),rd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return td(s),null;case 13:if(Ge(Ze),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ge(Ze),null;case 4:return yo(),null;case 10:return Xh(s.type._context),null;case 22:case 23:return Md(),null;case 24:return null;default:return null}}var Mu=!1,Ut=!1,X1=typeof WeakSet=="function"?WeakSet:Set,ue=null;function _o(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){rt(r,s,h)}else a.current=null}function Sd(r,s,a){try{a()}catch(h){rt(r,s,h)}}var sy=!1;function Y1(r,s){if(Mh=ti,r=bm(),Ch(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var p=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,A=-1,k=-1,z=0,G=0,X=r,W=null;t:for(;;){for(var oe;X!==a||p!==0&&X.nodeType!==3||(A=w+p),X!==g||h!==0&&X.nodeType!==3||(k=w+h),X.nodeType===3&&(w+=X.nodeValue.length),(oe=X.firstChild)!==null;)W=X,X=oe;for(;;){if(X===r)break t;if(W===a&&++z===p&&(A=w),W===g&&++G===h&&(k=w),(oe=X.nextSibling)!==null)break;X=W,W=X.parentNode}X=oe}a=A===-1||k===-1?null:{start:A,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lh={focusedElem:r,selectionRange:a},ti=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,at=ce.memoizedState,b=s.stateNode,V=b.getSnapshotBeforeUpdate(s.elementType===s.type?he:jn(s.type,he),at);b.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){rt(s,s.return,J)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return ce=sy,sy=!1,ce}function Ka(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&Sd(s,a,g)}p=p.next}while(p!==h)}}function Lu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Id(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function oy(r){var s=r.alternate;s!==null&&(r.alternate=null,oy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[er],delete s[Ma],delete s[jh],delete s[N1],delete s[O1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ay(r){return r.tag===5||r.tag===3||r.tag===4}function ly(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ay(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ad(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=fu));else if(h!==4&&(r=r.child,r!==null))for(Ad(r,s,a),r=r.sibling;r!==null;)Ad(r,s,a),r=r.sibling}function Pd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Pd(r,s,a),r=r.sibling;r!==null;)Pd(r,s,a),r=r.sibling}var Dt=null,Bn=!1;function ci(r,s,a){for(a=a.child;a!==null;)uy(r,s,a),a=a.sibling}function uy(r,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Gi,a)}catch{}switch(a.tag){case 5:Ut||_o(a,s);case 6:var h=Dt,p=Bn;Dt=null,ci(r,s,a),Dt=h,Bn=p,Dt!==null&&(Bn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Bn?(r=Dt,a=a.stateNode,r.nodeType===8?Uh(r.parentNode,a):r.nodeType===1&&Uh(r,a),Ln(r)):Uh(Dt,a.stateNode));break;case 4:h=Dt,p=Bn,Dt=a.stateNode.containerInfo,Bn=!0,ci(r,s,a),Dt=h,Bn=p;break;case 0:case 11:case 14:case 15:if(!Ut&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var g=p,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Sd(a,s,w),p=p.next}while(p!==h)}ci(r,s,a);break;case 1:if(!Ut&&(_o(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(A){rt(a,s,A)}ci(r,s,a);break;case 21:ci(r,s,a);break;case 22:a.mode&1?(Ut=(h=Ut)||a.memoizedState!==null,ci(r,s,a),Ut=h):ci(r,s,a);break;default:ci(r,s,a)}}function cy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new X1),s.forEach(function(h){var p=oS.bind(null,r,h);a.has(h)||(a.add(h),h.then(p,p))})}}function zn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];try{var g=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 5:Dt=A.stateNode,Bn=!1;break e;case 3:Dt=A.stateNode.containerInfo,Bn=!0;break e;case 4:Dt=A.stateNode.containerInfo,Bn=!0;break e}A=A.return}if(Dt===null)throw Error(t(160));uy(g,w,p),Dt=null,Bn=!1;var k=p.alternate;k!==null&&(k.return=null),p.return=null}catch(z){rt(p,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)hy(s,r),s=s.sibling}function hy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zn(s,r),rr(r),h&4){try{Ka(3,r,r.return),Lu(3,r)}catch(he){rt(r,r.return,he)}try{Ka(5,r,r.return)}catch(he){rt(r,r.return,he)}}break;case 1:zn(s,r),rr(r),h&512&&a!==null&&_o(a,a.return);break;case 5:if(zn(s,r),rr(r),h&512&&a!==null&&_o(a,a.return),r.flags&32){var p=r.stateNode;try{Wr(p,"")}catch(he){rt(r,r.return,he)}}if(h&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,A=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&ra(p,g),da(A,w);var z=da(A,g);for(w=0;w<k.length;w+=2){var G=k[w],X=k[w+1];G==="style"?ua(p,X):G==="dangerouslySetInnerHTML"?aa(p,X):G==="children"?Wr(p,X):Q(p,G,X,z)}switch(A){case"input":ia(p,g);break;case"textarea":Os(p,g);break;case"select":var W=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?wr(p,!!g.multiple,oe,!1):W!==!!g.multiple&&(g.defaultValue!=null?wr(p,!!g.multiple,g.defaultValue,!0):wr(p,!!g.multiple,g.multiple?[]:"",!1))}p[Ma]=g}catch(he){rt(r,r.return,he)}}break;case 6:if(zn(s,r),rr(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(he){rt(r,r.return,he)}}break;case 3:if(zn(s,r),rr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Ln(s.containerInfo)}catch(he){rt(r,r.return,he)}break;case 4:zn(s,r),rr(r);break;case 13:zn(s,r),rr(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(kd=qe())),h&4&&cy(r);break;case 22:if(G=a!==null&&a.memoizedState!==null,r.mode&1?(Ut=(z=Ut)||G,zn(s,r),Ut=z):zn(s,r),rr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!G&&r.mode&1)for(ue=r,G=r.child;G!==null;){for(X=ue=G;ue!==null;){switch(W=ue,oe=W.child,W.tag){case 0:case 11:case 14:case 15:Ka(4,W,W.return);break;case 1:_o(W,W.return);var ce=W.stateNode;if(typeof ce.componentWillUnmount=="function"){h=W,a=W.return;try{s=h,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){rt(h,a,he)}}break;case 5:_o(W,W.return);break;case 22:if(W.memoizedState!==null){py(X);continue}}oe!==null?(oe.return=W,ue=oe):py(X)}G=G.sibling}e:for(G=null,X=r;;){if(X.tag===5){if(G===null){G=X;try{p=X.stateNode,z?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=X.stateNode,k=X.memoizedProps.style,w=k!=null&&k.hasOwnProperty("display")?k.display:null,A.style.display=la("display",w))}catch(he){rt(r,r.return,he)}}}else if(X.tag===6){if(G===null)try{X.stateNode.nodeValue=z?"":X.memoizedProps}catch(he){rt(r,r.return,he)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;G===X&&(G=null),X=X.return}G===X&&(G=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:zn(s,r),rr(r),h&4&&cy(r);break;case 21:break;default:zn(s,r),rr(r)}}function rr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(ay(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Wr(p,""),h.flags&=-33);var g=ly(r);Pd(r,g,p);break;case 3:case 4:var w=h.stateNode.containerInfo,A=ly(r);Ad(r,A,w);break;default:throw Error(t(161))}}catch(k){rt(r,r.return,k)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function J1(r,s,a){ue=r,dy(r)}function dy(r,s,a){for(var h=(r.mode&1)!==0;ue!==null;){var p=ue,g=p.child;if(p.tag===22&&h){var w=p.memoizedState!==null||Mu;if(!w){var A=p.alternate,k=A!==null&&A.memoizedState!==null||Ut;A=Mu;var z=Ut;if(Mu=w,(Ut=k)&&!z)for(ue=p;ue!==null;)w=ue,k=w.child,w.tag===22&&w.memoizedState!==null?my(p):k!==null?(k.return=w,ue=k):my(p);for(;g!==null;)ue=g,dy(g),g=g.sibling;ue=p,Mu=A,Ut=z}fy(r)}else p.subtreeFlags&8772&&g!==null?(g.return=p,ue=g):fy(r)}}function fy(r){for(;ue!==null;){var s=ue;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ut||Lu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ut)if(a===null)h.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:jn(s.type,a.memoizedProps);h.componentDidUpdate(p,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&pg(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}pg(s,w,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var G=z.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&Ln(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||s.flags&512&&Id(s)}catch(W){rt(s,s.return,W)}}if(s===r){ue=null;break}if(a=s.sibling,a!==null){a.return=s.return,ue=a;break}ue=s.return}}function py(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ue=a;break}ue=s.return}}function my(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Lu(4,s)}catch(k){rt(s,a,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(k){rt(s,p,k)}}var g=s.return;try{Id(s)}catch(k){rt(s,g,k)}break;case 5:var w=s.return;try{Id(s)}catch(k){rt(s,w,k)}}}catch(k){rt(s,s.return,k)}if(s===r){ue=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ue=A;break}ue=s.return}}var Z1=Math.ceil,bu=ne.ReactCurrentDispatcher,Cd=ne.ReactCurrentOwner,An=ne.ReactCurrentBatchConfig,Le=0,It=null,dt=null,Vt=0,pn=0,wo=si(0),vt=0,Wa=null,ls=0,Fu=0,Rd=0,Ga=null,nn=null,kd=0,To=1/0,Mr=null,Uu=!1,xd=null,hi=null,ju=!1,di=null,Bu=0,Qa=0,Dd=null,zu=-1,$u=0;function Qt(){return Le&6?qe():zu!==-1?zu:zu=qe()}function fi(r){return r.mode&1?Le&2&&Vt!==0?Vt&-Vt:L1.transition!==null?($u===0&&($u=Xi()),$u):(r=xe,r!==0||(r=window.event,r=r===void 0?16:Sa(r.type)),r):1}function $n(r,s,a,h){if(50<Qa)throw Qa=0,Dd=null,Error(t(185));Yr(r,a,h),(!(Le&2)||r!==It)&&(r===It&&(!(Le&2)&&(Fu|=a),vt===4&&pi(r,Vt)),rn(r,h),a===1&&Le===0&&!(s.mode&1)&&(To=qe()+500,yu&&ai()))}function rn(r,s){var a=r.callbackNode;Sr(r,s);var h=Qi(r,r===It?Vt:0);if(h===0)a!==null&&va(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&va(a),s===1)r.tag===0?M1(yy.bind(null,r)):ng(yy.bind(null,r)),D1(function(){!(Le&6)&&ai()}),a=null;else{switch(Zr(h)){case 1:a=Wi;break;case 4:a=Gr;break;case 16:a=vn;break;case 536870912:a=$l;break;default:a=vn}a=Ay(a,gy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function gy(r,s){if(zu=-1,$u=0,Le&6)throw Error(t(327));var a=r.callbackNode;if(Eo()&&r.callbackNode!==a)return null;var h=Qi(r,r===It?Vt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Hu(r,h);else{s=h;var p=Le;Le|=2;var g=_y();(It!==r||Vt!==s)&&(Mr=null,To=qe()+500,cs(r,s));do try{nS();break}catch(A){vy(r,A)}while(!0);Qh(),bu.current=g,Le=p,dt!==null?s=0:(It=null,Vt=0,s=vt)}if(s!==0){if(s===2&&(p=un(r),p!==0&&(h=p,s=Vd(r,p))),s===1)throw a=Wa,cs(r,0),pi(r,h),rn(r,qe()),a;if(s===6)pi(r,h);else{if(p=r.current.alternate,!(h&30)&&!eS(p)&&(s=Hu(r,h),s===2&&(g=un(r),g!==0&&(h=g,s=Vd(r,g))),s===1))throw a=Wa,cs(r,0),pi(r,h),rn(r,qe()),a;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:hs(r,nn,Mr);break;case 3:if(pi(r,h),(h&130023424)===h&&(s=kd+500-qe(),10<s)){if(Qi(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Qt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Fh(hs.bind(null,r,nn,Mr),s);break}hs(r,nn,Mr);break;case 4:if(pi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var w=31-Kt(h);g=1<<w,w=s[w],w>p&&(p=w),h&=~g}if(h=p,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Z1(h/1960))-h,10<h){r.timeoutHandle=Fh(hs.bind(null,r,nn,Mr),h);break}hs(r,nn,Mr);break;case 5:hs(r,nn,Mr);break;default:throw Error(t(329))}}}return rn(r,qe()),r.callbackNode===a?gy.bind(null,r):null}function Vd(r,s){var a=Ga;return r.current.memoizedState.isDehydrated&&(cs(r,s).flags|=256),r=Hu(r,s),r!==2&&(s=nn,nn=a,s!==null&&Nd(s)),r}function Nd(r){nn===null?nn=r:nn.push.apply(nn,r)}function eS(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var p=a[h],g=p.getSnapshot;p=p.value;try{if(!Fn(g(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pi(r,s){for(s&=~Rd,s&=~Fu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Kt(s),h=1<<a;r[a]=-1,s&=~h}}function yy(r){if(Le&6)throw Error(t(327));Eo();var s=Qi(r,0);if(!(s&1))return rn(r,qe()),null;var a=Hu(r,s);if(r.tag!==0&&a===2){var h=un(r);h!==0&&(s=h,a=Vd(r,h))}if(a===1)throw a=Wa,cs(r,0),pi(r,s),rn(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,hs(r,nn,Mr),rn(r,qe()),null}function Od(r,s){var a=Le;Le|=1;try{return r(s)}finally{Le=a,Le===0&&(To=qe()+500,yu&&ai())}}function us(r){di!==null&&di.tag===0&&!(Le&6)&&Eo();var s=Le;Le|=1;var a=An.transition,h=xe;try{if(An.transition=null,xe=1,r)return r()}finally{xe=h,An.transition=a,Le=s,!(Le&6)&&ai()}}function Md(){pn=wo.current,Ge(wo)}function cs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,x1(a)),dt!==null)for(a=dt.return;a!==null;){var h=a;switch(Hh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&mu();break;case 3:yo(),Ge(Zt),Ge(Lt),rd();break;case 5:td(h);break;case 4:yo();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:Xh(h.type._context);break;case 22:case 23:Md()}a=a.return}if(It=r,dt=r=mi(r.current,null),Vt=pn=s,vt=0,Wa=null,Rd=Fu=ls=0,nn=Ga=null,ss!==null){for(s=0;s<ss.length;s++)if(a=ss[s],h=a.interleaved,h!==null){a.interleaved=null;var p=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=p,h.next=w}a.pending=h}ss=null}return r}function vy(r,s){do{var a=dt;try{if(Qh(),Cu.current=Du,Ru){for(var h=et.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Ru=!1}if(as=0,St=yt=et=null,Ba=!1,za=0,Cd.current=null,a===null||a.return===null){vt=1,Wa=s,dt=null;break}e:{var g=r,w=a.return,A=a,k=s;if(s=Vt,A.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var z=k,G=A,X=G.tag;if(!(G.mode&1)&&(X===0||X===11||X===15)){var W=G.alternate;W?(G.updateQueue=W.updateQueue,G.memoizedState=W.memoizedState,G.lanes=W.lanes):(G.updateQueue=null,G.memoizedState=null)}var oe=$g(w);if(oe!==null){oe.flags&=-257,Hg(oe,w,A,g,s),oe.mode&1&&zg(g,z,s),s=oe,k=z;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(k),s.updateQueue=he}else ce.add(k);break e}else{if(!(s&1)){zg(g,z,s),Ld();break e}k=Error(t(426))}}else if(Je&&A.mode&1){var at=$g(w);if(at!==null){!(at.flags&65536)&&(at.flags|=256),Hg(at,w,A,g,s),Wh(vo(k,A));break e}}g=k=vo(k,A),vt!==4&&(vt=2),Ga===null?Ga=[g]:Ga.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var b=jg(g,k,s);fg(g,b);break e;case 1:A=k;var V=g.type,j=g.stateNode;if(!(g.flags&128)&&(typeof V.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(hi===null||!hi.has(j)))){g.flags|=65536,s&=-s,g.lanes|=s;var J=Bg(g,A,s);fg(g,J);break e}}g=g.return}while(g!==null)}Ty(a)}catch(de){s=de,dt===a&&a!==null&&(dt=a=a.return);continue}break}while(!0)}function _y(){var r=bu.current;return bu.current=Du,r===null?Du:r}function Ld(){(vt===0||vt===3||vt===2)&&(vt=4),It===null||!(ls&268435455)&&!(Fu&268435455)||pi(It,Vt)}function Hu(r,s){var a=Le;Le|=2;var h=_y();(It!==r||Vt!==s)&&(Mr=null,cs(r,s));do try{tS();break}catch(p){vy(r,p)}while(!0);if(Qh(),Le=a,bu.current=h,dt!==null)throw Error(t(261));return It=null,Vt=0,vt}function tS(){for(;dt!==null;)wy(dt)}function nS(){for(;dt!==null&&!Bl();)wy(dt)}function wy(r){var s=Iy(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?Ty(r):dt=s,Cd.current=null}function Ty(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=Q1(a,s),a!==null){a.flags&=32767,dt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vt=6,dt=null;return}}else if(a=G1(a,s,pn),a!==null){dt=a;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=r}while(s!==null);vt===0&&(vt=5)}function hs(r,s,a){var h=xe,p=An.transition;try{An.transition=null,xe=1,rS(r,s,a,h)}finally{An.transition=p,xe=h}return null}function rS(r,s,a,h){do Eo();while(di!==null);if(Le&6)throw Error(t(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if($e(r,g),r===It&&(dt=It=null,Vt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||ju||(ju=!0,Ay(vn,function(){return Eo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=An.transition,An.transition=null;var w=xe;xe=1;var A=Le;Le|=4,Cd.current=null,Y1(r,a),hy(a,r),S1(Lh),ti=!!Mh,Lh=Mh=null,r.current=a,J1(a),_h(),Le=A,xe=w,An.transition=g}else r.current=a;if(ju&&(ju=!1,di=r,Bu=p),g=r.pendingLanes,g===0&&(hi=null),Hl(a.stateNode),rn(r,qe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)p=s[a],h(p.value,{componentStack:p.stack,digest:p.digest});if(Uu)throw Uu=!1,r=xd,xd=null,r;return Bu&1&&r.tag!==0&&Eo(),g=r.pendingLanes,g&1?r===Dd?Qa++:(Qa=0,Dd=r):Qa=0,ai(),null}function Eo(){if(di!==null){var r=Zr(Bu),s=An.transition,a=xe;try{if(An.transition=null,xe=16>r?16:r,di===null)var h=!1;else{if(r=di,di=null,Bu=0,Le&6)throw Error(t(331));var p=Le;for(Le|=4,ue=r.current;ue!==null;){var g=ue,w=g.child;if(ue.flags&16){var A=g.deletions;if(A!==null){for(var k=0;k<A.length;k++){var z=A[k];for(ue=z;ue!==null;){var G=ue;switch(G.tag){case 0:case 11:case 15:Ka(8,G,g)}var X=G.child;if(X!==null)X.return=G,ue=X;else for(;ue!==null;){G=ue;var W=G.sibling,oe=G.return;if(oy(G),G===z){ue=null;break}if(W!==null){W.return=oe,ue=W;break}ue=oe}}}var ce=g.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var at=he.sibling;he.sibling=null,he=at}while(he!==null)}}ue=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ue=w;else e:for(;ue!==null;){if(g=ue,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ka(9,g,g.return)}var b=g.sibling;if(b!==null){b.return=g.return,ue=b;break e}ue=g.return}}var V=r.current;for(ue=V;ue!==null;){w=ue;var j=w.child;if(w.subtreeFlags&2064&&j!==null)j.return=w,ue=j;else e:for(w=V;ue!==null;){if(A=ue,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Lu(9,A)}}catch(de){rt(A,A.return,de)}if(A===w){ue=null;break e}var J=A.sibling;if(J!==null){J.return=A.return,ue=J;break e}ue=A.return}}if(Le=p,ai(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Gi,r)}catch{}h=!0}return h}finally{xe=a,An.transition=s}}return!1}function Ey(r,s,a){s=vo(a,s),s=jg(r,s,1),r=ui(r,s,1),s=Qt(),r!==null&&(Yr(r,1,s),rn(r,s))}function rt(r,s,a){if(r.tag===3)Ey(r,r,a);else for(;s!==null;){if(s.tag===3){Ey(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(hi===null||!hi.has(h))){r=vo(a,r),r=Bg(s,r,1),s=ui(s,r,1),r=Qt(),s!==null&&(Yr(s,1,r),rn(s,r));break}}s=s.return}}function iS(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Qt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(Vt&a)===a&&(vt===4||vt===3&&(Vt&130023424)===Vt&&500>qe()-kd?cs(r,0):Rd|=a),rn(r,s)}function Sy(r,s){s===0&&(r.mode&1?(s=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):s=1);var a=Qt();r=Vr(r,s),r!==null&&(Yr(r,s,a),rn(r,a))}function sS(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Sy(r,a)}function oS(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Sy(r,a)}var Iy;Iy=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return tn=!1,W1(r,s,a);tn=!!(r.flags&131072)}else tn=!1,Je&&s.flags&1048576&&rg(s,_u,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Ou(r,s),r=s.pendingProps;var p=uo(s,Lt.current);go(s,a),p=od(null,s,h,r,p,a);var g=ad();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(h)?(g=!0,gu(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Zh(s),p.updater=Vu,s.stateNode=p,p._reactInternals=s,fd(s,h,r,a),s=yd(null,s,h,!0,g,a)):(s.tag=0,Je&&g&&$h(s),Gt(null,s,p,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Ou(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=lS(h),r=jn(h,r),p){case 0:s=gd(null,s,h,r,a);break e;case 1:s=Xg(null,s,h,r,a);break e;case 11:s=qg(null,s,h,r,a);break e;case 14:s=Kg(null,s,h,jn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:jn(h,p),gd(r,s,h,p,a);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:jn(h,p),Xg(r,s,h,p,a);case 3:e:{if(Yg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,p=g.element,dg(r,s),Au(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=vo(Error(t(423)),s),s=Jg(r,s,h,a,p);break e}else if(h!==p){p=vo(Error(t(424)),s),s=Jg(r,s,h,a,p);break e}else for(fn=ii(s.stateNode.containerInfo.firstChild),dn=s,Je=!0,Un=null,a=cg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fo(),h===p){s=Or(r,s,a);break e}Gt(r,s,h,a)}s=s.child}return s;case 5:return mg(s),r===null&&Kh(s),h=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,w=p.children,bh(h,p)?w=null:g!==null&&bh(h,g)&&(s.flags|=32),Qg(r,s),Gt(r,s,w,a),s.child;case 6:return r===null&&Kh(s),null;case 13:return Zg(r,s,a);case 4:return ed(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=po(s,null,h,a):Gt(r,s,h,a),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:jn(h,p),qg(r,s,h,p,a);case 7:return Gt(r,s,s.pendingProps,a),s.child;case 8:return Gt(r,s,s.pendingProps.children,a),s.child;case 12:return Gt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,g=s.memoizedProps,w=p.value,Ke(Eu,h._currentValue),h._currentValue=w,g!==null)if(Fn(g.value,w)){if(g.children===p.children&&!Zt.current){s=Or(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){w=g.child;for(var k=A.firstContext;k!==null;){if(k.context===h){if(g.tag===1){k=Nr(-1,a&-a),k.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var G=z.pending;G===null?k.next=k:(k.next=G.next,G.next=k),z.pending=k}}g.lanes|=a,k=g.alternate,k!==null&&(k.lanes|=a),Yh(g.return,a,s),A.lanes|=a;break}k=k.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,A=w.alternate,A!==null&&(A.lanes|=a),Yh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Gt(r,s,p.children,a),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,go(s,a),p=Sn(p),h=h(p),s.flags|=1,Gt(r,s,h,a),s.child;case 14:return h=s.type,p=jn(h,s.pendingProps),p=jn(h.type,p),Kg(r,s,h,p,a);case 15:return Wg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:jn(h,p),Ou(r,s),s.tag=1,en(h)?(r=!0,gu(s)):r=!1,go(s,a),Fg(s,h,p),fd(s,h,p,a),yd(null,s,h,!0,r,a);case 19:return ty(r,s,a);case 22:return Gg(r,s,a)}throw Error(t(156,s.tag))};function Ay(r,s){return zs(r,s)}function aS(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,a,h){return new aS(r,s,a,h)}function bd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function lS(r){if(typeof r=="function")return bd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===Ct)return 14}return 2}function mi(r,s){var a=r.alternate;return a===null?(a=Pn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function qu(r,s,a,h,p,g){var w=2;if(h=r,typeof r=="function")bd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case x:return ds(a.children,p,g,s);case I:w=8,p|=8;break;case P:return r=Pn(12,a,s,p|2),r.elementType=P,r.lanes=g,r;case C:return r=Pn(13,a,s,p),r.elementType=C,r.lanes=g,r;case Xe:return r=Pn(19,a,s,p),r.elementType=Xe,r.lanes=g,r;case Se:return Ku(a,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:w=10;break e;case N:w=9;break e;case M:w=11;break e;case Ct:w=14;break e;case Rt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Pn(w,a,s,p),s.elementType=r,s.type=h,s.lanes=g,s}function ds(r,s,a,h){return r=Pn(7,r,h,s),r.lanes=a,r}function Ku(r,s,a,h){return r=Pn(22,r,h,s),r.elementType=Se,r.lanes=a,r.stateNode={isHidden:!1},r}function Fd(r,s,a){return r=Pn(6,r,null,s),r.lanes=a,r}function Ud(r,s,a){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function uS(r,s,a,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xr(0),this.expirationTimes=Xr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function jd(r,s,a,h,p,g,w,A,k){return r=new uS(r,s,a,A,k),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Pn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(g),r}function cS(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Py(r){if(!r)return oi;r=r._reactInternals;e:{if(Dn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(en(a))return eg(r,a,s)}return s}function Cy(r,s,a,h,p,g,w,A,k){return r=jd(a,h,!0,r,p,g,w,A,k),r.context=Py(null),a=r.current,h=Qt(),p=fi(a),g=Nr(h,p),g.callback=s??null,ui(a,g,p),r.current.lanes=p,Yr(r,p,h),rn(r,h),r}function Wu(r,s,a,h){var p=s.current,g=Qt(),w=fi(p);return a=Py(a),s.context===null?s.context=a:s.pendingContext=a,s=Nr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ui(p,s,w),r!==null&&($n(r,p,w,g),Iu(r,p,w)),w}function Gu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ry(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Bd(r,s){Ry(r,s),(r=r.alternate)&&Ry(r,s)}var ky=typeof reportError=="function"?reportError:function(r){console.error(r)};function zd(r){this._internalRoot=r}Qu.prototype.render=zd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Wu(r,s,null,null)},Qu.prototype.unmount=zd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;us(function(){Wu(null,r,null,null)}),s[Rr]=null}};function Qu(r){this._internalRoot=r}Qu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ql();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Xn.length&&s!==0&&s<Xn[a].priority;a++);Xn.splice(a,0,r),a===0&&Jl(r)}};function $d(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Xu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function xy(){}function hS(r,s,a,h,p){if(p){if(typeof h=="function"){var g=h;h=function(){var z=Gu(w);g.call(z)}}var w=Cy(s,h,r,0,null,!1,!1,"",xy);return r._reactRootContainer=w,r[Rr]=w.current,Na(r.nodeType===8?r.parentNode:r),us(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var A=h;h=function(){var z=Gu(k);A.call(z)}}var k=jd(r,0,!1,null,null,!1,!1,"",xy);return r._reactRootContainer=k,r[Rr]=k.current,Na(r.nodeType===8?r.parentNode:r),us(function(){Wu(s,k,a,h)}),k}function Yu(r,s,a,h,p){var g=a._reactRootContainer;if(g){var w=g;if(typeof p=="function"){var A=p;p=function(){var k=Gu(w);A.call(k)}}Wu(s,w,r,p)}else w=hS(a,s,r,p,h);return Gu(w)}Wl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Qr(s.pendingLanes);a!==0&&(Jr(s,a|1),rn(s,qe()),!(Le&6)&&(To=qe()+500,ai()))}break;case 13:us(function(){var h=Vr(r,1);if(h!==null){var p=Qt();$n(h,r,1,p)}}),Bd(r,1)}},qs=function(r){if(r.tag===13){var s=Vr(r,134217728);if(s!==null){var a=Qt();$n(s,r,134217728,a)}Bd(r,134217728)}},Gl=function(r){if(r.tag===13){var s=fi(r),a=Vr(r,s);if(a!==null){var h=Qt();$n(a,r,s,h)}Bd(r,s)}},Ql=function(){return xe},Xl=function(r,s){var a=xe;try{return xe=r,s()}finally{xe=a}},Ls=function(r,s,a){switch(s){case"input":if(ia(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var p=pu(h);if(!p)throw Error(t(90));xs(h),ia(h,p)}}}break;case"textarea":Os(r,a);break;case"select":s=a.value,s!=null&&wr(r,!!a.multiple,s,!1)}},$i=Od,pa=us;var dS={usingClientEntryPoint:!1,Events:[La,ao,pu,Gn,fa,Od]},Xa={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fS={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ya(r),r===null?null:r.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Gi=Ju.inject(fS),ln=Ju}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS,sn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(s))throw Error(t(200));return cS(r,s,null,a)},sn.createRoot=function(r,s){if(!$d(r))throw Error(t(299));var a=!1,h="",p=ky;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=jd(r,1,!1,null,null,a,!1,h,p),r[Rr]=s.current,Na(r.nodeType===8?r.parentNode:r),new zd(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ya(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return us(r)},sn.hydrate=function(r,s,a){if(!Xu(s))throw Error(t(200));return Yu(null,r,s,!0,a)},sn.hydrateRoot=function(r,s,a){if(!$d(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,p=!1,g="",w=ky;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Cy(s,null,r,1,a??null,p,!1,g,w),r[Rr]=s.current,Na(r),h)for(r=0;r<h.length;r++)a=h[r],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new Qu(s)},sn.render=function(r,s,a){if(!Xu(s))throw Error(t(200));return Yu(null,r,s,!1,a)},sn.unmountComponentAtNode=function(r){if(!Xu(r))throw Error(t(40));return r._reactRootContainer?(us(function(){Yu(null,null,r,!1,function(){r._reactRootContainer=null,r[Rr]=null})}),!0):!1},sn.unstable_batchedUpdates=Od,sn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Xu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Yu(r,s,a,!1,h)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var Fy;function ES(){if(Fy)return Kd.exports;Fy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kd.exports=TS(),Kd.exports}var Uy;function SS(){if(Uy)return Zu;Uy=1;var n=ES();return Zu.createRoot=n.createRoot,Zu.hydrateRoot=n.hydrateRoot,Zu}var IS=SS();const N_=me.createContext({});function AS(n){const e=me.useRef(null);return e.current===null&&(e.current=n()),e.current}const dp=me.createContext(null),O_=me.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function PS(n=!0){const e=me.useContext(dp);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=me.useId();me.useEffect(()=>{n&&o(l)},[n]);const u=me.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,u]:[!0]}const fp=typeof window<"u",CS=fp?me.useLayoutEffect:me.useEffect,mn=n=>n;let Ef=mn;function pp(n){let e;return()=>(e===void 0&&(e=n()),e)}const Uo=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Ur=n=>n*1e3,jr=n=>n/1e3,RS={skipAnimations:!1,useManualTiming:!1};function kS(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(y){l.has(y)&&(f.schedule(y),n()),y(u)}const f={schedule:(y,_=!1,T=!1)=>{const R=T&&i?e:t;return _&&l.add(y),R.has(y)||R.add(y),y},cancel:y=>{t.delete(y),l.delete(y)},process:y=>{if(u=y,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(d),e.clear(),i=!1,o&&(o=!1,f.process(y))}};return f}const ec=["read","resolveKeyframes","update","preRender","render","postRender"],xS=40;function M_(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,u=ec.reduce((H,Y)=>(H[Y]=kS(l),H),{}),{read:d,resolveKeyframes:f,update:y,preRender:_,render:T,postRender:S}=u,R=()=>{const H=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(H-o.timestamp,xS),1),o.timestamp=H,o.isProcessing=!0,d.process(o),f.process(o),y.process(o),_.process(o),T.process(o),S.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(R))},U=()=>{t=!0,i=!0,o.isProcessing||n(R)};return{schedule:ec.reduce((H,Y)=>{const Q=u[Y];return H[Y]=(ne,ie=!1,ae=!1)=>(t||U(),Q.schedule(ne,ie,ae)),H},{}),cancel:H=>{for(let Y=0;Y<ec.length;Y++)u[ec[Y]].cancel(H)},state:o,steps:u}}const{schedule:Qe,cancel:Ri,state:Nt,steps:Qd}=M_(typeof requestAnimationFrame<"u"?requestAnimationFrame:mn,!0),L_=me.createContext({strict:!1}),jy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const n in jy)jo[n]={isEnabled:e=>jy[n].some(t=>!!e[t])};function DS(n){for(const e in n)jo[e]={...jo[e],...n[e]}}const VS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ic(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||VS.has(n)}let b_=n=>!Ic(n);function NS(n){n&&(b_=e=>e.startsWith("on")?!Ic(e):n(e))}try{NS(require("@emotion/is-prop-valid").default)}catch{}function OS(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(b_(o)||t===!0&&Ic(o)||!e&&!Ic(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function MS(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Yc=me.createContext({});function pl(n){return typeof n=="string"||Array.isArray(n)}function Jc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const mp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gp=["initial",...mp];function Zc(n){return Jc(n.animate)||gp.some(e=>pl(n[e]))}function F_(n){return!!(Zc(n)||n.variants)}function LS(n,e){if(Zc(n)){const{initial:t,animate:i}=n;return{initial:t===!1||pl(t)?t:void 0,animate:pl(i)?i:void 0}}return n.inherit!==!1?e:{}}function bS(n){const{initial:e,animate:t}=LS(n,me.useContext(Yc));return me.useMemo(()=>({initial:e,animate:t}),[By(e),By(t)])}function By(n){return Array.isArray(n)?n.join(" "):n}const FS=Symbol.for("motionComponentSymbol");function Co(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function US(n,e,t){return me.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Co(t)&&(t.current=i))},[e])}const yp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jS="framerAppearId",U_="data-"+yp(jS),{schedule:vp,cancel:AO}=M_(queueMicrotask,!1),j_=me.createContext({});function BS(n,e,t,i,o){var l,u;const{visualElement:d}=me.useContext(Yc),f=me.useContext(L_),y=me.useContext(dp),_=me.useContext(O_).reducedMotion,T=me.useRef(null);i=i||f.renderer,!T.current&&i&&(T.current=i(n,{visualState:e,parent:d,props:t,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:_}));const S=T.current,R=me.useContext(j_);S&&!S.projection&&o&&(S.type==="html"||S.type==="svg")&&zS(T.current,t,o,R);const U=me.useRef(!1);me.useInsertionEffect(()=>{S&&U.current&&S.update(t,y)});const B=t[U_],F=me.useRef(!!B&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,B))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,B)));return CS(()=>{S&&(U.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),vp.render(S.render),F.current&&S.animationState&&S.animationState.animateChanges())}),me.useEffect(()=>{S&&(!F.current&&S.animationState&&S.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{var H;(H=window.MotionHandoffMarkAsComplete)===null||H===void 0||H.call(window,B)}),F.current=!1))}),S}function zS(n,e,t,i){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:B_(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&Co(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:y})}function B_(n){if(n)return n.options.allowProjection!==!1?n.projection:B_(n.parent)}function $S({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,u;n&&DS(n);function d(y,_){let T;const S={...me.useContext(O_),...y,layoutId:HS(y)},{isStatic:R}=S,U=bS(y),B=i(y,R);if(!R&&fp){qS();const F=KS(S);T=F.MeasureLayout,U.visualElement=BS(o,B,S,e,F.ProjectionNode)}return ee.jsxs(Yc.Provider,{value:U,children:[T&&U.visualElement?ee.jsx(T,{visualElement:U.visualElement,...S}):null,t(o,y,US(B,U.visualElement,_),B,R,U.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(u=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&u!==void 0?u:""})`}`;const f=me.forwardRef(d);return f[FS]=o,f}function HS({layoutId:n}){const e=me.useContext(N_).id;return e&&n!==void 0?e+"-"+n:n}function qS(n,e){me.useContext(L_).strict}function KS(n){const{drag:e,layout:t}=jo;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const WS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _p(n){return typeof n!="string"||n.includes("-")?!1:!!(WS.indexOf(n)>-1||/[A-Z]/u.test(n))}function zy(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function wp(n,e,t,i){if(typeof e=="function"){const[o,l]=zy(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=zy(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const Sf=n=>Array.isArray(n),GS=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),QS=n=>Sf(n)?n[n.length-1]||0:n,Ht=n=>!!(n&&n.getVelocity);function dc(n){const e=Ht(n)?n.get():n;return GS(e)?e.toValue():e}function XS({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const u={latestValues:YS(i,o,l,n),renderState:e()};return t&&(u.onMount=d=>t({props:i,current:d,...u}),u.onUpdate=d=>t(d)),u}const z_=n=>(e,t)=>{const i=me.useContext(Yc),o=me.useContext(dp),l=()=>XS(n,e,i,o);return t?l():AS(l)};function YS(n,e,t,i){const o={},l=i(n,{});for(const S in l)o[S]=dc(l[S]);let{initial:u,animate:d}=n;const f=Zc(n),y=F_(n);e&&y&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let _=t?t.initial===!1:!1;_=_||u===!1;const T=_?d:u;if(T&&typeof T!="boolean"&&!Jc(T)){const S=Array.isArray(T)?T:[T];for(let R=0;R<S.length;R++){const U=wp(n,S[R]);if(U){const{transitionEnd:B,transition:F,...H}=U;for(const Y in H){let Q=H[Y];if(Array.isArray(Q)){const ne=_?Q.length-1:0;Q=Q[ne]}Q!==null&&(o[Y]=Q)}for(const Y in B)o[Y]=B[Y]}}}return o}const Xo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cs=new Set(Xo),$_=n=>e=>typeof e=="string"&&e.startsWith(n),H_=$_("--"),JS=$_("var(--"),Tp=n=>JS(n)?ZS.test(n.split("/*")[0].trim()):!1,ZS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,q_=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Br=(n,e,t)=>t>e?e:t<n?n:t,Yo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ml={...Yo,transform:n=>Br(0,1,n)},tc={...Yo,default:1},Al=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),vi=Al("deg"),ar=Al("%"),ve=Al("px"),eI=Al("vh"),tI=Al("vw"),$y={...ar,parse:n=>ar.parse(n)/100,transform:n=>ar.transform(n*100)},nI={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve},rI={rotate:vi,rotateX:vi,rotateY:vi,rotateZ:vi,scale:tc,scaleX:tc,scaleY:tc,scaleZ:tc,skew:vi,skewX:vi,skewY:vi,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:ml,originX:$y,originY:$y,originZ:ve},Hy={...Yo,transform:Math.round},Ep={...nI,...rI,zIndex:Hy,size:ve,fillOpacity:ml,strokeOpacity:ml,numOctaves:Hy},iI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sI=Xo.length;function oI(n,e,t){let i="",o=!0;for(let l=0;l<sI;l++){const u=Xo[l],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const y=q_(d,Ep[u]);if(!f){o=!1;const _=iI[u]||u;i+=`${_}(${y}) `}t&&(e[u]=y)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function Sp(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let u=!1,d=!1;for(const f in e){const y=e[f];if(Cs.has(f)){u=!0;continue}else if(H_(f)){o[f]=y;continue}else{const _=q_(y,Ep[f]);f.startsWith("origin")?(d=!0,l[f]=_):i[f]=_}}if(e.transform||(u||t?i.transform=oI(e,n.transform,t):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:y="50%",originZ:_=0}=l;i.transformOrigin=`${f} ${y} ${_}`}}const aI={offset:"stroke-dashoffset",array:"stroke-dasharray"},lI={offset:"strokeDashoffset",array:"strokeDasharray"};function uI(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?aI:lI;n[l.offset]=ve.transform(-i);const u=ve.transform(e),d=ve.transform(t);n[l.array]=`${u} ${d}`}function qy(n,e,t){return typeof n=="string"?n:ve.transform(e+t*n)}function cI(n,e,t){const i=qy(e,n.x,n.width),o=qy(t,n.y,n.height);return`${i} ${o}`}function Ip(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...y},_,T){if(Sp(n,y,T),_){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:R,dimensions:U}=n;S.transform&&(U&&(R.transform=S.transform),delete S.transform),U&&(o!==void 0||l!==void 0||R.transform)&&(R.transformOrigin=cI(U,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(S.x=e),t!==void 0&&(S.y=t),i!==void 0&&(S.scale=i),u!==void 0&&uI(S,u,d,f,!1)}const Ap=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),K_=()=>({...Ap(),attrs:{}}),Pp=n=>typeof n=="string"&&n.toLowerCase()==="svg";function W_(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const G_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q_(n,e,t,i){W_(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(G_.has(o)?o:yp(o),e.attrs[o])}const Ac={};function hI(n){Object.assign(Ac,n)}function X_(n,{layout:e,layoutId:t}){return Cs.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ac[n]||n==="opacity")}function Cp(n,e,t){var i;const{style:o}=n,l={};for(const u in o)(Ht(o[u])||e.style&&Ht(e.style[u])||X_(u,n)||((i=t==null?void 0:t.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[u]=o[u]);return l}function Y_(n,e,t){const i=Cp(n,e,t);for(const o in n)if(Ht(n[o])||Ht(e[o])){const l=Xo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function dI(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Ky=["x","y","width","height","cx","cy","r"],fI={useVisualState:z_({scrapeMotionValuesFromProps:Y_,createRenderState:K_,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const d in o)if(Cs.has(d)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let d=0;d<Ky.length;d++){const f=Ky[d];n[f]!==e[f]&&(u=!0)}u&&Qe.read(()=>{dI(t,i),Qe.render(()=>{Ip(i,o,Pp(t.tagName),n.transformTemplate),Q_(t,i)})})}})},pI={useVisualState:z_({scrapeMotionValuesFromProps:Cp,createRenderState:Ap})};function J_(n,e,t){for(const i in e)!Ht(e[i])&&!X_(i,t)&&(n[i]=e[i])}function mI({transformTemplate:n},e){return me.useMemo(()=>{const t=Ap();return Sp(t,e,n),Object.assign({},t.vars,t.style)},[e])}function gI(n,e){const t=n.style||{},i={};return J_(i,t,n),Object.assign(i,mI(n,e)),i}function yI(n,e){const t={},i=gI(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function vI(n,e,t,i){const o=me.useMemo(()=>{const l=K_();return Ip(l,e,Pp(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};J_(l,n.style,n),o.style={...l,...o.style}}return o}function _I(n=!1){return(t,i,o,{latestValues:l},u)=>{const f=(_p(t)?vI:yI)(i,l,u,t),y=OS(i,typeof t=="string",n),_=t!==me.Fragment?{...y,...f,ref:o}:{},{children:T}=i,S=me.useMemo(()=>Ht(T)?T.get():T,[T]);return me.createElement(t,{..._,children:S})}}function wI(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={..._p(i)?fI:pI,preloadedFeatures:n,useRender:_I(o),createVisualElement:e,Component:i};return $S(u)}}function Z_(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function eh(n,e,t){const i=n.getProps();return wp(i,e,t!==void 0?t:i.custom,n)}const TI=pp(()=>window.ScrollTimeline!==void 0);class EI{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(TI()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class SI extends EI{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Rp(n,e){return n?n[e]||n.default||n:void 0}const If=2e4;function ew(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<If;)e+=t,i=n.next(e);return e>=If?1/0:e}function kp(n){return typeof n=="function"}function Wy(n,e){n.timeline=e,n.onfinish=null}const xp=n=>Array.isArray(n)&&typeof n[0]=="number",II={linearEasing:void 0};function AI(n,e){const t=pp(n);return()=>{var i;return(i=II[e])!==null&&i!==void 0?i:t()}}const Pc=AI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tw=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(Uo(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function nw(n){return!!(typeof n=="function"&&Pc()||!n||typeof n=="string"&&(n in Af||Pc())||xp(n)||Array.isArray(n)&&n.every(nw))}const Za=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Af={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Za([0,.65,.55,1]),circOut:Za([.55,0,1,.45]),backIn:Za([.31,.01,.66,-.59]),backOut:Za([.33,1.53,.69,.99])};function rw(n,e){if(n)return typeof n=="function"&&Pc()?tw(n,e):xp(n)?Za(n):Array.isArray(n)?n.map(t=>rw(t,e)||Af.easeOut):Af[n]}const Hn={x:!1,y:!1};function iw(){return Hn.x||Hn.y}function PI(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function sw(n,e){const t=PI(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function Gy(n){return e=>{e.pointerType==="touch"||iw()||n(e)}}function CI(n,e,t={}){const[i,o,l]=sw(n,t),u=Gy(d=>{const{target:f}=d,y=e(d);if(typeof y!="function"||!f)return;const _=Gy(T=>{y(T),f.removeEventListener("pointerleave",_)});f.addEventListener("pointerleave",_,o)});return i.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const ow=(n,e)=>e?n===e?!0:ow(n,e.parentElement):!1,Dp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,RI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kI(n){return RI.has(n.tagName)||n.tabIndex!==-1}const el=new WeakSet;function Qy(n){return e=>{e.key==="Enter"&&n(e)}}function Xd(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xI=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Qy(()=>{if(el.has(t))return;Xd(t,"down");const o=Qy(()=>{Xd(t,"up")}),l=()=>Xd(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Xy(n){return Dp(n)&&!iw()}function DI(n,e,t={}){const[i,o,l]=sw(n,t),u=d=>{const f=d.currentTarget;if(!Xy(d)||el.has(f))return;el.add(f);const y=e(d),_=(R,U)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),!(!Xy(R)||!el.has(f))&&(el.delete(f),typeof y=="function"&&y(R,{success:U}))},T=R=>{_(R,t.useGlobalTarget||ow(f,R.target))},S=R=>{_(R,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",S,o)};return i.forEach(d=>{!kI(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",y=>xI(y,o),o)}),l}function VI(n){return n==="x"||n==="y"?Hn[n]?null:(Hn[n]=!0,()=>{Hn[n]=!1}):Hn.x||Hn.y?null:(Hn.x=Hn.y=!0,()=>{Hn.x=Hn.y=!1})}const aw=new Set(["width","height","top","left","right","bottom",...Xo]);let fc;function NI(){fc=void 0}const lr={now:()=>(fc===void 0&&lr.set(Nt.isProcessing||RS.useManualTiming?Nt.timestamp:performance.now()),fc),set:n=>{fc=n,queueMicrotask(NI)}};function Vp(n,e){n.indexOf(e)===-1&&n.push(e)}function Np(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Op{constructor(){this.subscriptions=[]}add(e){return Vp(this.subscriptions,e),()=>Np(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function lw(n,e){return e?n*(1e3/e):0}const Yy=30,OI=n=>!isNaN(parseFloat(n));class MI{constructor(e,t={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=lr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Op);const i=this.events[e].add(t);return e==="change"?()=>{i(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Yy)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Yy);return lw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gl(n,e){return new MI(n,e)}function LI(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,gl(t))}function bI(n,e){const t=eh(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const u in l){const d=QS(l[u]);LI(n,u,d)}}function FI(n){return!!(Ht(n)&&n.add)}function Pf(n,e){const t=n.getValue("willChange");if(FI(t))return t.add(e)}function uw(n){return n.props[U_]}const cw=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,UI=1e-7,jI=12;function BI(n,e,t,i,o){let l,u,d=0;do u=e+(t-e)/2,l=cw(u,i,o)-n,l>0?t=u:e=u;while(Math.abs(l)>UI&&++d<jI);return u}function Pl(n,e,t,i){if(n===e&&t===i)return mn;const o=l=>BI(l,0,1,n,t);return l=>l===0||l===1?l:cw(o(l),e,i)}const hw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,dw=n=>e=>1-n(1-e),fw=Pl(.33,1.53,.69,.99),Mp=dw(fw),pw=hw(Mp),mw=n=>(n*=2)<1?.5*Mp(n):.5*(2-Math.pow(2,-10*(n-1))),Lp=n=>1-Math.sin(Math.acos(n)),gw=dw(Lp),yw=hw(Lp),vw=n=>/^0[^.\s]+$/u.test(n);function zI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||vw(n):!0}const sl=n=>Math.round(n*1e5)/1e5,bp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $I(n){return n==null}const HI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fp=(n,e)=>t=>!!(typeof t=="string"&&HI.test(t)&&t.startsWith(n)||e&&!$I(t)&&Object.prototype.hasOwnProperty.call(t,e)),_w=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,u,d]=i.match(bp);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},qI=n=>Br(0,255,n),Yd={...Yo,transform:n=>Math.round(qI(n))},ys={test:Fp("rgb","red"),parse:_w("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Yd.transform(n)+", "+Yd.transform(e)+", "+Yd.transform(t)+", "+sl(ml.transform(i))+")"};function KI(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Cf={test:Fp("#"),parse:KI,transform:ys.transform},Ro={test:Fp("hsl","hue"),parse:_w("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ar.transform(sl(e))+", "+ar.transform(sl(t))+", "+sl(ml.transform(i))+")"},Bt={test:n=>ys.test(n)||Cf.test(n)||Ro.test(n),parse:n=>ys.test(n)?ys.parse(n):Ro.test(n)?Ro.parse(n):Cf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ys.transform(n):Ro.transform(n)},WI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GI(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(bp))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(WI))===null||t===void 0?void 0:t.length)||0)>0}const ww="number",Tw="color",QI="var",XI="var(",Jy="${}",YI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yl(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(YI,f=>(Bt.test(f)?(i.color.push(l),o.push(Tw),t.push(Bt.parse(f))):f.startsWith(XI)?(i.var.push(l),o.push(QI),t.push(f)):(i.number.push(l),o.push(ww),t.push(parseFloat(f))),++l,Jy)).split(Jy);return{values:t,split:d,indexes:i,types:o}}function Ew(n){return yl(n).values}function Sw(n){const{split:e,types:t}=yl(n),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const d=t[u];d===ww?l+=sl(o[u]):d===Tw?l+=Bt.transform(o[u]):l+=o[u]}return l}}const JI=n=>typeof n=="number"?0:n;function ZI(n){const e=Ew(n);return Sw(n)(e.map(JI))}const ki={test:GI,parse:Ew,createTransformer:Sw,getAnimatableNone:ZI},eA=new Set(["brightness","contrast","saturate","opacity"]);function tA(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(bp)||[];if(!i)return n;const o=t.replace(i,"");let l=eA.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const nA=/\b([a-z-]*)\(.*?\)/gu,Rf={...ki,getAnimatableNone:n=>{const e=n.match(nA);return e?e.map(tA).join(" "):n}},rA={...Ep,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:Rf,WebkitFilter:Rf},Up=n=>rA[n];function Iw(n,e){let t=Up(n);return t!==Rf&&(t=ki),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const iA=new Set(["auto","none","0"]);function sA(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!iA.has(l)&&yl(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=Iw(t,o)}const Zy=n=>n===Yo||n===ve,ev=(n,e)=>parseFloat(n.split(", ")[e]),tv=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return ev(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?ev(l[1],n):0}},oA=new Set(["x","y","z"]),aA=Xo.filter(n=>!oA.has(n));function lA(n){const e=[];return aA.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Bo={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:tv(4,13),y:tv(5,14)};Bo.translateX=Bo.x;Bo.translateY=Bo.y;const ws=new Set;let kf=!1,xf=!1;function Aw(){if(xf){const n=Array.from(ws).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=lA(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,u])=>{var d;(d=i.getValue(l))===null||d===void 0||d.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}xf=!1,kf=!1,ws.forEach(n=>n.complete()),ws.clear()}function Pw(){ws.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(xf=!0)})}function uA(){Pw(),Aw()}class jp{constructor(e,t,i,o,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ws.add(this),kf||(kf=!0,Qe.read(Pw),Qe.resolveKeyframes(Aw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=o==null?void 0:o.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&t){const f=i.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ws.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ws.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Cw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),cA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hA(n){const e=cA.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function Rw(n,e,t=1){const[i,o]=hA(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return Cw(u)?parseFloat(u):u}return Tp(o)?Rw(o,e,t+1):o}const kw=n=>e=>e.test(n),dA={test:n=>n==="auto",parse:n=>n},xw=[Yo,ve,ar,vi,tI,eI,dA],nv=n=>xw.find(kw(n));class Dw extends jp{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let y=e[f];if(typeof y=="string"&&(y=y.trim(),Tp(y))){const _=Rw(y,t.current);_!==void 0&&(e[f]=_),f===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!aw.has(i)||e.length!==2)return;const[o,l]=e,u=nv(o),d=nv(l);if(u!==d)if(Zy(u)&&Zy(d))for(let f=0;f<e.length;f++){const y=e[f];typeof y=="string"&&(e[f]=parseFloat(y))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)zI(e[o])&&i.push(o);i.length&&sA(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=Bo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,y])=>{t.getValue(f).set(y)}),this.resolveNoneKeyframes()}}const rv=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ki.test(n)||n==="0")&&!n.startsWith("url("));function fA(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function pA(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],u=rv(o,e),d=rv(l,e);return!u||!d?!1:fA(n)||(t==="spring"||kp(t))&&i}const mA=n=>n!==null;function th(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(mA),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const gA=40;class Vw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=lr.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>gA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uA(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=lr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:u,onComplete:d,onUpdate:f,isGenerator:y}=this.options;if(!y&&!pA(e,i,o,l))if(u)this.options.duration=0;else{f==null||f(th(e,this.options,t)),d==null||d(),this.resolveFinishedPromise();return}const _=this.initPlayback(e,t);_!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,..._},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const tt=(n,e,t)=>n+(e-n)*t;function Jd(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function yA({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,u=0;if(!e)o=l=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Jd(f,d,n+1/3),l=Jd(f,d,n),u=Jd(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Cc(n,e){return t=>t>0?e:n}const Zd=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},vA=[Cf,ys,Ro],_A=n=>vA.find(e=>e.test(n));function iv(n){const e=_A(n);if(!e)return!1;let t=e.parse(n);return e===Ro&&(t=yA(t)),t}const sv=(n,e)=>{const t=iv(n),i=iv(e);if(!t||!i)return Cc(n,e);const o={...t};return l=>(o.red=Zd(t.red,i.red,l),o.green=Zd(t.green,i.green,l),o.blue=Zd(t.blue,i.blue,l),o.alpha=tt(t.alpha,i.alpha,l),ys.transform(o))},wA=(n,e)=>t=>e(n(t)),Cl=(...n)=>n.reduce(wA),Df=new Set(["none","hidden"]);function TA(n,e){return Df.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function EA(n,e){return t=>tt(n,e,t)}function Bp(n){return typeof n=="number"?EA:typeof n=="string"?Tp(n)?Cc:Bt.test(n)?sv:AA:Array.isArray(n)?Nw:typeof n=="object"?Bt.test(n)?sv:SA:Cc}function Nw(n,e){const t=[...n],i=t.length,o=n.map((l,u)=>Bp(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)t[u]=o[u](l);return t}}function SA(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=Bp(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function IA(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],d=n.indexes[u][o[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;i[l]=f,o[u]++}return i}const AA=(n,e)=>{const t=ki.createTransformer(e),i=yl(n),o=yl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Df.has(n)&&!o.values.length||Df.has(e)&&!i.values.length?TA(n,e):Cl(Nw(IA(i,o),o.values),t):Cc(n,e)};function Ow(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?tt(n,e,t):Bp(n)(n,e)}const PA=5;function Mw(n,e,t){const i=Math.max(e-PA,0);return lw(t-n(i),e-i)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ef=.001;function CA({duration:n=it.duration,bounce:e=it.bounce,velocity:t=it.velocity,mass:i=it.mass}){let o,l,u=1-e;u=Br(it.minDamping,it.maxDamping,u),n=Br(it.minDuration,it.maxDuration,jr(n)),u<1?(o=y=>{const _=y*u,T=_*n,S=_-t,R=Vf(y,u),U=Math.exp(-T);return ef-S/R*U},l=y=>{const T=y*u*n,S=T*t+t,R=Math.pow(u,2)*Math.pow(y,2)*n,U=Math.exp(-T),B=Vf(Math.pow(y,2),u);return(-o(y)+ef>0?-1:1)*((S-R)*U)/B}):(o=y=>{const _=Math.exp(-y*n),T=(y-t)*n+1;return-ef+_*T},l=y=>{const _=Math.exp(-y*n),T=(t-y)*(n*n);return _*T});const d=5/n,f=kA(o,l,d);if(n=Ur(n),isNaN(f))return{stiffness:it.stiffness,damping:it.damping,duration:n};{const y=Math.pow(f,2)*i;return{stiffness:y,damping:u*2*Math.sqrt(i*y),duration:n}}}const RA=12;function kA(n,e,t){let i=t;for(let o=1;o<RA;o++)i=i-n(i)/e(i);return i}function Vf(n,e){return n*Math.sqrt(1-e*e)}const xA=["duration","bounce"],DA=["stiffness","damping","mass"];function ov(n,e){return e.some(t=>n[t]!==void 0)}function VA(n){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...n};if(!ov(n,DA)&&ov(n,xA))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*Br(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:it.mass,stiffness:o,damping:l}}else{const t=CA(n);e={...e,...t,mass:it.mass},e.isResolvedFromDuration=!0}return e}function Lw(n=it.visualDuration,e=it.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:y,mass:_,duration:T,velocity:S,isResolvedFromDuration:R}=VA({...t,velocity:-jr(t.velocity||0)}),U=S||0,B=y/(2*Math.sqrt(f*_)),F=u-l,H=jr(Math.sqrt(f/_)),Y=Math.abs(F)<5;i||(i=Y?it.restSpeed.granular:it.restSpeed.default),o||(o=Y?it.restDelta.granular:it.restDelta.default);let Q;if(B<1){const ie=Vf(H,B);Q=ae=>{const x=Math.exp(-B*H*ae);return u-x*((U+B*H*F)/ie*Math.sin(ie*ae)+F*Math.cos(ie*ae))}}else if(B===1)Q=ie=>u-Math.exp(-H*ie)*(F+(U+H*F)*ie);else{const ie=H*Math.sqrt(B*B-1);Q=ae=>{const x=Math.exp(-B*H*ae),I=Math.min(ie*ae,300);return u-x*((U+B*H*F)*Math.sinh(I)+ie*F*Math.cosh(I))/ie}}const ne={calculatedDuration:R&&T||null,next:ie=>{const ae=Q(ie);if(R)d.done=ie>=T;else{let x=0;B<1&&(x=ie===0?Ur(U):Mw(Q,ie,ae));const I=Math.abs(x)<=i,P=Math.abs(u-ae)<=o;d.done=I&&P}return d.value=d.done?u:ae,d},toString:()=>{const ie=Math.min(ew(ne),If),ae=tw(x=>ne.next(ie*x).value,ie,30);return ie+"ms "+ae}};return ne}function av({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:y=.5,restSpeed:_}){const T=n[0],S={done:!1,value:T},R=I=>d!==void 0&&I<d||f!==void 0&&I>f,U=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let B=t*e;const F=T+B,H=u===void 0?F:u(F);H!==F&&(B=H-T);const Y=I=>-B*Math.exp(-I/i),Q=I=>H+Y(I),ne=I=>{const P=Y(I),D=Q(I);S.done=Math.abs(P)<=y,S.value=S.done?H:D};let ie,ae;const x=I=>{R(S.value)&&(ie=I,ae=Lw({keyframes:[S.value,U(S.value)],velocity:Mw(Q,I,S.value),damping:o,stiffness:l,restDelta:y,restSpeed:_}))};return x(0),{calculatedDuration:null,next:I=>{let P=!1;return!ae&&ie===void 0&&(P=!0,ne(I),x(I)),ie!==void 0&&I>=ie?ae.next(I-ie):(!P&&ne(I),S)}}}const NA=Pl(.42,0,1,1),OA=Pl(0,0,.58,1),bw=Pl(.42,0,.58,1),MA=n=>Array.isArray(n)&&typeof n[0]!="number",lv={linear:mn,easeIn:NA,easeInOut:bw,easeOut:OA,circIn:Lp,circInOut:yw,circOut:gw,backIn:Mp,backInOut:pw,backOut:fw,anticipate:mw},uv=n=>{if(xp(n)){Ef(n.length===4);const[e,t,i,o]=n;return Pl(e,t,i,o)}else if(typeof n=="string")return Ef(lv[n]!==void 0),lv[n];return n};function LA(n,e,t){const i=[],o=t||Ow,l=n.length-1;for(let u=0;u<l;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||mn:e;d=Cl(f,d)}i.push(d)}return i}function bA(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(Ef(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=LA(e,i,o),f=d.length,y=_=>{if(u&&_<n[0])return e[0];let T=0;if(f>1)for(;T<n.length-2&&!(_<n[T+1]);T++);const S=Uo(n[T],n[T+1],_);return d[T](S)};return t?_=>y(Br(n[0],n[l-1],_)):y}function FA(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=Uo(0,e,i);n.push(tt(t,1,o))}}function UA(n){const e=[0];return FA(e,n.length-1),e}function jA(n,e){return n.map(t=>t*e)}function BA(n,e){return n.map(()=>e||bw).splice(0,n.length-1)}function Rc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=MA(i)?i.map(uv):uv(i),l={done:!1,value:e[0]},u=jA(t&&t.length===e.length?t:UA(e),n),d=bA(u,e,{ease:Array.isArray(o)?o:BA(e,o)});return{calculatedDuration:n,next:f=>(l.value=d(f),l.done=f>=n,l)}}const zA=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Qe.update(e,!0),stop:()=>Ri(e),now:()=>Nt.isProcessing?Nt.timestamp:lr.now()}},$A={decay:av,inertia:av,tween:Rc,keyframes:Rc,spring:Lw},HA=n=>n/100;class zp extends Vw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,u=(o==null?void 0:o.KeyframeResolver)||jp,d=(f,y)=>this.onKeyframesResolved(f,y);this.resolver=new u(l,d,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=this.options,d=kp(t)?t:$A[t]||Rc;let f,y;d!==Rc&&typeof e[0]!="number"&&(f=Cl(HA,Ow(e[0],e[1])),e=[0,100]);const _=d({...this.options,keyframes:e});l==="mirror"&&(y=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),_.calculatedDuration===null&&(_.calculatedDuration=ew(_));const{calculatedDuration:T}=_,S=T+o,R=S*(i+1)-o;return{generator:_,mirroredGenerator:y,mapPercentToKeyframes:f,calculatedDuration:T,resolvedDuration:S,totalDuration:R}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:y,totalDuration:_,resolvedDuration:T}=i;if(this.startTime===null)return l.next(0);const{delay:S,repeat:R,repeatType:U,repeatDelay:B,onUpdate:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-_/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const H=this.currentTime-S*(this.speed>=0?1:-1),Y=this.speed>=0?H<0:H>_;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=_);let Q=this.currentTime,ne=l;if(R){const I=Math.min(this.currentTime,_)/T;let P=Math.floor(I),D=I%1;!D&&I>=1&&(D=1),D===1&&P--,P=Math.min(P,R+1),!!(P%2)&&(U==="reverse"?(D=1-D,B&&(D-=B/T)):U==="mirror"&&(ne=u)),Q=Br(0,1,D)*T}const ie=Y?{done:!1,value:f[0]}:ne.next(Q);d&&(ie.value=d(ie.value));let{done:ae}=ie;!Y&&y!==null&&(ae=this.speed>=0?this.currentTime>=_:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return x&&o!==void 0&&(ie.value=th(f,this.options,o)),F&&F(ie.value),x&&this.finish(),ie}get duration(){const{resolved:e}=this;return e?jr(e.calculatedDuration):0}get time(){return jr(this.currentTime)}set time(e){e=Ur(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=jr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zA,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const qA=new Set(["opacity","clipPath","filter","transform"]);function KA(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const y={[e]:t};f&&(y.offset=f);const _=rw(d,o);return Array.isArray(_)&&(y.easing=_),n.animate(y,{delay:i,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const WA=pp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kc=10,GA=2e4;function QA(n){return kp(n.type)||n.type==="spring"||!nw(n.ease)}function XA(n,e){const t=new zp({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<GA;)i=t.sample(l),o.push(i.value),l+=kc;return{times:void 0,keyframes:o,duration:l-kc,ease:"linear"}}const Fw={anticipate:mw,backInOut:pw,circInOut:yw};function YA(n){return n in Fw}class cv extends Vw{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new Dw(l,(u,d)=>this.onKeyframesResolved(u,d),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:o=300,times:l,ease:u,type:d,motionValue:f,name:y,startTime:_}=this.options;if(!(!((i=f.owner)===null||i===void 0)&&i.current))return!1;if(typeof u=="string"&&Pc()&&YA(u)&&(u=Fw[u]),QA(this.options)){const{onComplete:S,onUpdate:R,motionValue:U,element:B,...F}=this.options,H=XA(e,F);e=H.keyframes,e.length===1&&(e[1]=e[0]),o=H.duration,l=H.times,u=H.ease,d="keyframes"}const T=KA(f.owner.current,y,e,{...this.options,duration:o,times:l,ease:u});return T.startTime=_??this.calcStartTime(),this.pendingTimeline?(Wy(T,this.pendingTimeline),this.pendingTimeline=void 0):T.onfinish=()=>{const{onComplete:S}=this.options;f.set(th(e,this.options,t)),S&&S(),this.cancel(),this.resolveFinishedPromise()},{animation:T,duration:o,times:l,type:d,ease:u,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return jr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return jr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Ur(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return mn;const{animation:i}=t;Wy(i,e)}return mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:y,onUpdate:_,onComplete:T,element:S,...R}=this.options,U=new zp({...R,keyframes:i,duration:o,type:l,ease:u,times:d,isGenerator:!0}),B=Ur(this.time);y.setWithVelocity(U.sample(B-kc).value,U.sample(B).value,kc)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:u,type:d}=e;return WA()&&i&&qA.has(i)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!o&&l!=="mirror"&&u!==0&&d!=="inertia"}}const JA={type:"spring",stiffness:500,damping:25,restSpeed:10},ZA=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),eP={type:"keyframes",duration:.8},tP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nP=(n,{keyframes:e})=>e.length>2?eP:Cs.has(n)?n.startsWith("scale")?ZA(e[1]):JA:tP;function rP({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:y,..._}){return!!Object.keys(_).length}const $p=(n,e,t,i={},o,l)=>u=>{const d=Rp(i,n)||{},f=d.delay||i.delay||0;let{elapsed:y=0}=i;y=y-Ur(f);let _={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-y,onUpdate:S=>{e.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:l?void 0:o};rP(d)||(_={..._,...nP(n,_)}),_.duration&&(_.duration=Ur(_.duration)),_.repeatDelay&&(_.repeatDelay=Ur(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let T=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&(T=!0)),T&&!l&&e.get()!==void 0){const S=th(_.keyframes,d);if(S!==void 0)return Qe.update(()=>{_.onUpdate(S),_.onComplete()}),new SI([])}return!l&&cv.supports(_)?new cv(_):new zp(_)};function iP({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function Uw(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;i&&(u=i);const y=[],_=o&&n.animationState&&n.animationState.getState()[o];for(const T in f){const S=n.getValue(T,(l=n.latestValues[T])!==null&&l!==void 0?l:null),R=f[T];if(R===void 0||_&&iP(_,T))continue;const U={delay:t,...Rp(u||{},T)};let B=!1;if(window.MotionHandoffAnimation){const H=uw(n);if(H){const Y=window.MotionHandoffAnimation(H,T,Qe);Y!==null&&(U.startTime=Y,B=!0)}}Pf(n,T),S.start($p(T,S,R,n.shouldReduceMotion&&aw.has(T)?{type:!1}:U,n,B));const F=S.animation;F&&y.push(F)}return d&&Promise.all(y).then(()=>{Qe.update(()=>{d&&bI(n,d)})}),y}function Nf(n,e,t={}){var i;const o=eh(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const u=o?()=>Promise.all(Uw(n,o,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:T,staggerDirection:S}=l;return sP(n,e,_+y,T,S,t)}:()=>Promise.resolve(),{when:f}=l;if(f){const[y,_]=f==="beforeChildren"?[u,d]:[d,u];return y().then(()=>_())}else return Promise.all([u(),d(t.delay)])}function sP(n,e,t=0,i=0,o=1,l){const u=[],d=(n.variantChildren.size-1)*i,f=o===1?(y=0)=>y*i:(y=0)=>d-y*i;return Array.from(n.variantChildren).sort(oP).forEach((y,_)=>{y.notify("AnimationStart",e),u.push(Nf(y,e,{...l,delay:t+f(_)}).then(()=>y.notify("AnimationComplete",e)))}),Promise.all(u)}function oP(n,e){return n.sortNodePosition(e)}function aP(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>Nf(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=Nf(n,e,t);else{const o=typeof e=="function"?eh(n,e,t.custom):e;i=Promise.all(Uw(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const lP=gp.length;function jw(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?jw(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<lP;t++){const i=gp[t],o=n.props[i];(pl(o)||o===!1)&&(e[i]=o)}return e}const uP=[...mp].reverse(),cP=mp.length;function hP(n){return e=>Promise.all(e.map(({animation:t,options:i})=>aP(n,t,i)))}function dP(n){let e=hP(n),t=hv(),i=!0;const o=f=>(y,_)=>{var T;const S=eh(n,_,f==="exit"?(T=n.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(S){const{transition:R,transitionEnd:U,...B}=S;y={...y,...B,...U}}return y};function l(f){e=f(n)}function u(f){const{props:y}=n,_=jw(n.parent)||{},T=[],S=new Set;let R={},U=1/0;for(let F=0;F<cP;F++){const H=uP[F],Y=t[H],Q=y[H]!==void 0?y[H]:_[H],ne=pl(Q),ie=H===f?Y.isActive:null;ie===!1&&(U=F);let ae=Q===_[H]&&Q!==y[H]&&ne;if(ae&&i&&n.manuallyAnimateOnMount&&(ae=!1),Y.protectedKeys={...R},!Y.isActive&&ie===null||!Q&&!Y.prevProp||Jc(Q)||typeof Q=="boolean")continue;const x=fP(Y.prevProp,Q);let I=x||H===f&&Y.isActive&&!ae&&ne||F>U&&ne,P=!1;const D=Array.isArray(Q)?Q:[Q];let N=D.reduce(o(H),{});ie===!1&&(N={});const{prevResolvedValues:M={}}=Y,C={...M,...N},Xe=Se=>{I=!0,S.has(Se)&&(P=!0,S.delete(Se)),Y.needsAnimating[Se]=!0;const Z=n.getValue(Se);Z&&(Z.liveStyle=!1)};for(const Se in C){const Z=N[Se],fe=M[Se];if(R.hasOwnProperty(Se))continue;let se=!1;Sf(Z)&&Sf(fe)?se=!Z_(Z,fe):se=Z!==fe,se?Z!=null?Xe(Se):S.add(Se):Z!==void 0&&S.has(Se)?Xe(Se):Y.protectedKeys[Se]=!0}Y.prevProp=Q,Y.prevResolvedValues=N,Y.isActive&&(R={...R,...N}),i&&n.blockInitialAnimation&&(I=!1),I&&(!(ae&&x)||P)&&T.push(...D.map(Se=>({animation:Se,options:{type:H}})))}if(S.size){const F={};S.forEach(H=>{const Y=n.getBaseTarget(H),Q=n.getValue(H);Q&&(Q.liveStyle=!0),F[H]=Y??null}),T.push({animation:F})}let B=!!T.length;return i&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(B=!1),i=!1,B?e(T):Promise.resolve()}function d(f,y){var _;if(t[f].isActive===y)return Promise.resolve();(_=n.variantChildren)===null||_===void 0||_.forEach(S=>{var R;return(R=S.animationState)===null||R===void 0?void 0:R.setActive(f,y)}),t[f].isActive=y;const T=u(f);for(const S in t)t[S].protectedKeys={};return T}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>t,reset:()=>{t=hv(),i=!0}}}function fP(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Z_(e,n):!1}function fs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hv(){return{animate:fs(!0),whileInView:fs(),whileHover:fs(),whileTap:fs(),whileDrag:fs(),whileFocus:fs(),exit:fs()}}class bi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pP extends bi{constructor(e){super(e),e.animationState||(e.animationState=dP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let mP=0;class gP extends bi{constructor(){super(...arguments),this.id=mP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const yP={animation:{Feature:pP},exit:{Feature:gP}};function vl(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Rl(n){return{point:{x:n.pageX,y:n.pageY}}}const vP=n=>e=>Dp(e)&&n(e,Rl(e));function ol(n,e,t,i){return vl(n,e,vP(t),i)}const dv=(n,e)=>Math.abs(n-e);function _P(n,e){const t=dv(n.x,e.x),i=dv(n.y,e.y);return Math.sqrt(t**2+i**2)}class Bw{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=nf(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,R=_P(T.offset,{x:0,y:0})>=3;if(!S&&!R)return;const{point:U}=T,{timestamp:B}=Nt;this.history.push({...U,timestamp:B});const{onStart:F,onMove:H}=this.handlers;S||(F&&F(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=tf(S,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:R,onSessionEnd:U,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=nf(T.type==="pointercancel"?this.lastMoveEventInfo:tf(S,this.transformPagePoint),this.history);this.startEvent&&R&&R(T,F),U&&U(T,F)},!Dp(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const u=Rl(e),d=tf(u,this.transformPagePoint),{point:f}=d,{timestamp:y}=Nt;this.history=[{...f,timestamp:y}];const{onSessionStart:_}=t;_&&_(e,nf(d,this.history)),this.removeListeners=Cl(ol(this.contextWindow,"pointermove",this.handlePointerMove),ol(this.contextWindow,"pointerup",this.handlePointerUp),ol(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}}function tf(n,e){return e?{point:e(n.point)}:n}function fv(n,e){return{x:n.x-e.x,y:n.y-e.y}}function nf({point:n},e){return{point:n,delta:fv(n,zw(e)),offset:fv(n,wP(e)),velocity:TP(e,.1)}}function wP(n){return n[0]}function zw(n){return n[n.length-1]}function TP(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=zw(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>Ur(e)));)t--;if(!i)return{x:0,y:0};const l=jr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const $w=1e-4,EP=1-$w,SP=1+$w,Hw=.01,IP=0-Hw,AP=0+Hw;function gn(n){return n.max-n.min}function PP(n,e,t){return Math.abs(n-e)<=t}function pv(n,e,t,i=.5){n.origin=i,n.originPoint=tt(e.min,e.max,n.origin),n.scale=gn(t)/gn(e),n.translate=tt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=EP&&n.scale<=SP||isNaN(n.scale))&&(n.scale=1),(n.translate>=IP&&n.translate<=AP||isNaN(n.translate))&&(n.translate=0)}function al(n,e,t,i){pv(n.x,e.x,t.x,i?i.originX:void 0),pv(n.y,e.y,t.y,i?i.originY:void 0)}function mv(n,e,t){n.min=t.min+e.min,n.max=n.min+gn(e)}function CP(n,e,t){mv(n.x,e.x,t.x),mv(n.y,e.y,t.y)}function gv(n,e,t){n.min=e.min-t.min,n.max=n.min+gn(e)}function ll(n,e,t){gv(n.x,e.x,t.x),gv(n.y,e.y,t.y)}function RP(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?tt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?tt(t,n,i.max):Math.min(n,t)),n}function yv(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function kP(n,{top:e,left:t,bottom:i,right:o}){return{x:yv(n.x,t,o),y:yv(n.y,e,i)}}function vv(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function xP(n,e){return{x:vv(n.x,e.x),y:vv(n.y,e.y)}}function DP(n,e){let t=.5;const i=gn(n),o=gn(e);return o>i?t=Uo(e.min,e.max-i,n.min):i>o&&(t=Uo(n.min,n.max-o,e.min)),Br(0,1,t)}function VP(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Of=.35;function NP(n=Of){return n===!1?n=0:n===!0&&(n=Of),{x:_v(n,"left","right"),y:_v(n,"top","bottom")}}function _v(n,e,t){return{min:wv(n,e),max:wv(n,t)}}function wv(n,e){return typeof n=="number"?n:n[e]||0}const Tv=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:Tv(),y:Tv()}),Ev=()=>({min:0,max:0}),lt=()=>({x:Ev(),y:Ev()});function Rn(n){return[n("x"),n("y")]}function qw({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function OP({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function MP(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function rf(n){return n===void 0||n===1}function Mf({scale:n,scaleX:e,scaleY:t}){return!rf(n)||!rf(e)||!rf(t)}function ps(n){return Mf(n)||Kw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Kw(n){return Sv(n.x)||Sv(n.y)}function Sv(n){return n&&n!=="0%"}function xc(n,e,t){const i=n-t,o=e*i;return t+o}function Iv(n,e,t,i,o){return o!==void 0&&(n=xc(n,o,i)),xc(n,t,i)+e}function Lf(n,e=0,t=1,i,o){n.min=Iv(n.min,e,t,i,o),n.max=Iv(n.max,e,t,i,o)}function Ww(n,{x:e,y:t}){Lf(n.x,e.translate,e.scale,e.originPoint),Lf(n.y,t.translate,t.scale,t.originPoint)}const Av=.999999999999,Pv=1.0000000000001;function LP(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=t[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Do(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Ww(n,u)),i&&ps(l.latestValues)&&Do(n,l.latestValues))}e.x<Pv&&e.x>Av&&(e.x=1),e.y<Pv&&e.y>Av&&(e.y=1)}function xo(n,e){n.min=n.min+e,n.max=n.max+e}function Cv(n,e,t,i,o=.5){const l=tt(n.min,n.max,o);Lf(n,e,t,l,i)}function Do(n,e){Cv(n.x,e.x,e.scaleX,e.scale,e.originX),Cv(n.y,e.y,e.scaleY,e.scale,e.originY)}function Gw(n,e){return qw(MP(n.getBoundingClientRect(),e))}function bP(n,e,t){const i=Gw(n,t),{scroll:o}=e;return o&&(xo(i.x,o.offset.x),xo(i.y,o.offset.y)),i}const Qw=({current:n})=>n?n.ownerDocument.defaultView:null,FP=new WeakMap;class UP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Rl(_).point)},l=(_,T)=>{const{drag:S,dragPropagation:R,onDragStart:U}=this.getProps();if(S&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VI(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(F=>{let H=this.getAxisMotionValue(F).get()||0;if(ar.test(H)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const Q=Y.layout.layoutBox[F];Q&&(H=gn(Q)*(parseFloat(H)/100))}}this.originPoint[F]=H}),U&&Qe.postRender(()=>U(_,T)),Pf(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},u=(_,T)=>{const{dragPropagation:S,dragDirectionLock:R,onDirectionLock:U,onDrag:B}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:F}=T;if(R&&this.currentDirection===null){this.currentDirection=jP(F),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",T.point,F),this.updateAxis("y",T.point,F),this.visualElement.render(),B&&B(_,T)},d=(_,T)=>this.stop(_,T),f=()=>Rn(_=>{var T;return this.getAnimationState(_)==="paused"&&((T=this.getAxisMotionValue(_).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Bw(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,contextWindow:Qw(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Qe.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!nc(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=RP(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&Co(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=kP(o.layoutBox,t):this.constraints=!1,this.elastic=NP(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Rn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=VP(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Co(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=bP(i,o.root,this.visualElement.getTransformPagePoint());let u=xP(o.layout.layoutBox,l);if(t){const d=t(OP(u));this.hasMutatedConstraints=!!d,d&&(u=qw(d))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},y=Rn(_=>{if(!nc(_,t,this.currentDirection))return;let T=f[_]||{};u&&(T={min:0,max:0});const S=o?200:1e6,R=o?40:1e7,U={type:"inertia",velocity:i?e[_]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(_,U)});return Promise.all(y).then(d)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Pf(this.visualElement,e),i.start($p(e,i,0,t,this.visualElement,!1))}stopAnimation(){Rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Rn(t=>{const{drag:i}=this.getProps();if(!nc(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];l.set(e[t]-tt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Co(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Rn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=DP({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rn(u=>{if(!nc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:y}=this.constraints[u];d.set(tt(f,y,o[u]))})}addListeners(){if(!this.visualElement.current)return;FP.set(this.visualElement,this);const e=this.visualElement.current,t=ol(e,"pointerdown",f=>{const{drag:y,dragListener:_=!0}=this.getProps();y&&_&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Co(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Qe.read(i);const u=vl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:y})=>{this.isDragging&&y&&(Rn(_=>{const T=this.getAxisMotionValue(_);T&&(this.originPoint[_]+=f[_].translate,T.set(T.get()+f[_].translate))}),this.visualElement.render())});return()=>{u(),t(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Of,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function nc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function jP(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class BP extends bi{constructor(e){super(e),this.removeGroupControls=mn,this.removeListeners=mn,this.controls=new UP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rv=n=>(e,t)=>{n&&Qe.postRender(()=>n(e,t))};class zP extends bi{constructor(){super(...arguments),this.removePointerDownListener=mn}onPointerDown(e){this.session=new Bw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Rv(e),onStart:Rv(t),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Qe.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ol(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kv(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ja={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ve.test(n))n=parseFloat(n);else return n;const t=kv(n,e.target.x),i=kv(n,e.target.y);return`${t}% ${i}%`}},$P={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=ki.parse(n);if(o.length>5)return i;const l=ki.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const y=tt(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=y),typeof o[3+u]=="number"&&(o[3+u]/=y),l(o)}};class HP extends me.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;hI(qP),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),pc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Qe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xw(n){const[e,t]=PS(),i=me.useContext(N_);return ee.jsx(HP,{...n,layoutGroup:i,switchLayoutGroup:me.useContext(j_),isPresent:e,safeToRemove:t})}const qP={borderRadius:{...Ja,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ja,borderTopRightRadius:Ja,borderBottomLeftRadius:Ja,borderBottomRightRadius:Ja,boxShadow:$P};function KP(n,e,t){const i=Ht(n)?n:gl(n);return i.start($p("",i,e,t)),i.animation}function WP(n){return n instanceof SVGElement&&n.tagName!=="svg"}const GP=(n,e)=>n.depth-e.depth;class QP{constructor(){this.children=[],this.isDirty=!1}add(e){Vp(this.children,e),this.isDirty=!0}remove(e){Np(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GP),this.isDirty=!1,this.children.forEach(e)}}function XP(n,e){const t=lr.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(Ri(i),n(l-e))};return Qe.read(i,!0),()=>Ri(i)}const Yw=["TopLeft","TopRight","BottomLeft","BottomRight"],YP=Yw.length,xv=n=>typeof n=="string"?parseFloat(n):n,Dv=n=>typeof n=="number"||ve.test(n);function JP(n,e,t,i,o,l){o?(n.opacity=tt(0,t.opacity!==void 0?t.opacity:1,ZP(i)),n.opacityExit=tt(e.opacity!==void 0?e.opacity:1,0,eC(i))):l&&(n.opacity=tt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let u=0;u<YP;u++){const d=`border${Yw[u]}Radius`;let f=Vv(e,d),y=Vv(t,d);if(f===void 0&&y===void 0)continue;f||(f=0),y||(y=0),f===0||y===0||Dv(f)===Dv(y)?(n[d]=Math.max(tt(xv(f),xv(y),i),0),(ar.test(y)||ar.test(f))&&(n[d]+="%")):n[d]=y}(e.rotate||t.rotate)&&(n.rotate=tt(e.rotate||0,t.rotate||0,i))}function Vv(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const ZP=Jw(0,.5,gw),eC=Jw(.5,.95,mn);function Jw(n,e,t){return i=>i<n?0:i>e?1:t(Uo(n,e,i))}function Nv(n,e){n.min=e.min,n.max=e.max}function Cn(n,e){Nv(n.x,e.x),Nv(n.y,e.y)}function Ov(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Mv(n,e,t,i,o){return n-=e,n=xc(n,1/t,i),o!==void 0&&(n=xc(n,1/o,i)),n}function tC(n,e=0,t=1,i=.5,o,l=n,u=n){if(ar.test(e)&&(e=parseFloat(e),e=tt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=tt(l.min,l.max,i);n===l&&(d-=e),n.min=Mv(n.min,e,t,d,o),n.max=Mv(n.max,e,t,d,o)}function Lv(n,e,[t,i,o],l,u){tC(n,e[t],e[i],e[o],e.scale,l,u)}const nC=["x","scaleX","originX"],rC=["y","scaleY","originY"];function bv(n,e,t,i){Lv(n.x,e,nC,t?t.x:void 0,i?i.x:void 0),Lv(n.y,e,rC,t?t.y:void 0,i?i.y:void 0)}function Fv(n){return n.translate===0&&n.scale===1}function Zw(n){return Fv(n.x)&&Fv(n.y)}function Uv(n,e){return n.min===e.min&&n.max===e.max}function iC(n,e){return Uv(n.x,e.x)&&Uv(n.y,e.y)}function jv(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function eT(n,e){return jv(n.x,e.x)&&jv(n.y,e.y)}function Bv(n){return gn(n.x)/gn(n.y)}function zv(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class sC{constructor(){this.members=[]}add(e){Vp(this.members,e),e.scheduleRender()}remove(e){if(Np(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oC(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:y,rotate:_,rotateX:T,rotateY:S,skewX:R,skewY:U}=t;y&&(i=`perspective(${y}px) ${i}`),_&&(i+=`rotate(${_}deg) `),T&&(i+=`rotateX(${T}deg) `),S&&(i+=`rotateY(${S}deg) `),R&&(i+=`skewX(${R}deg) `),U&&(i+=`skewY(${U}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tl=typeof window<"u"&&window.MotionDebug!==void 0,sf=["","X","Y","Z"],aC={visibility:"hidden"},$v=1e3;let lC=0;function of(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function tT(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=uw(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Qe,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&tT(i)}function nT({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=e==null?void 0:e()){this.id=lC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tl&&(ms.totalNodes=ms.resolvedTargetDeltas=ms.recalculatedProjection=0),this.nodes.forEach(hC),this.nodes.forEach(gC),this.nodes.forEach(yC),this.nodes.forEach(dC),tl&&window.MotionDebug.record(ms)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new QP)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Op),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WP(u),this.instance=u;const{layoutId:f,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(y||f)&&(this.isLayoutDirty=!0),n){let T;const S=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=XP(S,250),pc.hasAnimatedSinceResize&&(pc.hasAnimatedSinceResize=!1,this.nodes.forEach(qv))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&_&&(f||y)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:S,hasRelativeTargetChanged:R,layout:U})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||_.getDefaultTransition()||EC,{onLayoutAnimationStart:F,onLayoutAnimationComplete:H}=_.getProps(),Y=!this.targetLayout||!eT(this.targetLayout,U)||R,Q=!S&&R;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Q||S&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,Q);const ne={...Rp(B,"layout"),onPlay:F,onComplete:H};(_.shouldReduceMotion||this.options.layoutRoot)&&(ne.delay=0,ne.type=!1),this.startAnimation(ne)}else S||qv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=U})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vC),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const T=this.path[_];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hv);return}this.isUpdating||this.nodes.forEach(pC),this.isUpdating=!1,this.nodes.forEach(mC),this.nodes.forEach(uC),this.nodes.forEach(cC),this.clearAllSnapshots();const d=lr.now();Nt.delta=Br(0,1e3/60,d-Nt.timestamp),Nt.timestamp=d,Nt.isProcessing=!0,Qd.update.process(Nt),Qd.preRender.process(Nt),Qd.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fC),this.sharedNodes.forEach(_C)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Zw(this.projectionDelta),f=this.getTransformTemplate(),y=f?f(this.latestValues,""):void 0,_=y!==this.prevTransformTemplateValue;u&&(d||ps(this.latestValues)||_)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),SC(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return lt();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(IC))){const{scroll:_}=this.root;_&&(xo(f.x,_.offset.x),xo(f.y,_.offset.y))}return f}removeElementScroll(u){var d;const f=lt();if(Cn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:T,options:S}=_;_!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&Cn(f,u),xo(f.x,T.offset.x),xo(f.y,T.offset.y))}return f}applyTransform(u,d=!1){const f=lt();Cn(f,u);for(let y=0;y<this.path.length;y++){const _=this.path[y];!d&&_.options.layoutScroll&&_.scroll&&_!==_.root&&Do(f,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),ps(_.latestValues)&&Do(f,_.latestValues)}return ps(this.latestValues)&&Do(f,this.latestValues),f}removeTransform(u){const d=lt();Cn(d,u);for(let f=0;f<this.path.length;f++){const y=this.path[f];if(!y.instance||!ps(y.latestValues))continue;Mf(y.latestValues)&&y.updateSnapshot();const _=lt(),T=y.measurePageBox();Cn(_,T),bv(d,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,_)}return ps(this.latestValues)&&bv(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==f;if(!(u||y&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:S}=this.options;if(!(!this.layout||!(T||S))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),ll(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),Ww(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),ll(this.relativeTargetOrigin,this.target,R.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tl&&ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mf(this.parent.latestValues)||Kw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let y=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(y=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(y=!1),y)return;const{layout:_,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||T))return;Cn(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,R=this.treeScale.y;LP(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=lt());const{target:U}=d;if(!U){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ov(this.prevProjectionDelta.x,this.projectionDelta.x),Ov(this.prevProjectionDelta.y,this.projectionDelta.y)),al(this.projectionDelta,this.layoutCorrected,U,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==R||!zv(this.projectionDelta.x,this.prevProjectionDelta.x)||!zv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",U)),tl&&ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(u,d=!1){const f=this.snapshot,y=f?f.latestValues:{},_={...this.latestValues},T=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=lt(),R=f?f.source:void 0,U=this.layout?this.layout.source:void 0,B=R!==U,F=this.getStack(),H=!F||F.members.length<=1,Y=!!(B&&!H&&this.options.crossfade===!0&&!this.path.some(TC));this.animationProgress=0;let Q;this.mixTargetDelta=ne=>{const ie=ne/1e3;Kv(T.x,u.x,ie),Kv(T.y,u.y,ie),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ll(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wC(this.relativeTarget,this.relativeTargetOrigin,S,ie),Q&&iC(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=lt()),Cn(Q,this.relativeTarget)),B&&(this.animationValues=_,JP(_,y,this.latestValues,ie,Y,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{pc.hasAnimatedSinceResize=!0,this.currentAnimation=KP(0,$v,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($v),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:y,latestValues:_}=u;if(!(!d||!f||!y)){if(this!==u&&this.layout&&y&&rT(this.options.animationType,this.layout.layoutBox,y.layoutBox)){f=this.target||lt();const T=gn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+T;const S=gn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+S}Cn(d,f),Do(d,_),al(this.projectionDeltaWithTransform,this.layoutCorrected,d,_)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new sC),this.sharedNodes.get(u).add(d);const y=d.options.initialPromotionConfig;d.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const y=this.getStack();y&&y.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const y={};f.z&&of("z",u,y,this.animationValues);for(let _=0;_<sf.length;_++)of(`rotate${sf[_]}`,u,y,this.animationValues),of(`skew${sf[_]}`,u,y,this.animationValues);u.render();for(const _ in y)u.setStaticValue(_,y[_]),this.animationValues&&(this.animationValues[_]=y[_]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aC;const y={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,y.opacity="",y.pointerEvents=dc(u==null?void 0:u.pointerEvents)||"",y.transform=_?_(this.latestValues,""):"none",y;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const B={};return this.options.layoutId&&(B.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,B.pointerEvents=dc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ps(this.latestValues)&&(B.transform=_?_({},""):"none",this.hasProjected=!1),B}const S=T.animationValues||T.latestValues;this.applyTransformsToTarget(),y.transform=oC(this.projectionDeltaWithTransform,this.treeScale,S),_&&(y.transform=_(S,y.transform));const{x:R,y:U}=this.projectionDelta;y.transformOrigin=`${R.origin*100}% ${U.origin*100}% 0`,T.animationValues?y.opacity=T===this?(f=(d=S.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:y.opacity=T===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const B in Ac){if(S[B]===void 0)continue;const{correct:F,applyTo:H}=Ac[B],Y=y.transform==="none"?S[B]:F(S[B],T);if(H){const Q=H.length;for(let ne=0;ne<Q;ne++)y[H[ne]]=Y}else y[B]=Y}return this.options.layoutId&&(y.pointerEvents=T===this?dc(u==null?void 0:u.pointerEvents)||"":"none"),y}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Hv),this.root.sharedNodes.clear()}}}function uC(n){n.updateLayout()}function cC(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,u=t.source!==n.layout.source;l==="size"?Rn(T=>{const S=u?t.measuredBox[T]:t.layoutBox[T],R=gn(S);S.min=i[T].min,S.max=S.min+R}):rT(l,t.layoutBox,i)&&Rn(T=>{const S=u?t.measuredBox[T]:t.layoutBox[T],R=gn(i[T]);S.max=S.min+R,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[T].max=n.relativeTarget[T].min+R)});const d=ko();al(d,i,t.layoutBox);const f=ko();u?al(f,n.applyTransform(o,!0),t.measuredBox):al(f,i,t.layoutBox);const y=!Zw(d);let _=!1;if(!n.resumeFrom){const T=n.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:R}=T;if(S&&R){const U=lt();ll(U,t.layoutBox,S.layoutBox);const B=lt();ll(B,i,R.layoutBox),eT(U,B)||(_=!0),T.options.layoutRoot&&(n.relativeTarget=B,n.relativeTargetOrigin=U,n.relativeParent=T)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:y,hasRelativeTargetChanged:_})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function hC(n){tl&&ms.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function dC(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function fC(n){n.clearSnapshot()}function Hv(n){n.clearMeasurements()}function pC(n){n.isLayoutDirty=!1}function mC(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function qv(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function gC(n){n.resolveTargetDelta()}function yC(n){n.calcProjection()}function vC(n){n.resetSkewAndRotation()}function _C(n){n.removeLeadSnapshot()}function Kv(n,e,t){n.translate=tt(e.translate,0,t),n.scale=tt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Wv(n,e,t,i){n.min=tt(e.min,t.min,i),n.max=tt(e.max,t.max,i)}function wC(n,e,t,i){Wv(n.x,e.x,t.x,i),Wv(n.y,e.y,t.y,i)}function TC(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const EC={duration:.45,ease:[.4,0,.1,1]},Gv=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Qv=Gv("applewebkit/")&&!Gv("chrome/")?Math.round:mn;function Xv(n){n.min=Qv(n.min),n.max=Qv(n.max)}function SC(n){Xv(n.x),Xv(n.y)}function rT(n,e,t){return n==="position"||n==="preserve-aspect"&&!PP(Bv(e),Bv(t),.2)}function IC(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const AC=nT({attachResizeListener:(n,e)=>vl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),af={current:void 0},iT=nT({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!af.current){const n=new AC({});n.mount(window),n.setOptions({layoutScroll:!0}),af.current=n}return af.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),PC={pan:{Feature:zP},drag:{Feature:BP,ProjectionNode:iT,MeasureLayout:Xw}};function Yv(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&Qe.postRender(()=>l(e,Rl(e)))}class CC extends bi{mount(){const{current:e}=this.node;e&&(this.unmount=CI(e,t=>(Yv(this.node,t,"Start"),i=>Yv(this.node,i,"End"))))}unmount(){}}class RC extends bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cl(vl(this.node.current,"focus",()=>this.onFocus()),vl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jv(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&Qe.postRender(()=>l(e,Rl(e)))}class kC extends bi{mount(){const{current:e}=this.node;e&&(this.unmount=DI(e,t=>(Jv(this.node,t,"Start"),(i,{success:o})=>Jv(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bf=new WeakMap,lf=new WeakMap,xC=n=>{const e=bf.get(n.target);e&&e(n)},DC=n=>{n.forEach(xC)};function VC({root:n,...e}){const t=n||document;lf.has(t)||lf.set(t,{});const i=lf.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(DC,{root:n,...e})),i[o]}function NC(n,e,t){const i=VC(e);return bf.set(n,t),i.observe(n),()=>{bf.delete(n),i.unobserve(n)}}const OC={some:0,all:1};class MC extends bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:OC[o]},d=f=>{const{isIntersecting:y}=f;if(this.isInView===y||(this.isInView=y,l&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:_,onViewportLeave:T}=this.node.getProps(),S=y?_:T;S&&S(f)};return NC(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(LC(e,t))&&this.startObserver()}unmount(){}}function LC({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const bC={inView:{Feature:MC},tap:{Feature:kC},focus:{Feature:RC},hover:{Feature:CC}},FC={layout:{ProjectionNode:iT,MeasureLayout:Xw}},Ff={current:null},sT={current:!1};function UC(){if(sT.current=!0,!!fp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ff.current=n.matches;n.addListener(e),e()}else Ff.current=!1}const jC=[...xw,Bt,ki],BC=n=>jC.find(kw(n)),Zv=new WeakMap;function zC(n,e,t){for(const i in e){const o=e[i],l=t[i];if(Ht(o))n.addValue(i,o);else if(Ht(l))n.addValue(i,gl(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(i);n.addValue(i,gl(u!==void 0?u:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const e0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $C{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=lr.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,Qe.render(this.render,!1,!0))};const{latestValues:f,renderState:y,onUpdate:_}=u;this.onUpdate=_,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Zc(t),this.isVariantNode=F_(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:T,...S}=this.scrapeMotionValuesFromProps(t,{},this);for(const R in S){const U=S[R];f[R]!==void 0&&Ht(U)&&U.set(f[R],!1)}}mount(e){this.current=e,Zv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),sT.current||UC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ff.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Zv.delete(this.current),this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Cs.has(e),o=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jo){const t=jo[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<e0.length;i++){const o=e0[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=zC(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=gl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Cw(o)||vw(o))?o=parseFloat(o):!BC(o)&&ki.test(t)&&(o=Iw(e,t)),this.setBaseTarget(e,Ht(o)?o.get():o)),Ht(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const u=wp(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(o=u[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ht(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Op),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class oT extends $C{constructor(){super(...arguments),this.KeyframeResolver=Dw}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function HC(n){return window.getComputedStyle(n)}class qC extends oT{constructor(){super(...arguments),this.type="html",this.renderInstance=W_}readValueFromInstance(e,t){if(Cs.has(t)){const i=Up(t);return i&&i.default||0}else{const i=HC(e),o=(H_(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Gw(e,t)}build(e,t,i){Sp(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Cp(e,t,i)}}class KC extends oT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Cs.has(t)){const i=Up(t);return i&&i.default||0}return t=G_.has(t)?t:yp(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return Y_(e,t,i)}build(e,t,i){Ip(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){Q_(e,t,i,o)}mount(e){this.isSVGTag=Pp(e.tagName),super.mount(e)}}const WC=(n,e)=>_p(n)?new KC(e):new qC(e,{allowProjection:n!==me.Fragment}),GC=wI({...yP,...bC,...PC,...FC},WC),Be=MS(GC),aT="/assets/final%20logo7-DJ7maVHL.png",QC=({setmoduleSwich:n,setCarta:e})=>{const t=l=>{const u=l.target.textContent||"";n(u),console.log(u),u==="Carta"&&e(0)},i={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2,delayChildren:.5}}},o={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0}};return ee.jsxs("header",{className:"container_header",children:[ee.jsx(Be.img,{className:"logo_img",src:aT,alt:"logo",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:1}}),ee.jsx("nav",{children:ee.jsx("div",{className:"container_menu",children:ee.jsx(Be.ul,{className:"menu menu_text",initial:"hidden",animate:"visible",variants:i,children:["Inicio","Carta","Catering","Contacto"].map((l,u)=>ee.jsx(Be.li,{onClick:t,variants:o,whileHover:{scale:1.1,color:"#f8e112"},whileTap:{scale:.9},children:ee.jsx("h4",{style:{color:"  #ffcc00"},children:l})},u))})})})]})},t0=()=>ee.jsxs("section",{id:"Inicio",className:"container_inicio",children:[ee.jsx(Be.img,{src:aT,alt:"logo bar",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:2,ease:"easeOut"}}),ee.jsx(Be.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:2,ease:"easeOut",delay:.5},children:"BAR"})]}),XC=({carta:n,loading:e,error:t,category:i})=>e?ee.jsx("p",{children:"Cargando..."}):t?ee.jsx("p",{children:"Error al cargar el menú"}):i?ee.jsx(ee.Fragment,{children:e?ee.jsx("p",{children:"cargando..."}):ee.jsxs("div",{className:"cocktail-container",children:[ee.jsx(Be.h2,{className:"cocktail-title",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:i.categorias[n-1].name}),i.categorias[n-1].price&&ee.jsxs(Be.p,{className:"cocktail-price",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:["Precio: ",i.categorias[n-1].price]}),ee.jsx(Be.ul,{className:"cocktail-list",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:i.categorias[n-1].items.map((o,l)=>ee.jsxs(Be.li,{className:"cocktail-item",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:l*.2},children:[ee.jsx(Be.h3,{className:"cocktail-name",initial:{y:-20},animate:{y:0},transition:{duration:.4},children:o.name}),ee.jsx(Be.p,{className:"cocktail-description",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:o.description}),o.subItems.length>0&&ee.jsx(Be.ul,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:o.subItems.map((u,d)=>ee.jsxs(Be.li,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[ee.jsx("strong",{children:u.name}),": ",u.description]},d))}),ee.jsx("hr",{})]},l))})]})}):ee.jsx("p",{children:"No hay datos disponibles"}),n0=({setCarta:n,category:e,loading:t,error:i})=>{const o=l=>{n(l+1),console.log(l+1)};return t?ee.jsx("p",{children:"Cargando..."}):i?ee.jsx("p",{children:"Error al cargar el menú"}):e?ee.jsx(Be.div,{className:"container_ul",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:ee.jsx(Be.ul,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.5},children:e.categorias.map((l,u)=>ee.jsx(Be.li,{onClick:()=>o(u),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:l.name},u))})}):ee.jsx("p",{children:"No hay datos disponibles"})};var r0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},YC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,y=f?n[o+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|y>>6,R=y&63;f||(R=64,u||(S=64)),i.push(t[_],t[T],t[S],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||T==null)throw new JC;const S=l<<2|d>>4;if(i.push(S),y!==64){const R=d<<4&240|y>>2;if(i.push(R),T!==64){const U=y<<6&192|T;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class JC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZC=function(n){const e=lT(n);return uT.encodeByteArray(e,!0)},Dc=function(n){return ZC(n).replace(/\./g,"")},cT=function(n){try{return uT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=()=>eR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof r0>"u")return;const n=r0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cT(n[1]);return e&&JSON.parse(e)},nh=()=>{try{return tR()||nR()||rR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hT=n=>{var e,t;return(t=(e=nh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},dT=n=>{const e=hT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},fT=()=>{var n;return(n=nh())===null||n===void 0?void 0:n.config},pT=n=>{var e;return(e=nh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dc(JSON.stringify(t)),Dc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function oR(){var n;const e=(n=nh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hR(){return!oR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dR(){try{return typeof indexedDB=="object"}catch{return!1}}function fR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="FirebaseError";class gr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=pR,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?mR(l,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new gr(o,d,i)}}function mR(n,e){return n.replace(gR,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const gR=/\{\$([^}]+)}/g;function yR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],u=e[o];if(i0(l)&&i0(u)){if(!Vc(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function i0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vR(n,e){const t=new _R(n,e);return t.subscribe.bind(t)}class _R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");wR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=uf),o.error===void 0&&(o.error=uf),o.complete===void 0&&(o.complete=uf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(n){return n&&n._delegate?n._delegate:n}class xi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new iR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SR(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(n){return n===gs?void 0:n}function SR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const AR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},PR=ke.INFO,CR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},RR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=CR[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=PR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const kR=(n,e)=>e.some(t=>n instanceof t);let s0,o0;function xR(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DR(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,Uf=new WeakMap,yT=new WeakMap,cf=new WeakMap,qp=new WeakMap;function VR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ai(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,n)}).catch(()=>{}),qp.set(e,n),e}function NR(n){if(Uf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Uf.set(n,e)}let jf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Uf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ai(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OR(n){jf=n(jf)}function MR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(hf(this),e,...t);return yT.set(i,e.sort?e.sort():[e]),Ai(i)}:DR().includes(n)?function(...e){return n.apply(hf(this),e),Ai(gT.get(this))}:function(...e){return Ai(n.apply(hf(this),e))}}function LR(n){return typeof n=="function"?MR(n):(n instanceof IDBTransaction&&NR(n),kR(n,xR())?new Proxy(n,jf):n)}function Ai(n){if(n instanceof IDBRequest)return VR(n);if(cf.has(n))return cf.get(n);const e=LR(n);return e!==n&&(cf.set(n,e),qp.set(e,n)),e}const hf=n=>qp.get(n);function bR(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(n,e),d=Ai(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Ai(u.result),f.oldVersion,f.newVersion,Ai(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const FR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],df=new Map;function a0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=UR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||FR.includes(t)))return;const l=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let y=f.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&f.done]))[0]};return df.set(e,l),l}OR(n=>({...n,get:(e,t,i)=>a0(e,t)||n.get(e,t,i),has:(e,t)=>!!a0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function BR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bf="@firebase/app",l0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Hp("@firebase/app"),zR="@firebase/app-compat",$R="@firebase/analytics-compat",HR="@firebase/analytics",qR="@firebase/app-check-compat",KR="@firebase/app-check",WR="@firebase/auth",GR="@firebase/auth-compat",QR="@firebase/database",XR="@firebase/data-connect",YR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",ek="@firebase/installations",tk="@firebase/installations-compat",nk="@firebase/messaging",rk="@firebase/messaging-compat",ik="@firebase/performance",sk="@firebase/performance-compat",ok="@firebase/remote-config",ak="@firebase/remote-config-compat",lk="@firebase/storage",uk="@firebase/storage-compat",ck="@firebase/firestore",hk="@firebase/vertexai",dk="@firebase/firestore-compat",fk="firebase",pk="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",mk={[Bf]:"fire-core",[zR]:"fire-core-compat",[HR]:"fire-analytics",[$R]:"fire-analytics-compat",[KR]:"fire-app-check",[qR]:"fire-app-check-compat",[WR]:"fire-auth",[GR]:"fire-auth-compat",[QR]:"fire-rtdb",[XR]:"fire-data-connect",[YR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[ek]:"fire-iid",[tk]:"fire-iid-compat",[nk]:"fire-fcm",[rk]:"fire-fcm-compat",[ik]:"fire-perf",[sk]:"fire-perf-compat",[ok]:"fire-rc",[ak]:"fire-rc-compat",[lk]:"fire-gcs",[uk]:"fire-gcs-compat",[ck]:"fire-fst",[dk]:"fire-fst-compat",[hk]:"fire-vertex","fire-js":"fire-js",[fk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,gk=new Map,$f=new Map;function u0(n,e){try{n.container.addComponent(e)}catch(t){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Is(n){const e=n.name;if($f.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,n);for(const t of Nc.values())u0(t,n);for(const t of gk.values())u0(t,n);return!0}function rh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new kl("app","Firebase",yk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=pk;function vT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:zf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Pi.create("bad-app-name",{appName:String(o)});if(t||(t=fT()),!t)throw Pi.create("no-options");const l=Nc.get(o);if(l){if(Vc(t,l.options)&&Vc(i,l.config))return l;throw Pi.create("duplicate-app",{appName:o})}const u=new IR(o);for(const f of $f.values())u.addComponent(f);const d=new vk(t,i,u);return Nc.set(o,d),d}function Kp(n=zf){const e=Nc.get(n);if(!e&&n===zf&&fT())return vT();if(!e)throw Pi.create("no-app",{appName:n});return e}function ur(n,e,t){var i;let o=(i=mk[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(d.join(" "));return}Is(new xi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firebase-heartbeat-database",wk=1,_l="firebase-heartbeat-store";let ff=null;function _T(){return ff||(ff=bR(_k,wk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_l)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pi.create("idb-open",{originalErrorMessage:n.message})})),ff}async function Tk(n){try{const t=(await _T()).transaction(_l),i=await t.objectStore(_l).get(wT(n));return await t.done,i}catch(e){if(e instanceof gr)zr.warn(e.message);else{const t=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(t.message)}}}async function c0(n,e){try{const i=(await _T()).transaction(_l,"readwrite");await i.objectStore(_l).put(e,wT(n)),await i.done}catch(t){if(t instanceof gr)zr.warn(t.message);else{const i=Pi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zr.warn(i.message)}}}function wT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=1024,Sk=30;class Ik{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=h0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>Sk){const u=Ck(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){zr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=h0(),{heartbeatsToSend:i,unsentEntries:o}=Ak(this._heartbeatsCache.heartbeats),l=Dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return zr.warn(t),""}}}function h0(){return new Date().toISOString().substring(0,10)}function Ak(n,e=Ek){const t=[];let i=n.slice();for(const o of n){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),d0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),d0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Pk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dR()?fR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Tk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function d0(n){return Dc(JSON.stringify({version:2,heartbeats:n})).length}function Ck(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(n){Is(new xi("platform-logger",e=>new jR(e),"PRIVATE")),Is(new xi("heartbeat",e=>new Ik(e),"PRIVATE")),ur(Bf,l0,n),ur(Bf,l0,"esm2017"),ur("fire-js","")}Rk("");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,TT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function P(){}P.prototype=I.prototype,x.D=I.prototype,x.prototype=new P,x.prototype.constructor=x,x.C=function(D,N,M){for(var C=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)C[Xe-2]=arguments[Xe];return I.prototype[N].apply(D,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,I,P){P||(P=0);var D=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)D[N]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(N=0;16>N;++N)D[N]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=x.g[0],P=x.g[1],N=x.g[2];var M=x.g[3],C=I+(M^P&(N^M))+D[0]+3614090360&4294967295;I=P+(C<<7&4294967295|C>>>25),C=M+(N^I&(P^N))+D[1]+3905402710&4294967295,M=I+(C<<12&4294967295|C>>>20),C=N+(P^M&(I^P))+D[2]+606105819&4294967295,N=M+(C<<17&4294967295|C>>>15),C=P+(I^N&(M^I))+D[3]+3250441966&4294967295,P=N+(C<<22&4294967295|C>>>10),C=I+(M^P&(N^M))+D[4]+4118548399&4294967295,I=P+(C<<7&4294967295|C>>>25),C=M+(N^I&(P^N))+D[5]+1200080426&4294967295,M=I+(C<<12&4294967295|C>>>20),C=N+(P^M&(I^P))+D[6]+2821735955&4294967295,N=M+(C<<17&4294967295|C>>>15),C=P+(I^N&(M^I))+D[7]+4249261313&4294967295,P=N+(C<<22&4294967295|C>>>10),C=I+(M^P&(N^M))+D[8]+1770035416&4294967295,I=P+(C<<7&4294967295|C>>>25),C=M+(N^I&(P^N))+D[9]+2336552879&4294967295,M=I+(C<<12&4294967295|C>>>20),C=N+(P^M&(I^P))+D[10]+4294925233&4294967295,N=M+(C<<17&4294967295|C>>>15),C=P+(I^N&(M^I))+D[11]+2304563134&4294967295,P=N+(C<<22&4294967295|C>>>10),C=I+(M^P&(N^M))+D[12]+1804603682&4294967295,I=P+(C<<7&4294967295|C>>>25),C=M+(N^I&(P^N))+D[13]+4254626195&4294967295,M=I+(C<<12&4294967295|C>>>20),C=N+(P^M&(I^P))+D[14]+2792965006&4294967295,N=M+(C<<17&4294967295|C>>>15),C=P+(I^N&(M^I))+D[15]+1236535329&4294967295,P=N+(C<<22&4294967295|C>>>10),C=I+(N^M&(P^N))+D[1]+4129170786&4294967295,I=P+(C<<5&4294967295|C>>>27),C=M+(P^N&(I^P))+D[6]+3225465664&4294967295,M=I+(C<<9&4294967295|C>>>23),C=N+(I^P&(M^I))+D[11]+643717713&4294967295,N=M+(C<<14&4294967295|C>>>18),C=P+(M^I&(N^M))+D[0]+3921069994&4294967295,P=N+(C<<20&4294967295|C>>>12),C=I+(N^M&(P^N))+D[5]+3593408605&4294967295,I=P+(C<<5&4294967295|C>>>27),C=M+(P^N&(I^P))+D[10]+38016083&4294967295,M=I+(C<<9&4294967295|C>>>23),C=N+(I^P&(M^I))+D[15]+3634488961&4294967295,N=M+(C<<14&4294967295|C>>>18),C=P+(M^I&(N^M))+D[4]+3889429448&4294967295,P=N+(C<<20&4294967295|C>>>12),C=I+(N^M&(P^N))+D[9]+568446438&4294967295,I=P+(C<<5&4294967295|C>>>27),C=M+(P^N&(I^P))+D[14]+3275163606&4294967295,M=I+(C<<9&4294967295|C>>>23),C=N+(I^P&(M^I))+D[3]+4107603335&4294967295,N=M+(C<<14&4294967295|C>>>18),C=P+(M^I&(N^M))+D[8]+1163531501&4294967295,P=N+(C<<20&4294967295|C>>>12),C=I+(N^M&(P^N))+D[13]+2850285829&4294967295,I=P+(C<<5&4294967295|C>>>27),C=M+(P^N&(I^P))+D[2]+4243563512&4294967295,M=I+(C<<9&4294967295|C>>>23),C=N+(I^P&(M^I))+D[7]+1735328473&4294967295,N=M+(C<<14&4294967295|C>>>18),C=P+(M^I&(N^M))+D[12]+2368359562&4294967295,P=N+(C<<20&4294967295|C>>>12),C=I+(P^N^M)+D[5]+4294588738&4294967295,I=P+(C<<4&4294967295|C>>>28),C=M+(I^P^N)+D[8]+2272392833&4294967295,M=I+(C<<11&4294967295|C>>>21),C=N+(M^I^P)+D[11]+1839030562&4294967295,N=M+(C<<16&4294967295|C>>>16),C=P+(N^M^I)+D[14]+4259657740&4294967295,P=N+(C<<23&4294967295|C>>>9),C=I+(P^N^M)+D[1]+2763975236&4294967295,I=P+(C<<4&4294967295|C>>>28),C=M+(I^P^N)+D[4]+1272893353&4294967295,M=I+(C<<11&4294967295|C>>>21),C=N+(M^I^P)+D[7]+4139469664&4294967295,N=M+(C<<16&4294967295|C>>>16),C=P+(N^M^I)+D[10]+3200236656&4294967295,P=N+(C<<23&4294967295|C>>>9),C=I+(P^N^M)+D[13]+681279174&4294967295,I=P+(C<<4&4294967295|C>>>28),C=M+(I^P^N)+D[0]+3936430074&4294967295,M=I+(C<<11&4294967295|C>>>21),C=N+(M^I^P)+D[3]+3572445317&4294967295,N=M+(C<<16&4294967295|C>>>16),C=P+(N^M^I)+D[6]+76029189&4294967295,P=N+(C<<23&4294967295|C>>>9),C=I+(P^N^M)+D[9]+3654602809&4294967295,I=P+(C<<4&4294967295|C>>>28),C=M+(I^P^N)+D[12]+3873151461&4294967295,M=I+(C<<11&4294967295|C>>>21),C=N+(M^I^P)+D[15]+530742520&4294967295,N=M+(C<<16&4294967295|C>>>16),C=P+(N^M^I)+D[2]+3299628645&4294967295,P=N+(C<<23&4294967295|C>>>9),C=I+(N^(P|~M))+D[0]+4096336452&4294967295,I=P+(C<<6&4294967295|C>>>26),C=M+(P^(I|~N))+D[7]+1126891415&4294967295,M=I+(C<<10&4294967295|C>>>22),C=N+(I^(M|~P))+D[14]+2878612391&4294967295,N=M+(C<<15&4294967295|C>>>17),C=P+(M^(N|~I))+D[5]+4237533241&4294967295,P=N+(C<<21&4294967295|C>>>11),C=I+(N^(P|~M))+D[12]+1700485571&4294967295,I=P+(C<<6&4294967295|C>>>26),C=M+(P^(I|~N))+D[3]+2399980690&4294967295,M=I+(C<<10&4294967295|C>>>22),C=N+(I^(M|~P))+D[10]+4293915773&4294967295,N=M+(C<<15&4294967295|C>>>17),C=P+(M^(N|~I))+D[1]+2240044497&4294967295,P=N+(C<<21&4294967295|C>>>11),C=I+(N^(P|~M))+D[8]+1873313359&4294967295,I=P+(C<<6&4294967295|C>>>26),C=M+(P^(I|~N))+D[15]+4264355552&4294967295,M=I+(C<<10&4294967295|C>>>22),C=N+(I^(M|~P))+D[6]+2734768916&4294967295,N=M+(C<<15&4294967295|C>>>17),C=P+(M^(N|~I))+D[13]+1309151649&4294967295,P=N+(C<<21&4294967295|C>>>11),C=I+(N^(P|~M))+D[4]+4149444226&4294967295,I=P+(C<<6&4294967295|C>>>26),C=M+(P^(I|~N))+D[11]+3174756917&4294967295,M=I+(C<<10&4294967295|C>>>22),C=N+(I^(M|~P))+D[2]+718787259&4294967295,N=M+(C<<15&4294967295|C>>>17),C=P+(M^(N|~I))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+M&4294967295}i.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var P=I-this.blockSize,D=this.B,N=this.h,M=0;M<I;){if(N==0)for(;M<=P;)o(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<I;)if(D[N++]=x.charCodeAt(M++),N==this.blockSize){o(this,D),N=0;break}}else for(;M<I;)if(D[N++]=x[M++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=I},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var P=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=P&255,P/=256;for(this.u(x),x=Array(16),I=P=0;4>I;++I)for(var D=0;32>D;D+=8)x[P++]=this.g[I]>>>D&255;return x};function l(x,I){var P=d;return Object.prototype.hasOwnProperty.call(P,x)?P[x]:P[x]=I(x)}function u(x,I){this.h=I;for(var P=[],D=!0,N=x.length-1;0<=N;N--){var M=x[N]|0;D&&M==I||(P[N]=M,D=!1)}this.g=P}var d={};function f(x){return-128<=x&&128>x?l(x,function(I){return new u([I|0],0>I?-1:0)}):new u([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return F(y(-x));for(var I=[],P=1,D=0;x>=P;D++)I[D]=x/P|0,P*=4294967296;return new u(I,0)}function _(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return F(_(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=y(Math.pow(I,8)),D=T,N=0;N<x.length;N+=8){var M=Math.min(8,x.length-N),C=parseInt(x.substring(N,N+M),I);8>M?(M=y(Math.pow(I,M)),D=D.j(M).add(y(C))):(D=D.j(P),D=D.add(y(C)))}return D}var T=f(0),S=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(B(this))return-F(this).m();for(var x=0,I=1,P=0;P<this.g.length;P++){var D=this.i(P);x+=(0<=D?D:4294967296+D)*I,I*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U(this))return"0";if(B(this))return"-"+F(this).toString(x);for(var I=y(Math.pow(x,6)),P=this,D="";;){var N=ne(P,I).g;P=H(P,N.j(I));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(x);if(P=N,U(P))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function U(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function B(x){return x.h==-1}n.l=function(x){return x=H(this,x),B(x)?-1:U(x)?0:1};function F(x){for(var I=x.g.length,P=[],D=0;D<I;D++)P[D]=~x.g[D];return new u(P,~x.h).add(S)}n.abs=function(){return B(this)?F(this):this},n.add=function(x){for(var I=Math.max(this.g.length,x.g.length),P=[],D=0,N=0;N<=I;N++){var M=D+(this.i(N)&65535)+(x.i(N)&65535),C=(M>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);D=C>>>16,M&=65535,C&=65535,P[N]=C<<16|M}return new u(P,P[P.length-1]&-2147483648?-1:0)};function H(x,I){return x.add(F(I))}n.j=function(x){if(U(this)||U(x))return T;if(B(this))return B(x)?F(this).j(F(x)):F(F(this).j(x));if(B(x))return F(this.j(F(x)));if(0>this.l(R)&&0>x.l(R))return y(this.m()*x.m());for(var I=this.g.length+x.g.length,P=[],D=0;D<2*I;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<x.g.length;N++){var M=this.i(D)>>>16,C=this.i(D)&65535,Xe=x.i(N)>>>16,Ct=x.i(N)&65535;P[2*D+2*N]+=C*Ct,Y(P,2*D+2*N),P[2*D+2*N+1]+=M*Ct,Y(P,2*D+2*N+1),P[2*D+2*N+1]+=C*Xe,Y(P,2*D+2*N+1),P[2*D+2*N+2]+=M*Xe,Y(P,2*D+2*N+2)}for(D=0;D<I;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=I;D<2*I;D++)P[D]=0;return new u(P,0)};function Y(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function Q(x,I){this.g=x,this.h=I}function ne(x,I){if(U(I))throw Error("division by zero");if(U(x))return new Q(T,T);if(B(x))return I=ne(F(x),I),new Q(F(I.g),F(I.h));if(B(I))return I=ne(x,F(I)),new Q(F(I.g),I.h);if(30<x.g.length){if(B(x)||B(I))throw Error("slowDivide_ only works with positive integers.");for(var P=S,D=I;0>=D.l(x);)P=ie(P),D=ie(D);var N=ae(P,1),M=ae(D,1);for(D=ae(D,2),P=ae(P,2);!U(D);){var C=M.add(D);0>=C.l(x)&&(N=N.add(P),M=C),D=ae(D,1),P=ae(P,1)}return I=H(x,N.j(I)),new Q(N,I)}for(N=T;0<=x.l(I);){for(P=Math.max(1,Math.floor(x.m()/I.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=y(P),C=M.j(I);B(C)||0<C.l(x);)P-=D,M=y(P),C=M.j(I);U(M)&&(M=S),N=N.add(M),x=H(x,C)}return new Q(N,x)}n.A=function(x){return ne(this,x).h},n.and=function(x){for(var I=Math.max(this.g.length,x.g.length),P=[],D=0;D<I;D++)P[D]=this.i(D)&x.i(D);return new u(P,this.h&x.h)},n.or=function(x){for(var I=Math.max(this.g.length,x.g.length),P=[],D=0;D<I;D++)P[D]=this.i(D)|x.i(D);return new u(P,this.h|x.h)},n.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),P=[],D=0;D<I;D++)P[D]=this.i(D)^x.i(D);return new u(P,this.h^x.h)};function ie(x){for(var I=x.g.length+1,P=[],D=0;D<I;D++)P[D]=x.i(D)<<1|x.i(D-1)>>>31;return new u(P,x.h)}function ae(x,I){var P=I>>5;I%=32;for(var D=x.g.length-P,N=[],M=0;M<D;M++)N[M]=0<I?x.i(M+P)>>>I|x.i(M+P+1)<<32-I:x.i(M+P);return new u(N,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,TT=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,Ci=u}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,nl,ST,mc,Hf,IT,AT,PT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(c,m){if(m)e:{var v=i;c=c.split(".");for(var E=0;E<c.length-1;E++){var L=c[E];if(!(L in v))break e;v=v[L]}c=c[c.length-1],E=v[c],m=m(E),m!=E&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function l(c,m){c instanceof String&&(c+="");var v=0,E=!1,L={next:function(){if(!E&&v<c.length){var $=v++;return{value:m($,c[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function T(c,m,v){if(!c)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),c.apply(m,L)}}return function(){return c.apply(m,arguments)}}function S(c,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function R(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function U(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(E,L,$){for(var te=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)te[ze-2]=arguments[ze];return m.prototype[L].apply(E,te)}}function B(c){const m=c.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=c[E];return v}return[]}function F(c,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(f(E)){const L=c.length||0,$=E.length||0;c.length=L+$;for(let te=0;te<$;te++)c[L+te]=E[te]}else c.push(E)}}class H{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var ie=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ae(c,m,v){for(const E in c)m.call(v,c[E],E,c)}function x(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function I(c){const m={};for(const v in c)m[v]=c[v];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,m){let v,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(v in E)c[v]=E[v];for(let $=0;$<P.length;$++)v=P[$],Object.prototype.hasOwnProperty.call(E,v)&&(c[v]=E[v])}}function N(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function M(c){d.setTimeout(()=>{throw c},0)}function C(){var c=fe;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Xe{constructor(){this.h=this.g=null}add(m,v){const E=Ct.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Ct=new H(()=>new Rt,c=>c.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Z=!1,fe=new Xe,se=()=>{const c=d.Promise.resolve(void 0);Se=()=>{c.then(O)}};var O=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){M(v)}var m=Ct;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}Z=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c}();function Ce(c,m){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(ie){e:{try{ne(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}U(Ce,pe);var De={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function He(c,m,v,E,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=L,this.key=++je,this.da=this.fa=!1}function Tt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vr(c){this.src=c,this.g={},this.h=0}vr.prototype.add=function(c,m,v,E,L){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var te=Kr(c,m,E,L);return-1<te?(m=c[te],v||(m.fa=!1)):(m=new He(m,this.src,$,!!E,L),m.fa=v,c.push(m)),m};function xs(c,m){var v=m.type;if(v in c.g){var E=c.g[v],L=Array.prototype.indexOf.call(E,m,void 0),$;($=0<=L)&&Array.prototype.splice.call(E,L,1),$&&(Tt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Kr(c,m,v,E){for(var L=0;L<c.length;++L){var $=c[L];if(!$.da&&$.listener==m&&$.capture==!!v&&$.ha==E)return L}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),Ds={};function ra(c,m,v,E,L){if(Array.isArray(m)){for(var $=0;$<m.length;$++)ra(c,m[$],v,E,L);return null}return v=oa(v),c&&c[Ue]?c.K(m,v,y(E)?!!E.capture:!!E,L):ia(c,m,v,!1,E,L)}function ia(c,m,v,E,L,$){if(!m)throw Error("Invalid event type");var te=y(L)?!!L.capture:!!L,ze=Ns(c);if(ze||(c[Ui]=ze=new vr(c)),v=ze.add(m,v,E,te,$),v.proxy)return v;if(E=Fl(),v.proxy=E,E.src=c,E.listener=v,c.addEventListener)Pe||(L=te),L===void 0&&(L=!1),c.addEventListener(m.toString(),E,L);else if(c.attachEvent)c.attachEvent(wr(m.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fl(){function c(v){return m.call(c.src,c.listener,v)}const m=sa;return c}function Vs(c,m,v,E,L){if(Array.isArray(m))for(var $=0;$<m.length;$++)Vs(c,m[$],v,E,L);else E=y(E)?!!E.capture:!!E,v=oa(v),c&&c[Ue]?(c=c.i,m=String(m).toString(),m in c.g&&($=c.g[m],v=Kr($,v,E,L),-1<v&&(Tt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[m],c.h--)))):c&&(c=Ns(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Kr(m,v,E,L)),(v=-1<c?m[c]:null)&&_r(v))}function _r(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ue])xs(m.i,c);else{var v=c.type,E=c.proxy;m.removeEventListener?m.removeEventListener(v,E,c.capture):m.detachEvent?m.detachEvent(wr(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Ns(m))?(xs(v,c),v.h==0&&(v.src=null,m[Ui]=null)):Tt(c)}}}function wr(c){return c in Ds?Ds[c]:Ds[c]="on"+c}function sa(c,m){if(c.da)c=!0;else{m=new Ce(m,this);var v=c.listener,E=c.ha||c.src;c.fa&&_r(c),c=v.call(E,m)}return c}function Ns(c){return c=c[Ui],c instanceof vr?c:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(c){return typeof c=="function"?c:(c[Os]||(c[Os]=function(m){return c.handleEvent(m)}),c[Os])}function pt(){q.call(this),this.i=new vr(this),this.M=this,this.F=null}U(pt,q),pt.prototype[Ue]=!0,pt.prototype.removeEventListener=function(c,m,v,E){Vs(this,c,m,v,E)};function mt(c,m){var v,E=c.F;if(E)for(v=[];E;E=E.F)v.push(E);if(c=c.M,E=m.type||m,typeof m=="string")m=new pe(m,c);else if(m instanceof pe)m.target=m.target||c;else{var L=m;m=new pe(E,c),D(m,L)}if(L=!0,v)for(var $=v.length-1;0<=$;$--){var te=m.g=v[$];L=Tr(te,E,!0,m)&&L}if(te=m.g=c,L=Tr(te,E,!0,m)&&L,L=Tr(te,E,!1,m)&&L,v)for($=0;$<v.length;$++)te=m.g=v[$],L=Tr(te,E,!1,m)&&L}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],E=0;E<v.length;E++)Tt(v[E]);delete c.g[m],c.h--}}this.F=null},pt.prototype.K=function(c,m,v,E){return this.i.add(String(c),m,!1,v,E)},pt.prototype.L=function(c,m,v,E){return this.i.add(String(c),m,!0,v,E)};function Tr(c,m,v,E){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,$=0;$<m.length;++$){var te=m[$];if(te&&!te.da&&te.capture==v){var ze=te.listener,gt=te.ha||te.src;te.fa&&xs(c.i,te),L=ze.call(gt,E)!==!1&&L}}return L&&!E.defaultPrevented}function aa(c,m,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(c,m||0)}function Wr(c){c.g=aa(()=>{c.g=null,c.i&&(c.i=!1,Wr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class ji extends q{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(c){q.call(this),this.h=c,this.g={}}U(Bi,q);var la=[];function ua(c){ae(c.g,function(m,v){this.g.hasOwnProperty(v)&&_r(m)},c),c.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),ua(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ca=d.JSON.stringify,ha=d.JSON.parse,da=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function zi(){}zi.prototype.h=null;function Ms(c){return c.h||(c.h=c.i())}function Ls(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){pe.call(this,"d")}U(Wn,pe);function bs(){pe.call(this,"c")}U(bs,pe);var Gn={},fa=null;function $i(){return fa=fa||new pt}Gn.La="serverreachability";function pa(c){pe.call(this,Gn.La,c)}U(pa,pe);function Er(c){const m=$i();mt(m,new pa(m))}Gn.STAT_EVENT="statevent";function ma(c,m){pe.call(this,Gn.STAT_EVENT,c),this.stat=m}U(ma,pe);function ot(c){const m=$i();mt(m,new ma(m,c))}Gn.Ma="timingevent";function Fs(c,m){pe.call(this,Gn.Ma,c),this.size=m}U(Fs,pe);function kn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function qi(c,m,v,E,L,$){c.info(function(){if(c.g)if($)for(var te="",ze=$.split("&"),gt=0;gt<ze.length;gt++){var Ve=ze[gt].split("=");if(1<Ve.length){var Et=Ve[0];Ve=Ve[1];var ht=Et.split("_");te=2<=ht.length&&ht[1]=="type"?te+(Et+"="+Ve+"&"):te+(Et+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function Us(c,m,v,E,L,$,te){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+v+`
`+$+" "+te})}function xn(c,m,v,E){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+vh(c,v)+(E?" "+E:"")})}function ga(c,m){c.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function vh(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var E=v[c];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return ca(v)}catch{return m}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ul={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function Ki(){}U(Ki,zi),Ki.prototype.g=function(){return new XMLHttpRequest},Ki.prototype.i=function(){return{}},Dn=new Ki;function Vn(c,m,v,E){this.j=c,this.i=m,this.l=v,this.R=E||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jl}function jl(){this.i=null,this.g="",this.h=!1}var ya={},Bs={};function zs(c,m,v){c.L=1,c.v=Jr(un(m)),c.m=v,c.P=!0,va(c,null)}function va(c,m){c.F=Date.now(),qe(c),c.A=un(c.v);var v=c.A,E=c.R;Array.isArray(E)||(E=[String(E)]),ei(v.i,"t",E),c.C=0,v=c.j.J,c.h=new jl,c.g=iu(c.j,v?m:null,!c.m),0<c.O&&(c.M=new ji(S(c.Y,c,c.g),c.O)),m=c.U,v=c.g,E=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(la[0]=L.toString()),L=la);for(var $=0;$<L.length;$++){var te=ra(v,L[$],E||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Er(),qi(c.i,c.u,c.A,c.l,c.R,c.m)}Vn.prototype.ca=function(c){c=c.target;const m=this.M;m&&Jt(c)==3?m.j():this.Y(c)},Vn.prototype.Y=function(c){try{if(c==this.g)e:{const ht=Jt(this.g);var m=this.g.Ba();const wn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Ia(this.g)))){this.J||ht!=4||m==7||(m==8||0>=wn?Er(3):Er(2)),Wi(this);var v=this.g.Z();this.X=v;t:if(Bl(this)){var E=Ia(this.g);c="";var L=E.length,$=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Gr(this);var te="";break t}this.h.i=new d.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,c+=this.h.i.decode(E[m],{stream:!($&&m==L-1)});E.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,Us(this.i,this.u,this.A,this.l,this.R,ht,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,gt=this.g;if((ze=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ze)){var Ve=ze;break t}}Ve=null}if(v=Ve)xn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,v);else{this.o=!1,this.s=3,ot(12),vn(this),Gr(this);break e}}if(this.P){v=!0;let hn;for(;!this.J&&this.C<te.length;)if(hn=_h(this,te),hn==Bs){ht==4&&(this.s=4,ot(14),v=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==ya){this.s=4,ot(15),xn(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else xn(this.i,this.l,hn,null),_a(this,hn);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||te.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)xn(this.i,this.l,te,"[Invalid Chunked Response]"),vn(this),Gr(this);else if(0<te.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Pa(Et),Et.M=!0,ot(11))}}else xn(this.i,this.l,te,null),_a(this,te);ht==4&&vn(this),this.o&&!this.J&&(ht==4?Zs(this.j,this):(this.o=!1,qe(this)))}else Gs(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),vn(this),Gr(this)}}}catch{}finally{}};function Bl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _h(c,m){var v=c.C,E=m.indexOf(`
`,v);return E==-1?Bs:(v=Number(m.substring(v,E)),isNaN(v)?ya:(E+=1,E+v>m.length?Bs:(m=m.slice(E,E+v),c.C=E+v,m)))}Vn.prototype.cancel=function(){this.J=!0,vn(this)};function qe(c){c.S=Date.now()+c.I,zl(c,c.I)}function zl(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=kn(S(c.ba,c),m)}function Wi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ga(this.i,this.A),this.L!=2&&(Er(),ot(17)),vn(this),this.s=2,Gr(this)):zl(this,this.S-c)};function Gr(c){c.j.G==0||c.J||Zs(c.j,c)}function vn(c){Wi(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,ua(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function _a(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||Kt(v.h,c))){if(!c.K&&Kt(v.h,c)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Js(v),bn(v);else break e;Ys(v),ot(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=kn(S(v.Za,v),6e3));if(1>=Hl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Cr(v,11)}else if((c.K||v.g==c)&&Js(v),!Y(m))for(L=v.Da.g.parse(m),m=0;m<L.length;m++){let Ve=L[m];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const Et=Ve[3];Et!=null&&(v.la=Et,v.j.info("VER="+v.la));const ht=Ve[4];ht!=null&&(v.Aa=ht,v.j.info("SVER="+v.Aa));const wn=Ve[5];wn!=null&&typeof wn=="number"&&0<wn&&(E=1.5*wn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const hn=c.g;if(hn){const es=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var $=E.h;$.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(wa($,$.h),$.h=null))}if(E.D){const to=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(E.ya=to,$e(E.I,E.D,to))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var te=c;if(E.qa=ru(E,E.J?E.ia:null,E.W),te.K){ql(E.h,te);var ze=te,gt=E.L;gt&&(ze.I=gt),ze.B&&(Wi(ze),qe(ze)),E.g=te}else Zi(E);0<v.i.length&&Jn(v)}else Ve[0]!="stop"&&Ve[0]!="close"||Cr(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Cr(v,7):xt(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}Er(4)}catch{}}var $l=class{constructor(c,m){this.g=c,this.map=m}};function Gi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hl(c){return c.h?1:c.g?c.g.size:0}function Kt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function wa(c,m){c.g?c.g.add(m):c.h=m}function ql(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Gi.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Kl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return B(c.i)}function $s(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var m=[],v=c.length,E=0;E<v;E++)m.push(c[E]);return m}m=[],v=0;for(E in c)m[v++]=c[E];return m}function Hs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const E in c)m[v++]=E;return m}}}function Qr(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=Hs(c),E=$s(c),L=E.length,$=0;$<L;$++)m.call(void 0,E[$],v&&v[$],c)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wh(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var E=c[v].indexOf("="),L=null;if(0<=E){var $=c[v].substring(0,E);L=c[v].substring(E+1)}else $=c[v];m($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Sr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Sr){this.h=c.h,Xi(this,c.j),this.o=c.o,this.g=c.g,Xr(this,c.s),this.l=c.l;var m=c.i,v=new Qn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Yr(this,v),this.m=c.m}else c&&(m=String(c).match(Qi))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),Xr(this,m[4]),this.l=xe(m[5]||"",!0),Yr(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}Sr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Zr(m,qs,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Zr(m,qs,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Zr(v,v.charAt(0)=="/"?Ql:Gl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Zr(v,Ta)),c.join("")};function un(c){return new Sr(c)}function Xi(c,m,v){c.j=v?xe(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Xr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Yr(c,m,v){m instanceof Qn?(c.i=m,Xn(c.i,c.h)):(v||(m=Zr(m,Xl)),c.i=new Qn(m,c.h))}function $e(c,m,v){c.i.set(m,v)}function Jr(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xe(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Wl),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qs=/[#\/\?@]/g,Gl=/[#\?:]/g,Ql=/[#\?]/g,Xl=/[#\?@]/g,Ta=/#/g;function Qn(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function kt(c){c.g||(c.g=new Map,c.h=0,c.i&&wh(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Qn.prototype,n.add=function(c,m){kt(this),this.i=null,c=_n(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Nn(c,m){kt(c),m=_n(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function On(c,m){return kt(c),m=_n(c,m),c.g.has(m)}n.forEach=function(c,m){kt(this),this.g.forEach(function(v,E){v.forEach(function(L){c.call(m,L,E,this)},this)},this)},n.na=function(){kt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const L=c[E];for(let $=0;$<L.length;$++)v.push(m[E])}return v},n.V=function(c){kt(this);let m=[];if(typeof c=="string")On(this,c)&&(m=m.concat(this.g.get(_n(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},n.set=function(c,m){return kt(this),this.i=null,c=_n(this,c),On(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},n.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function ei(c,m,v){Nn(c,m),0<v.length&&(c.i=null,c.g.set(_n(c,m),B(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const $=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var L=$;te[E]!==""&&(L+="="+encodeURIComponent(String(te[E]))),c.push(L)}}return this.i=c.join("&")};function _n(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Xn(c,m){m&&!c.j&&(kt(c),c.i=null,c.g.forEach(function(v,E){var L=E.toLowerCase();E!=L&&(Nn(this,E),ei(this,L,v))},c)),c.j=m}function Th(c,m){const v=new Hi;if(d.Image){const E=new Image;E.onload=R(Yt,v,"TestLoadImage: loaded",!0,m,E),E.onerror=R(Yt,v,"TestLoadImage: error",!1,m,E),E.onabort=R(Yt,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=R(Yt,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else m(!1)}function Yl(c,m){const v=new Hi,E=new AbortController,L=setTimeout(()=>{E.abort(),Yt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:E.signal}).then($=>{clearTimeout(L),$.ok?Yt(v,"TestPingServer: ok",!0,m):Yt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Yt(v,"TestPingServer: error",!1,m)})}function Yt(c,m,v,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(v)}catch{}}function Eh(){this.g=new da}function Jl(c,m,v){const E=v||"";try{Qr(c,function(L,$){let te=L;y(L)&&(te=ca(L)),m.push(E+$+"="+encodeURIComponent(te))})}catch(L){throw m.push(E+"type="+encodeURIComponent("_badmap")),L}}function Ir(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Ir,zi),Ir.prototype.g=function(){return new Yi(this.l,this.j)},Ir.prototype.i=function(c){return function(){return c}}({});function Yi(c,m){pt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Yi,pt),n=Yi.prototype,n.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ln(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Mn(this):Ln(this),this.readyState==3&&Zl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Mn(this))},n.Qa=function(c){this.g&&(this.response=c,Mn(this))},n.ga=function(){this.g&&Mn(this)};function Mn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ln(c)}n.setRequestHeader=function(c,m){this.u.append(c,m)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Ln(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ar(c){let m="";return ae(c,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function ti(c,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=Ar(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):$e(c,m,v))}function Ye(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ye,pt);var Sh=/^https?$/i,Ea=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?Ms(this.o):Ms(Dn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch($){Ji(this,$);return}if(c=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)v.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())v.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ea,m,void 0))||E||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of v)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Ji(this,$)}};function Ji(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Ks(c),cn(c)}function Ks(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},n.bb=function(){Sa(this)};function Sa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Jt(c)!=4||c.Z()!=2)){if(c.u&&Jt(c)==4)aa(c.Ea,0,c);else if(mt(c,"readystatechange"),Jt(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=te===0){var L=String(c.D).match(Qi)[1]||null;!L&&d.self&&d.self.location&&(L=d.self.location.protocol.slice(0,-1)),E=!Sh.test(L?L.toLowerCase():"")}v=E}if(v)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var $=2<Jt(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ks(c)}}finally{cn(c)}}}}function cn(c,m){if(c.g){Ws(c);const v=c.g,E=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||mt(c,"ready");try{v.onreadystatechange=E}catch{}}}function Ws(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Jt(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ha(m)}};function Ia(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(c){const m={};c=(c.g&&2<=Jt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(Y(c[E]))continue;var v=N(c[E]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=m[L]||[];m[L]=$,$.push(v)}x(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Aa(c){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,c),this.cb=Yn("retryDelaySeedMs",1e4,c),this.Wa=Yn("forwardChannelMaxRetries",2,c),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(c&&c.concurrentRequestLimit),this.Da=new Eh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Aa.prototype,n.la=8,n.G=1,n.connect=function(c,m,v,E){ot(0),this.W=c,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=ru(this,null,this.W),Jn(this)};function xt(c){if(Qs(c),c.G==3){var m=c.U++,v=un(c.I);if($e(v,"SID",c.K),$e(v,"RID",m),$e(v,"TYPE","terminate"),Pr(c,v),m=new Vn(c,c.j,m),m.L=2,m.v=Jr(un(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=iu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}nu(c)}function bn(c){c.g&&(Pa(c),c.g.cancel(),c.g=null)}function Qs(c){bn(c),c.u&&(d.clearTimeout(c.u),c.u=null),Js(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Jn(c){if(!ln(c.h)&&!c.s){c.s=!0;var m=c.Ga;Se||se(),Z||(Se(),Z=!0),fe.add(m,c),c.B=0}}function Ih(c,m){return Hl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=kn(S(c.Ga,c,m),tu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Vn(this,this.j,c);let $=this.o;if(this.S&&($?($=I($),D($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ni(this,L,m),v=un(this.I),$e(v,"RID",c),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),Pr(this,v),$&&(this.O?m="headers="+encodeURIComponent(String(Ar($)))+"&"+m:this.m&&ti(v,this.m,$)),wa(this.h,L),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",m),$e(v,"SID","null"),L.T=!0,zs(L,v,null)):zs(L,v,m),this.G=2}}else this.G==3&&(c?Xs(this,c):this.i.length==0||ln(this.h)||Xs(this))};function Xs(c,m){var v;m?v=m.l:v=c.U++;const E=un(c.I);$e(E,"SID",c.K),$e(E,"RID",v),$e(E,"AID",c.T),Pr(c,E),c.m&&c.o&&ti(E,c.m,c.o),v=new Vn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=ni(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wa(c.h,v),zs(v,E,m)}function Pr(c,m){c.H&&ae(c.H,function(v,E){$e(m,E,v)}),c.l&&Qr({},function(v,E){$e(m,E,v)})}function ni(c,m,v){v=Math.min(c.i.length,v);var E=c.l?S(c.l.Na,c.l,c):null;e:{var L=c.i;let $=-1;for(;;){const te=["count="+v];$==-1?0<v?($=L[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let ze=!0;for(let gt=0;gt<v;gt++){let Ve=L[gt].g;const Et=L[gt].map;if(Ve-=$,0>Ve)$=Math.max(0,L[gt].g-100),ze=!1;else try{Jl(Et,te,"req"+Ve+"_")}catch{E&&E(Et)}}if(ze){E=te.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,E}function Zi(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Se||se(),Z||(Se(),Z=!0),fe.add(m,c),c.v=0}}function Ys(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=kn(S(c.Fa,c),tu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=kn(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),bn(this),eu(this))};function Pa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function eu(c){c.g=new Vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=un(c.qa);$e(m,"RID","rpc"),$e(m,"SID",c.K),$e(m,"AID",c.T),$e(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(m,"TO",c.ja),$e(m,"TYPE","xmlhttp"),Pr(c,m),c.m&&c.o&&ti(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Jr(un(m)),v.m=null,v.P=!0,va(v,c)}n.Za=function(){this.C!=null&&(this.C=null,bn(this),Ys(this),ot(19))};function Js(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Zs(c,m){var v=null;if(c.g==m){Js(c),Pa(c),c.g=null;var E=2}else if(Kt(c.h,m))v=m.D,ql(c.h,m),E=1;else return;if(c.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var L=c.B;E=$i(),mt(E,new Fs(E,v)),Jn(c)}else Zi(c);else if(L=m.s,L==3||L==0&&0<m.X||!(E==1&&Ih(c,m)||E==2&&Ys(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Cr(c,5);break;case 4:Cr(c,10);break;case 3:Cr(c,6);break;default:Cr(c,2)}}}function tu(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Cr(c,m){if(c.j.info("Error code "+m),m==2){var v=S(c.fb,c),E=c.Xa;const L=!E;E=new Sr(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xi(E,"https"),Jr(E),L?Th(E.toString(),v):Yl(E.toString(),v)}else ot(2);c.G=0,c.l&&c.l.sa(m),nu(c),Qs(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function nu(c){if(c.G=0,c.ka=[],c.l){const m=Kl(c.h);(m.length!=0||c.i.length!=0)&&(F(c.ka,m),F(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function ru(c,m,v){var E=v instanceof Sr?un(v):new Sr(v);if(E.g!="")m&&(E.g=m+"."+E.g),Xr(E,E.s);else{var L=d.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var $=new Sr(null);E&&Xi($,E),m&&($.g=m),L&&Xr($,L),v&&($.l=v),E=$}return v=c.D,m=c.ya,v&&m&&$e(E,v,m),$e(E,"VER",c.la),Pr(c,E),E}function iu(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ye(new Ir({eb:v})):new Ye(c.pa),m.Ha(c.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ca(){}n=Ca.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(c,m){return new Wt(c,m)};function Wt(c,m){pt.call(this),this.g=new Aa(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!Y(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Zn(this)}U(Wt,pt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){xt(this.g)},Wt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ca(c),c=v);m.i.push(new $l(m.Ya++,c)),m.G==3&&Jn(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,xt(this.g),delete this.g,Wt.aa.N.call(this)};function su(c){Wn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}U(su,Wn);function ou(){bs.call(this),this.status=1}U(ou,bs);function Zn(c){this.g=c}U(Zn,Ca),Zn.prototype.ua=function(){mt(this.g,"a")},Zn.prototype.ta=function(c){mt(this.g,new su(c))},Zn.prototype.sa=function(c){mt(this.g,new ou)},Zn.prototype.ra=function(){mt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,PT=function(){return new eo},AT=function(){return $i()},IT=Gn,Hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,mc=js,Ul.COMPLETE="complete",ST=Ul,Ls.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,nl=Ls,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,ET=Ye}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore",m0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Hp("@firebase/firestore");function So(){return As.logLevel}function le(n,...e){if(As.logLevel<=ke.DEBUG){const t=e.map(Wp);As.debug(`Firestore (${Jo}): ${n}`,...t)}}function $r(n,...e){if(As.logLevel<=ke.ERROR){const t=e.map(Wp);As.error(`Firestore (${Jo}): ${n}`,...t)}}function zo(n,...e){if(As.logLevel<=ke.WARN){const t=e.map(Wp);As.warn(`Firestore (${Jo}): ${n}`,...t)}}function Wp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+n;throw $r(e),new Error(e)}function nt(n,e){n||Ae()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zt.UNAUTHENTICATED))}shutdown(){}}class xk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Dk{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let l=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ts,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ts)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string"),new CT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new zt(e)}}class Vk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Nk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Vk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ok{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,qn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new g0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string"),this.R=t.token,new g0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Mk(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Oe(n,e){return n<e?-1:n>e?1:0}function $o(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=-62135596800,v0=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*v0);return new an(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<y0)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new an(0,0))}static max(){return new Ie(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="__name__";class sr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(),i===void 0?i=e.length-t:i>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=sr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=sr.isNumericId(e),o=sr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?sr.extractNumericId(e).compare(sr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ci.fromString(e.substring(4,e.length-2))}}class st extends sr{construct(e,t,i){return new st(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new st(t)}static emptyPath(){return new st([])}}const bk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends sr{construct(e,t,i){return new Xt(e,t,i)}static isValidIdentifier(e){return bk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new Xt([_0])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(l(),o++)}if(l(),u)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(st.fromString(e))}static fromName(e){return new we(st.fromString(e).popFirst(5))}static empty(){return new we(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function Fk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new an(t+1,0):new an(t,i));return new Di(o,we.empty(),e)}function Uk(n){return new Di(n.readTime,n.key,wl)}class Di{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Di(Ie.min(),we.empty(),wl)}static max(){return new Di(Ie.max(),we.empty(),wl)}}function jk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==Bk)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,i)=>{t(e)})}static reject(e){return new K((t,i)=>{i(e)})}static waitFor(e){return new K((t,i)=>{let o=0,l=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++l,u&&l===o&&t()},f=>i(f))}),u=!0,l===o&&t()})}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next(o=>o?K.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new K((i,o)=>{const l=e.length,u=new Array(l);let d=0;for(let f=0;f<l;f++){const y=f;t(e[y]).next(_=>{u[y]=_,++d,d===l&&i(u)},_=>o(_))}})}static doWhile(e,t){return new K((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function $k(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=-1;function oh(n){return n==null}function qf(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function qk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=w0(e)),e=Kk(n.get(t),e);return w0(e)}function Kk(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case RT:t+="";break;default:t+=l}}return t}function w0(n){return n+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Dl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Wk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}}class ic{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Si([])}unionWith(e){let t=new wt(Xt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kT("Invalid base64 string: "+l):l}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const Gk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(n){if(nt(!!n),typeof n=="string"){let e=0;const t=Gk.exec(n);if(nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ni(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",DT="__type__",VT="__previous_value__",NT="__local_write_time__";function Gp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[DT])===null||t===void 0?void 0:t.stringValue)===xT}function ah(n){const e=n.mapValue.fields[VT];return Gp(e)?ah(e):e}function Tl(n){const e=Vi(n.mapValue.fields[NT].timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,i,o,l,u,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=y}}const Oc="(default)";class El{constructor(e,t){this.projectId=e,this.database=t||Oc}static empty(){return new El("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="__type__",OT="__max__",sc={mapValue:{fields:{__type__:{stringValue:OT}}}},Yk="__vector__",Kf="value";function Oi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gp(n)?4:Zk(n)?9007199254740991:Jk(n)?10:11:Ae()}function fr(n,e){if(n===e)return!0;const t=Oi(n);if(t!==Oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tl(n).isEqual(Tl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Vi(o.timestampValue),d=Vi(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ni(o.bytesValue).isEqual(Ni(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=ut(o.doubleValue),d=ut(l.doubleValue);return u===d?qf(u)===qf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return $o(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},d=l.mapValue.fields||{};if(T0(u)!==T0(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!fr(u[f],d[f])))return!1;return!0}(n,e);default:return Ae()}}function Sl(n,e){return(n.values||[]).find(t=>fr(t,e))!==void 0}function Ho(n,e){if(n===e)return 0;const t=Oi(n),i=Oi(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(l,u){const d=ut(l.integerValue||l.doubleValue),f=ut(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return S0(n.timestampValue,e.timestampValue);case 4:return S0(Tl(n),Tl(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(l,u){const d=Ni(l),f=Ni(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const d=l.split("/"),f=u.split("/");for(let y=0;y<d.length&&y<f.length;y++){const _=Oe(d[y],f[y]);if(_!==0)return _}return Oe(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const d=Oe(ut(l.latitude),ut(u.latitude));return d!==0?d:Oe(ut(l.longitude),ut(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return I0(n.arrayValue,e.arrayValue);case 10:return function(l,u){var d,f,y,_;const T=l.fields||{},S=u.fields||{},R=(d=T[Kf])===null||d===void 0?void 0:d.arrayValue,U=(f=S[Kf])===null||f===void 0?void 0:f.arrayValue,B=Oe(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((_=U==null?void 0:U.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:I0(R,U)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===sc.mapValue&&u===sc.mapValue)return 0;if(l===sc.mapValue)return 1;if(u===sc.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),y=u.fields||{},_=Object.keys(y);f.sort(),_.sort();for(let T=0;T<f.length&&T<_.length;++T){const S=Oe(f[T],_[T]);if(S!==0)return S;const R=Ho(d[f[T]],y[_[T]]);if(R!==0)return R}return Oe(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function S0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Vi(n),i=Vi(e),o=Oe(t.seconds,i.seconds);return o!==0?o:Oe(t.nanos,i.nanos)}function I0(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ho(t[o],i[o]);if(l)return l}return Oe(t.length,i.length)}function qo(n){return Wf(n)}function Wf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Vi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ni(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Wf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${Wf(t.fields[u])}`;return o+"}"}(n.mapValue):Ae()}function gc(n){switch(Oi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(n);return e?16+gc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+gc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Dl(i.fields,(l,u)=>{o+=l.length+gc(u)}),o}(n.mapValue);default:throw Ae()}}function Gf(n){return!!n&&"integerValue"in n}function Qp(n){return!!n&&"arrayValue"in n}function A0(n){return!!n&&"nullValue"in n}function P0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pf(n){return!!n&&"mapValue"in n}function Jk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xk])===null||t===void 0?void 0:t.stringValue)===Yk}function ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Dl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ul(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Zk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===OT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}setAll(e){let t=Xt.emptyPath(),i={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=d.popLast()}u?i[d.lastSegment()]=ul(u):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Dl(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new or(ul(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,i,o,l,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new $t(e,0,Ie.min(),Ie.min(),Ie.min(),or.empty(),0)}static newFoundDocument(e,t,i,o){return new $t(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Ie.min(),Ie.min(),or.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Ie.min(),Ie.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t){this.position=e,this.inclusive=t}}function C0(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],u=n.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(u.referenceValue),t.key):i=Ho(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function R0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ex(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{}class _t extends MT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new nx(e,t,i):t==="array-contains"?new sx(e,i):t==="in"?new ox(e,i):t==="not-in"?new ax(e,i):t==="array-contains-any"?new lx(e,i):new _t(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new rx(e,i):new ix(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ho(t,this.value)):t!==null&&Oi(this.value)===Oi(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends MT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new pr(e,t)}matches(e){return LT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function LT(n){return n.op==="and"}function bT(n){return tx(n)&&LT(n)}function tx(n){for(const e of n.filters)if(e instanceof pr)return!1;return!0}function Qf(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+qo(n.value);if(bT(n))return n.filters.map(e=>Qf(e)).join(",");{const e=n.filters.map(t=>Qf(t)).join(",");return`${n.op}(${e})`}}function FT(n,e){return n instanceof _t?function(i,o){return o instanceof _t&&i.op===o.op&&i.field.isEqual(o.field)&&fr(i.value,o.value)}(n,e):n instanceof pr?function(i,o){return o instanceof pr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,u,d)=>l&&FT(u,o.filters[d]),!0):!1}(n,e):void Ae()}function UT(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${qo(t.value)}`}(n):n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(UT).join(" ,")+"}"}(n):"Filter"}class nx extends _t{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class rx extends _t{constructor(e,t){super(e,"in",t),this.keys=jT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ix extends _t{constructor(e,t){super(e,"not-in",t),this.keys=jT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class sx extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qp(t)&&Sl(t.arrayValue,this.value)}}class ox extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sl(this.value.arrayValue,t)}}class ax extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Sl(this.value.arrayValue,t)}}class lx extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Sl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t=null,i=[],o=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=d,this.le=null}}function k0(n,e=null,t=[],i=[],o=null,l=null,u=null){return new ux(n,e,t,i,o,l,u)}function Xp(n){const e=Me(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Qf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>qo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>qo(i)).join(",")),e.le=t}return e.le}function Yp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ex(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!R0(n.startAt,e.startAt)&&R0(n.endAt,e.endAt)}function Xf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t=null,i=[],o=[],l=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function cx(n,e,t,i,o,l,u,d){return new lh(n,e,t,i,o,l,u,d)}function BT(n){return new lh(n)}function x0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hx(n){return n.collectionGroup!==null}function cl(n){const e=Me(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new wt(Xt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Lc(l,i))}),t.has(Xt.keyField().canonicalString())||e.he.push(new Lc(Xt.keyField(),i))}return e.he}function cr(n){const e=Me(n);return e.Pe||(e.Pe=dx(e,cl(n))),e.Pe}function dx(n,e){if(n.limitType==="F")return k0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Lc(o.field,l)});const t=n.endAt?new Mc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mc(n.startAt.position,n.startAt.inclusive):null;return k0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Yf(n,e,t){return new lh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return Yp(cr(n),cr(e))&&n.limitType===e.limitType}function zT(n){return`${Xp(cr(n))}|lt:${n.limitType}`}function Io(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>UT(o)).join(", ")}]`),oh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>qo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>qo(o)).join(",")),`Target(${i})`}(cr(n))}; limitType=${n.limitType})`}function ch(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of cl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,d,f){const y=C0(u,d,f);return u.inclusive?y<=0:y<0}(i.startAt,cl(i),o)||i.endAt&&!function(u,d,f){const y=C0(u,d,f);return u.inclusive?y>=0:y>0}(i.endAt,cl(i),o))}(n,e)}function fx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $T(n){return(e,t)=>{let i=!1;for(const o of cl(n)){const l=px(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function px(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,u,d){const f=u.data.field(l),y=d.data.field(l);return f!==null&&y!==null?Ho(f,y):Ae()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Dl(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Wk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new ct(we.comparator);function Mi(){return mx}const HT=new ct(we.comparator);function rl(...n){let e=HT;for(const t of n)e=e.insert(t.key,t);return e}function gx(n){let e=HT;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function vs(){return hl()}function qT(){return hl()}function hl(){return new ks(n=>n.toString(),(n,e)=>n.isEqual(e))}const yx=new wt(we.comparator);function be(...n){let e=yx;for(const t of n)e=e.add(t);return e}const vx=new wt(Oe);function _x(){return vx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function Tx(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function Ex(n,e,t){return n instanceof Jf?function(o,l){const u={fields:{[DT]:{stringValue:xT},[NT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Gp(l)&&(l=ah(l)),l&&(u.fields[VT]=l),{mapValue:u}}(t,e):n instanceof bc?KT(n,e):n instanceof Fc?WT(n,e):function(o,l){const u=Ix(o,l),d=D0(u)+D0(o.Ie);return Gf(u)&&Gf(o.Ie)?Tx(d):wx(o.serializer,d)}(n,e)}function Sx(n,e,t){return n instanceof bc?KT(n,e):n instanceof Fc?WT(n,e):t}function Ix(n,e){return n instanceof Zf?function(i){return Gf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Jf extends hh{}class bc extends hh{constructor(e){super(),this.elements=e}}function KT(n,e){const t=GT(e);for(const i of n.elements)t.some(o=>fr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Fc extends hh{constructor(e){super(),this.elements=e}}function WT(n,e){let t=GT(e);for(const i of n.elements)t=t.filter(o=>!fr(o,i));return{arrayValue:{values:t}}}class Zf extends hh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function D0(n){return ut(n.integerValue||n.doubleValue)}function GT(n){return Qp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ax(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof bc&&o instanceof bc||i instanceof Fc&&o instanceof Fc?$o(i.elements,o.elements,fr):i instanceof Zf&&o instanceof Zf?fr(i.Ie,o.Ie):i instanceof Jf&&o instanceof Jf}(n.transform,e.transform)}class Es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jp{}function QT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cx(n.key,Es.none()):new Zp(n.key,n.data,Es.none());{const t=n.data,i=or.empty();let o=new wt(Xt.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new dh(n.key,i,new Si(o.toArray()),Es.none())}}function Px(n,e,t){n instanceof Zp?function(o,l,u){const d=o.value.clone(),f=N0(o.fieldTransforms,l,u.transformResults);d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof dh?function(o,l,u){if(!yc(o.precondition,l))return void l.convertToUnknownDocument(u.version);const d=N0(o.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(XT(o)),f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function dl(n,e,t,i){return n instanceof Zp?function(l,u,d,f){if(!yc(l.precondition,u))return d;const y=l.value.clone(),_=O0(l.fieldTransforms,f,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof dh?function(l,u,d,f){if(!yc(l.precondition,u))return d;const y=O0(l.fieldTransforms,f,u),_=u.data;return _.setAll(XT(l)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,u,d){return yc(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function V0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&$o(i,o,(l,u)=>Ax(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Zp extends Jp{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class dh extends Jp{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function XT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function N0(n,e,t){const i=new Map;nt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],u=l.transform,d=e.data.field(l.field);i.set(l.field,Sx(u,d,t[o]))}return i}function O0(n,e,t){const i=new Map;for(const o of n){const l=o.transform,u=t.data.field(o.field);i.set(o.field,Ex(l,u,e))}return i}class Cx extends Jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Px(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=dl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=dl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=qT();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(o.key)?null:d;const f=QT(u,d);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),be())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(t,i)=>V0(t,i))&&$o(this.baseMutations,e.baseMutations,(t,i)=>V0(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Ne;function YT(n){if(n===void 0)return $r("GRPC error has no .code"),re.UNKNOWN;switch(n){case ft.OK:return re.OK;case ft.CANCELLED:return re.CANCELLED;case ft.UNKNOWN:return re.UNKNOWN;case ft.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case ft.INTERNAL:return re.INTERNAL;case ft.UNAVAILABLE:return re.UNAVAILABLE;case ft.UNAUTHENTICATED:return re.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case ft.NOT_FOUND:return re.NOT_FOUND;case ft.ALREADY_EXISTS:return re.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return re.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case ft.ABORTED:return re.ABORTED;case ft.OUT_OF_RANGE:return re.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return re.UNIMPLEMENTED;case ft.DATA_LOSS:return re.DATA_LOSS;default:return Ae()}}(Ne=ft||(ft={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new Ci([4294967295,4294967295],0);function M0(n){const e=Dx().encode(n),t=new TT;return t.update(e),new Uint8Array(t.digest())}function L0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ci([t,i],0),new Ci([o,l],0)]}class em{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new il(`Invalid padding: ${t}`);if(i<0)throw new il(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new il(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ci.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Ci.fromNumber(i)));return o.compare(Vx)===1&&(o=new Ci([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=M0(e),[i,o]=L0(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,o,l);if(!this.Re(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new em(l,o,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.Ee===0)return;const t=M0(e),[i,o]=L0(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,o,l);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new fh(Ie.min(),o,new ct(Oe),Mi(),be())}}class Vl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Vl(i,t,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class JT{constructor(e,t){this.targetId=e,this.ge=t}}class ZT{constructor(e,t,i=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class b0{constructor(){this.pe=0,this.ye=F0(),this.we=Mt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=be(),t=be(),i=be();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ae()}}),new Vl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=F0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,nt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Nx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Mi(),this.$e=oc(),this.Ke=oc(),this.Ue=new ct(Oe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Xf(l))if(i===0){const u=new we(l.path);this.ze(t,u,$t.newNoDocument(u,Ie.min()))}else nt(i===1);else{const u=this.et(t);if(u!==i){const d=this.tt(e),f=d?this.nt(d,e,u):1;if(f!==0){this.Ye(t);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let u,d;try{u=Ni(i).toUint8Array()}catch(f){if(f instanceof kT)return zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new em(u,o,l)}catch(f){return zo(f instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const u=this.ke.it(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,u)=>{const d=this.Xe(u);if(d){if(l.current&&Xf(d.target)){const f=new we(d.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,$t.newNoDocument(f,e))}l.ve&&(t.set(u,l.Fe()),l.Me())}});let i=be();this.Ke.forEach((l,u)=>{let d=!0;u.forEachWhile(f=>{const y=this.Xe(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const o=new fh(e,t,this.Ue,this.Qe,i);return this.Qe=Mi(),this.$e=oc(),this.Ke=oc(),this.Ue=new ct(Oe),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new b0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new wt(Oe),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new wt(Oe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new b0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function oc(){return new ct(we.comparator)}function F0(){return new ct(we.comparator)}const Ox={asc:"ASCENDING",desc:"DESCENDING"},Mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lx={and:"AND",or:"OR"};class bx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ep(n,e){return n.useProto3Json||oh(e)?e:{value:e}}function Fx(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ux(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function No(n){return nt(!!n),Ie.fromTimestamp(function(t){const i=Vi(t);return new an(i.seconds,i.nanos)}(n))}function jx(n,e){return tp(n,e).canonicalString()}function tp(n,e){const t=function(o){return new st(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function eE(n){const e=st.fromString(n);return nt(sE(e)),e}function mf(n,e){const t=eE(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(nE(t))}function tE(n,e){return jx(n.databaseId,e)}function Bx(n){const e=eE(n);return e.length===4?st.emptyPath():nE(e)}function U0(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nE(n){return nt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function zx(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(nt(_===void 0||typeof _=="string"),Mt.fromBase64String(_||"")):(nt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Mt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(y){const _=y.code===void 0?re.UNKNOWN:YT(y.code);return new _e(_,y.message||"")}(u);t=new ZT(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=mf(n,i.document.name),l=No(i.document.updateTime),u=i.document.createTime?No(i.document.createTime):Ie.min(),d=new or({mapValue:{fields:i.document.fields}}),f=$t.newFoundDocument(o,l,u,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new vc(y,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=mf(n,i.document),l=i.readTime?No(i.readTime):Ie.min(),u=$t.newNoDocument(o,l),d=i.removedTargetIds||[];t=new vc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=mf(n,i.document),l=i.removedTargetIds||[];t=new vc([],l,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new xx(o,l),d=i.targetId;t=new JT(d,u)}}return t}function $x(n,e){return{documents:[tE(n,e.path)]}}function Hx(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=tE(n,o);const l=function(y){if(y.length!==0)return iE(pr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(y){if(y.length!==0)return y.map(_=>function(S){return{field:Ao(S.field),direction:Wx(S.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=ep(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function qx(n){let e=Bx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){nt(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const S=rE(T);return S instanceof pr&&bT(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(S=>function(U){return new Lc(Po(U.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,oh(S)?null:S}(t.limit));let f=null;t.startAt&&(f=function(T){const S=!!T.before,R=T.values||[];return new Mc(R,S)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const S=!T.before,R=T.values||[];return new Mc(R,S)}(t.endAt)),cx(e,o,u,l,d,"F",f,y)}function Kx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Po(t.unaryFilter.field);return _t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Po(t.unaryFilter.field);return _t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Po(t.unaryFilter.field);return _t.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return _t.create(Po(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pr.create(t.compositeFilter.filters.map(i=>rE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function Wx(n){return Ox[n]}function Gx(n){return Mx[n]}function Qx(n){return Lx[n]}function Ao(n){return{fieldPath:n.canonicalString()}}function Po(n){return Xt.fromServerFormat(n.fieldPath)}function iE(n){return n instanceof _t?function(t){if(t.op==="=="){if(P0(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NAN"}};if(A0(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(P0(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NAN"}};if(A0(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(t.field),op:Gx(t.op),value:t.value}}}(n):n instanceof pr?function(t){const i=t.getFilters().map(o=>iE(o));return i.length===1?i[0]:{compositeFilter:{op:Qx(t.op),filters:i}}}(n):Ae()}function sE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t,i,o,l=Ie.min(),u=Ie.min(),d=Mt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.Tt=e}}function Yx(n){const e=qx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.Tn=new Zx}addToCollectionParentIndex(e,t){return this.Tn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Di.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class Zx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new wt(st.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new wt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oE=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(oE,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ko(0)}static Un(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="LruGarbageCollector",eD=1048576;function z0([n,e],[t,i]){const o=Oe(n,t);return o===0?Oe(e,i):o}class tD{constructor(e){this.Hn=e,this.buffer=new wt(z0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();z0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(B0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?le(B0,"Ignoring IndexedDB error during garbage collection: ",t):await ih(t)}await this.er(3e5)})}}class rD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return K.resolve(sh.ae);const i=new tD(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(j0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,u,d,f,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),So()<=ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${T} documents in `+(y-f)+`ms
Total Duration: ${y-_}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function iD(n,e){return new rD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.changes=new ks(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&dl(i.mutation,o,Si.empty(),an.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=be()){const o=vs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let u=rl();return l.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,be()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,o){let l=Mi();const u=hl(),d=function(){return hl()}();return t.forEach((f,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof dh)?l=l.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),dl(_.mutation,y,_.mutation.getFieldMask(),an.now())):u.set(y.key,Si.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((y,_)=>u.set(y,_)),t.forEach((y,_)=>{var T;return d.set(y,new oD(_,(T=u.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=hl();let o=new ct((u,d)=>u-d),l=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const y=t.get(f);if(y===null)return;let _=i.get(f)||Si.empty();_=d.applyToLocalView(y,_),i.set(f,_);const T=(o.get(d.batchId)||be()).add(f);o=o.insert(d.batchId,T)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),y=f.key,_=f.value,T=qT();_.forEach(S=>{if(!l.has(S)){const R=QT(t.get(S),i.get(S));R!==null&&T.set(S,R),l=l.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,T))}return K.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):K.resolve(vs());let d=wl,f=l;return u.next(y=>K.forEach(y,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?K.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{f=f.insert(_,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,f,y,be())).next(_=>({batchId:d,changes:gx(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=rl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let u=rl();return this.indexManager.getCollectionParents(e,l).next(d=>K.forEach(d,f=>{const y=function(T,S){return new lh(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((T,S)=>{u=u.insert(T,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(u=>{l.forEach((f,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,$t.newInvalidDocument(_)))});let d=rl();return u.forEach((f,y)=>{const _=l.get(f);_!==void 0&&dl(_.mutation,y,Si.empty(),an.now()),ch(t,y)&&(d=d.insert(f,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return K.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:No(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:Yx(o.bundledQuery),readTime:No(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.overlays=new ct(we.comparator),this.Rr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=vs();return K.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),K.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const o=vs(),l=t.length+1,u=new we(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,y=f.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&f.largestBatchId>i&&o.set(f.getKey(),f)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ct((y,_)=>y-_);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=vs(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=vs(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return K.resolve(d)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new kx(t,i));let l=this.Rr.get(t);l===void 0&&(l=be(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Vr=new wt(Pt.mr),this.gr=new wt(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Pt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new we(new st([])),i=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new we(new st([])),i=new Pt(t,e),o=new Pt(t,e+1);let l=be();return this.gr.forEachInRange([i,o],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Pt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return we.comparator(e.key,t.key)||Oe(e.Cr,t.Cr)}static pr(e,t){return Oe(e.Cr,t.Cr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(Pt.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Rx(l,t,i,o);this.mutationQueue.push(u);for(const d of o)this.Mr=this.Mr.add(new Pt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(u)}lookupMutationBatch(e,t){return K.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Hk:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],u=>{const d=this.Or(u.Cr);l.push(d)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(Oe);return t.forEach(o=>{const l=new Pt(o,0),u=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],d=>{i=i.add(d.Cr)})}),K.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const u=new Pt(new we(l),0);let d=new wt(Oe);return this.Mr.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(f.Cr)),!0)},u),K.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){nt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return K.forEach(t.mutations,o=>{const l=new Pt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Pt(t,0),o=this.Mr.firstAfterOrEqual(i);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.kr=e,this.docs=function(){return new ct(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let i=Mi();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():$t.newInvalidDocument(o))}),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Mi();const u=t.path,d=new we(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:y,value:{document:_}}=f.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||jk(Uk(_),i)<=0||(o.has(_.key)||ch(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ae()}qr(e,t){return K.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fD(this)}getSize(e){return K.resolve(this.size)}}class fD extends sD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),K.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.persistence=e,this.Qr=new ks(t=>Xp(t),Yp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new tm,this.targetCount=0,this.Ur=Ko.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),K.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ko(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.zn(t),K.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),K.waitFor(l).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new sh(0),this.zr=!1,this.zr=!0,this.jr=new cD,this.referenceDelegate=e(this),this.Hr=new pD(this),this.indexManager=new Jx,this.remoteDocumentCache=function(o){return new dD(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Xx(t),this.Yr=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new hD(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new mD(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return K.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class mD extends zk{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.ti=new tm,this.ni=null}static ri(e){return new nm(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),K.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,i=>{const o=we.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return K.or([()=>K.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Uc{constructor(e,t){this.persistence=e,this.oi=new ks(i=>qk(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=iD(this,t)}static ri(e,t){return new Uc(e,t)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return K.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?K.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(d=>{d||(i++,l.removeEntry(u,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),K.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gc(e.data.value)),t}ar(e,t,i){return K.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return K.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=be(),o=be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new rm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return hR()?8:$k(qt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new gD;return this._s(e,t,u).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,u,d.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(So()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(So()<=ke.DEBUG&&le("QueryEngine","Query:",Io(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(So()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(t))):K.resolve())}rs(e,t){if(x0(t))return K.resolve(null);let i=cr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Yf(t,null,"F"),i=cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=be(...l);return this.ns.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const y=this.cs(t,d);return this.ls(t,y,u,f.readTime)?this.rs(e,Yf(t,null,"F")):this.hs(e,y,t,f)}))})))}ss(e,t,i,o){return x0(t)||o.isEqual(Ie.min())?K.resolve(null):this.ns.getDocuments(e,i).next(l=>{const u=this.cs(t,l);return this.ls(t,u,i,o)?K.resolve(null):(So()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(t)),this.hs(e,u,t,Fk(o,wl)).next(d=>d))})}cs(e,t){let i=new wt($T(e));return t.forEach((o,l)=>{ch(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return So()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Io(t)),this.ns.getDocumentsMatchingQuery(e,t,Di.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",vD=3e8;class _D{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ct(Oe),this.Is=new ks(l=>Xp(l),Yp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function wD(n,e,t,i){return new _D(n,e,t,i)}async function lE(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],d=[];let f=be();for(const y of o){u.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next(y=>({Rs:y,removedBatchIds:u,addedBatchIds:d}))})})}function uE(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function TD(n,e){const t=Me(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((_,T)=>{const S=o.get(T);if(!S)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,T)));let R=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(Mt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),o=o.insert(T,R),function(B,F,H){return B.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=vD?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(S,R,_)&&d.push(t.Hr.updateTargetData(l,R))});let f=Mi(),y=be();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(ED(l,u,e.documentUpdates).next(_=>{f=_.Vs,y=_.fs})),!i.isEqual(Ie.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return K.waitFor(d).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,y)).next(()=>f)}).then(l=>(t.Ts=o,l))}function ED(n,e,t){let i=be(),o=be();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=Mi();return t.forEach((d,f)=>{const y=l.get(d);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):le(im,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",f.version)}),{Vs:u,fs:o}})}function SD(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,K.resolve(o)):t.Hr.allocateTargetId(i).next(u=>(o=new Ii(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function np(n,e,t){const i=Me(n),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Zo(u))throw u;le(im,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function $0(n,e,t){const i=Me(n);let o=Ie.min(),l=be();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,y,_){const T=Me(f),S=T.Is.get(_);return S!==void 0?K.resolve(T.Ts.get(S)):T.Hr.getTargetData(y,_)}(i,u,cr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{l=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?o:Ie.min(),t?l:be())).next(d=>(ID(i,fx(e),d),{documents:d,gs:l})))}function ID(n,e,t){let i=n.Es.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class H0{constructor(){this.activeTargetIds=_x()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AD{constructor(){this.ho=new H0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new H0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="ConnectivityMonitor";class K0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(q0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function rp(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="RestConnection",CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Oc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,l){const u=rp(),d=this.bo(e,t.toUriEncodedString());le(gf,`Sending RPC '${e}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,l),this.vo(e,d,f,i).then(y=>(le(gf,`Received RPC '${e}' ${u}: `,y),y),y=>{throw zo(gf,`RPC '${e}' ${u} failed with error: `,y,"url: ",d,"request:",i),y})}Co(e,t,i,o,l,u){return this.So(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const i=CD[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class xD extends RD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=rp();return new Promise((u,d)=>{const f=new ET;f.setWithCredentials(!0),f.listenOnce(ST.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case mc.NO_ERROR:const _=f.getResponseJson();le(jt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case mc.TIMEOUT:le(jt,`RPC '${e}' ${l} timed out`),d(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const T=f.getStatus();if(le(jt,`RPC '${e}' ${l} failed with status:`,T,"response text:",f.getResponseText()),T>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const U=function(F){const H=F.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(H)>=0?H:re.UNKNOWN}(R.status);d(new _e(U,R.message))}else d(new _e(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new _e(re.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{le(jt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);le(jt,`RPC '${e}' ${l} sending request:`,o),f.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=rp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=PT(),d=AT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=l.join("");le(jt,`Creating RPC '${e}' stream ${o}: ${_}`,f);const T=u.createWebChannel(_,f);let S=!1,R=!1;const U=new kD({Fo:F=>{R?le(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(le(jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),le(jt,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Mo:()=>T.close()}),B=(F,H,Y)=>{F.listen(H,Q=>{try{Y(Q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return B(T,nl.EventType.OPEN,()=>{R||(le(jt,`RPC '${e}' stream ${o} transport opened.`),U.Qo())}),B(T,nl.EventType.CLOSE,()=>{R||(R=!0,le(jt,`RPC '${e}' stream ${o} transport closed`),U.Ko())}),B(T,nl.EventType.ERROR,F=>{R||(R=!0,zo(jt,`RPC '${e}' stream ${o} transport errored:`,F),U.Ko(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),B(T,nl.EventType.MESSAGE,F=>{var H;if(!R){const Y=F.data[0];nt(!!Y);const Q=Y,ne=(Q==null?void 0:Q.error)||((H=Q[0])===null||H===void 0?void 0:H.error);if(ne){le(jt,`RPC '${e}' stream ${o} received error:`,ne);const ie=ne.status;let ae=function(P){const D=ft[P];if(D!==void 0)return YT(D)}(ie),x=ne.message;ae===void 0&&(ae=re.INTERNAL,x="Unknown error status: "+ie+" with message "+ne.message),R=!0,U.Ko(new _e(ae,x)),T.close()}else le(jt,`RPC '${e}' stream ${o} received:`,Y),U.Uo(Y)}}),B(d,IT.STAT_EVENT,F=>{F.stat===Hf.PROXY?le(jt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Hf.NOPROXY&&le(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(n){return new bx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="PersistentStream";class DD{constructor(e,t,i,o,l,u,d,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?($r(t.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new _e(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(W0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(le(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VD extends DD{constructor(e,t,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=zx(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?No(u.readTime):Ie.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=U0(this.serializer),t.addTarget=function(l,u){let d;const f=u.target;if(d=Xf(f)?{documents:$x(l,f)}:{query:Hx(l,f).ht},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=Ux(l,u.resumeToken);const y=ep(l,u.expectedCount);y!==null&&(d.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Fx(l,u.snapshotVersion.toTimestamp());const y=ep(l,u.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=Kx(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=U0(this.serializer),t.removeTarget=e,this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{}class OD extends ND{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.So(e,tp(t,i),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(re.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Co(e,tp(t,i),o,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(re.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class MD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($r(t),this.N_=!1):le("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="RemoteStore";class LD{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{i.enqueueAndForget(async()=>{Ol(this)&&(le(Wo,"Restarting streams for network reachability change."),await async function(f){const y=Me(f);y.W_.add(4),await Nl(y),y.j_.set("Unknown"),y.W_.delete(4),await ph(y)}(this))})}),this.j_=new MD(i,o)}}async function ph(n){if(Ol(n))for(const e of n.G_)await e(!0)}async function Nl(n){for(const e of n.G_)await e(!1)}function dE(n,e){const t=Me(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),lm(t)?am(t):ea(t).c_()&&om(t,e))}function sm(n,e){const t=Me(n),i=ea(t);t.U_.delete(e),i.c_()&&fE(t,e),t.U_.size===0&&(i.c_()?i.P_():Ol(t)&&t.j_.set("Unknown"))}function om(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ea(n).y_(e)}function fE(n,e){n.H_.Ne(e),ea(n).w_(e)}function am(n){n.H_=new Nx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ea(n).start(),n.j_.B_()}function lm(n){return Ol(n)&&!ea(n).u_()&&n.U_.size>0}function Ol(n){return Me(n).W_.size===0}function pE(n){n.H_=void 0}async function bD(n){n.j_.set("Online")}async function FD(n){n.U_.forEach((e,t)=>{om(n,e)})}async function UD(n,e){pE(n),lm(n)?(n.j_.q_(e),am(n)):n.j_.set("Unknown")}async function jD(n,e,t){if(n.j_.set("Online"),e instanceof ZT&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const d of l.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.U_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(i){le(Wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await G0(n,i)}else if(e instanceof vc?n.H_.We(e):e instanceof JT?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ie.min()))try{const i=await uE(n.localStore);t.compareTo(i)>=0&&await function(l,u){const d=l.H_.ot(u);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const _=l.U_.get(y);_&&l.U_.set(y,_.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,y)=>{const _=l.U_.get(f);if(!_)return;l.U_.set(f,_.withResumeToken(Mt.EMPTY_BYTE_STRING,_.snapshotVersion)),fE(l,f);const T=new Ii(_.target,f,y,_.sequenceNumber);om(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){le(Wo,"Failed to raise snapshot:",i),await G0(n,i)}}async function G0(n,e,t){if(!Zo(e))throw e;n.W_.add(1),await Nl(n),n.j_.set("Offline"),t||(t=()=>uE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Wo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ph(n)})}async function Q0(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),le(Wo,"RemoteStore received new credentials");const i=Ol(t);t.W_.add(3),await Nl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ph(t)}async function BD(n,e){const t=Me(n);e?(t.W_.delete(2),await ph(t)):e||(t.W_.add(2),await Nl(t),t.j_.set("Unknown"))}function ea(n){return n.J_||(n.J_=function(t,i,o){const l=Me(t);return l.M_(),new VD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:bD.bind(null,n),No:FD.bind(null,n),Lo:UD.bind(null,n),p_:jD.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),lm(n)?am(n):n.j_.set("Unknown")):(await n.J_.stop(),pE(n))})),n.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const u=Date.now()+i,d=new um(e,t,u,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mE(n,e){if($r("AsyncQueue",`${e}: ${n}`),Zo(n))return new _e(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=rl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Z_=new ct(we.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Go{constructor(e,t,i,o,l,u,d,f,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Go(e,t,Oo.emptySet(t),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class $D{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Me(t),l=o.queries;o.queries=Y0(),l.forEach((u,d)=>{for(const f of d.ta)f.onError(i)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function Y0(){return new ks(n=>zT(n),uh)}async function HD(n,e){const t=Me(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new zD,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=mE(u,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&cm(t)}async function qD(n,e){const t=Me(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function KD(n,e){const t=Me(n);let i=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const d of u.ta)d.oa(o)&&(i=!0);u.ea=o}}i&&cm(t)}function WD(n,e,t){const i=Me(n),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function cm(n){n.ia.forEach(e=>{e.next()})}var ip,J0;(J0=ip||(ip={}))._a="default",J0.Cache="cache";class GD{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.key=e}}class yE{constructor(e){this.key=e}}class QD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=be(),this.mutatedKeys=be(),this.ya=$T(e),this.wa=new Oo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new X0,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const S=o.get(_),R=ch(this.query,T)?T:null,U=!!S&&this.mutatedKeys.has(S.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let F=!1;S&&R?S.data.isEqual(R.data)?U!==B&&(i.track({type:3,doc:R}),F=!0):this.va(S,R)||(i.track({type:2,doc:R}),F=!0,(f&&this.ya(R,f)>0||y&&this.ya(R,y)<0)&&(d=!0)):!S&&R?(i.track({type:0,doc:R}),F=!0):S&&!R&&(i.track({type:1,doc:S}),F=!0,(f||y)&&(d=!0)),F&&(R?(u=u.add(R),l=B?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:u,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,T)=>function(R,U){const B=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return B(R)-B(U)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(i),o=o!=null&&o;const d=t&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,y=f!==this.ga;return this.ga=f,u.length!==0||y?{snapshot:new Go(this.query,e.wa,l,u,e.mutatedKeys,f===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new X0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=be(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new yE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new gE(i))}),t}Oa(e){this.fa=e.gs,this.pa=be();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Go.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hm="SyncEngine";class XD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class YD{constructor(e){this.key=e,this.Ba=!1}}class JD{constructor(e,t,i,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ks(d=>zT(d),uh),this.qa=new Map,this.Qa=new Set,this.$a=new ct(we.comparator),this.Ka=new Map,this.Ua=new tm,this.Wa={},this.Ga=new Map,this.za=Ko.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ZD(n,e,t=!0){const i=EE(n);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await vE(i,e,t,!0),o}async function eV(n,e){const t=EE(n);await vE(t,e,!0,!1)}async function vE(n,e,t,i){const o=await SD(n.localStore,cr(e)),l=o.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await tV(n,e,l,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&dE(n.remoteStore,o),d}async function tV(n,e,t,i,o){n.Ha=(T,S,R)=>async function(B,F,H,Y){let Q=F.view.ba(H);Q.ls&&(Q=await $0(B.localStore,F.query,!1).then(({documents:x})=>F.view.ba(x,Q)));const ne=Y&&Y.targetChanges.get(F.targetId),ie=Y&&Y.targetMismatches.get(F.targetId)!=null,ae=F.view.applyChanges(Q,B.isPrimaryClient,ne,ie);return e_(B,F.targetId,ae.Ma),ae.snapshot}(n,T,S,R);const l=await $0(n.localStore,e,!0),u=new QD(e,l.gs),d=u.ba(l.documents),f=Vl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=u.applyChanges(d,n.isPrimaryClient,f);e_(n,t,y.Ma);const _=new XD(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function nV(n,e,t){const i=Me(n),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(u=>!uh(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await np(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&sm(i.remoteStore,o.targetId),sp(i,o.targetId)}).catch(ih)):(sp(i,o.targetId),await np(i.localStore,o.targetId,!0))}async function rV(n,e){const t=Me(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),sm(t.remoteStore,i.targetId))}async function _E(n,e){const t=Me(n);try{const i=await TD(t.localStore,e);e.targetChanges.forEach((o,l)=>{const u=t.Ka.get(l);u&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?nt(u.Ba):o.removedDocuments.size>0&&(nt(u.Ba),u.Ba=!1))}),await TE(t,i,e)}catch(i){await ih(i)}}function Z0(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,u)=>{const d=u.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Me(u);f.onlineState=d;let y=!1;f.queries.forEach((_,T)=>{for(const S of T.ta)S.sa(d)&&(y=!0)}),y&&cm(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function iV(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),l=o&&o.key;if(l){let u=new ct(we.comparator);u=u.insert(l,$t.newNoDocument(l,Ie.min()));const d=be().add(l),f=new fh(Ie.min(),new Map,new ct(Oe),u,d);await _E(i,f),i.$a=i.$a.remove(l),i.Ka.delete(e),dm(i)}else await np(i.localStore,e,!1).then(()=>sp(i,e,t)).catch(ih)}function sp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||wE(n,i)})}function wE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(sm(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),dm(n))}function e_(n,e,t){for(const i of t)i instanceof gE?(n.Ua.addReference(i.key,e),sV(n,i)):i instanceof yE?(le(hm,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||wE(n,i.key)):Ae()}function sV(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(le(hm,"New document in limbo: "+t),n.Qa.add(i),dm(n))}function dm(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new we(st.fromString(e)),i=n.za.next();n.Ka.set(i,new YD(t)),n.$a=n.$a.insert(t,i),dE(n.remoteStore,new Ii(cr(BT(t.path)),i,"TargetPurposeLimboResolution",sh.ae))}}async function TE(n,e,t){const i=Me(n),o=[],l=[],u=[];i.ka.isEmpty()||(i.ka.forEach((d,f)=>{u.push(i.Ha(f,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(y){o.push(y);const T=rm.Yi(f.targetId,y);l.push(T)}}))}),await Promise.all(u),i.La.p_(o),await async function(f,y){const _=Me(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>K.forEach(y,S=>K.forEach(S.Hi,R=>_.persistence.referenceDelegate.addReference(T,S.targetId,R)).next(()=>K.forEach(S.Ji,R=>_.persistence.referenceDelegate.removeReference(T,S.targetId,R)))))}catch(T){if(!Zo(T))throw T;le(im,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const R=_.Ts.get(S),U=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(U);_.Ts=_.Ts.insert(S,B)}}}(i.localStore,l))}async function oV(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){le(hm,"User change. New user:",e.toKey());const i=await lE(t.localStore,e);t.currentUser=e,function(l,u){l.Ga.forEach(d=>{d.forEach(f=>{f.reject(new _e(re.CANCELLED,u))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await TE(t,i.Rs)}}function aV(n,e){const t=Me(n),i=t.Ka.get(e);if(i&&i.Ba)return be().add(i.key);{let o=be();const l=t.qa.get(e);if(!l)return o;for(const u of l){const d=t.ka.get(u);o=o.unionWith(d.view.Sa)}return o}}function EE(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iV.bind(null,e),e.La.p_=KD.bind(null,e.eventManager),e.La.Ja=WD.bind(null,e.eventManager),e}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cE(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return wD(this.persistence,new yD,e.initialUser,this.serializer)}Xa(e){return new aE(nm.ri,this.serializer)}Za(e){return new AD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class lV extends jc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){nt(this.persistence.referenceDelegate instanceof Uc);const i=this.persistence.referenceDelegate.garbageCollector;return new nD(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new aE(i=>Uc.ri(i,t),this.serializer)}}class op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Z0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oV.bind(null,this.syncEngine),await BD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $D}()}createDatastore(e){const t=cE(e.databaseInfo.databaseId),i=function(l){return new xD(l)}(e.databaseInfo);return function(l,u,d,f){return new OD(l,u,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,u,d){return new LD(i,o,l,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Z0(this.syncEngine,t,0),function(){return K0.D()?new K0:new PD}())}createSyncEngine(e,t){return function(o,l,u,d,f,y,_){const T=new JD(o,l,u,d,f,y);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Me(o);le(Wo,"RemoteStore shutting down."),l.W_.add(5),await Nl(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="FirestoreClient";class cV{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=Lk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{le(Li,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(le(Li,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=mE(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vf(n,e){n.asyncQueue.verifyOperationInProgress(),le(Li,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await lE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function t_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await hV(n);le(Li,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Q0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Q0(e.remoteStore,o)),n._onlineComponents=e}async function hV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Li,"Using user provided OfflineComponentProvider");try{await vf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),await vf(n,new jc)}}else le(Li,"Using default OfflineComponentProvider"),await vf(n,new lV(void 0));return n._offlineComponents}async function dV(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Li,"Using user provided OnlineComponentProvider"),await t_(n,n._uninitializedComponentsProvider._online)):(le(Li,"Using default OnlineComponentProvider"),await t_(n,new op))),n._onlineComponents}async function fV(n){const e=await dV(n),t=e.eventManager;return t.onListen=ZD.bind(null,e.syncEngine),t.onUnlisten=nV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rV.bind(null,e.syncEngine),t}function pV(n,e,t={}){const i=new Ts;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,f,y){const _=new uV({next:S=>{_.su(),u.enqueueAndForget(()=>qD(l,T)),S.fromCache&&f.source==="server"?y.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new GD(d,_,{includeMetadataChanges:!0,Ta:!0});return HD(l,T)}(await fV(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;function mV(n,e,t,i){if(e===!0&&i===!0)throw new _e(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function r_(n){if(we.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gV(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function ap(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gV(n);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firestore.googleapis.com",i_=!0;class s_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IE,this.ssl=i_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:i_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eD)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new kk;switch(i.type){case"firstParty":return new Nk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=n_.get(t);i&&(le("ComponentProvider","Removing Datastore"),n_.delete(t),i.terminate())}(this),Promise.resolve()}}function yV(n,e,t,i={}){var o;const l=(n=ap(n,fm))._getSettings(),u=`${e}:${t}`;if(l.host!==IE&&l.host!==u&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),i.mockUserToken){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=zt.MOCK_USER;else{d=mT(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(y)}n._authCredentials=new xk(new CT(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new mh(this.firestore,e,this._query)}}class ta{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ta(this.firestore,e,this._key)}}class Mo extends mh{constructor(e,t,i){super(e,t,BT(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ta(this.firestore,null,new we(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function vV(n,e,...t){if(n=Fi(n),n instanceof fm){const i=st.fromString(e,...t);return r_(i),new Mo(n,null,i)}{if(!(n instanceof ta||n instanceof Mo))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(st.fromString(e,...t));return r_(i),new Mo(n.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="AsyncQueue";class a_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hE(this,"async_queue_retry"),this.Su=()=>{const i=yf();i&&le(o_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=yf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=yf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ts;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Zo(e))throw e;le(o_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(i);throw $r("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=um.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class AE extends fm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new a_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a_(e),this._firestoreClient=void 0,await e}}}function _V(n,e){const t=typeof n=="object"?n:Kp(),i=typeof n=="string"?n:Oc,o=rh(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=dT("firestore");l&&yV(o,...l)}return o}function wV(n){if(n._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TV(n),n._firestoreClient}function TV(n){var e,t,i;const o=n._freezeSettings(),l=function(d,f,y,_){return new Qk(d,f,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,SE(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new cV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bc(Mt.fromBase64String(e))}catch(t){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bc(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}const IV=new RegExp("[~\\*/\\[\\]]");function AV(n,e,t){if(e.search(IV)>=0)throw l_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new PE(...e.split("."))._internalPath}catch{throw l_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function l_(n,e,t,i,o){let l=`Function ${e}() called with invalid data`;l+=". ";let u="";return new _e(re.INVALID_ARGUMENT,l+n+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ta(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PV extends CE{data(){return super.data()}}function RE(n,e){return typeof e=="string"?AV(n,e):e instanceof PE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RV{convertValue(e,t="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Dl(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Kf].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>ut(u.doubleValue));return new SV(l)}convertGeoPoint(e){return new EV(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ah(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const t=Vi(e);return new an(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=st.fromString(e);nt(sE(i));const o=new El(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(t)||$r(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kV extends CE{constructor(e,t,i,o,l,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(RE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class _c extends kV{data(e={}){return super.data(e)}}class xV{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new lc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _c(this._firestore,this._userDataWriter,i.key,i,new lc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new _c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const f=new _c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:DV(d.type),doc:f,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class VV extends RV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ta(this.firestore,null,t)}}function NV(n){n=ap(n,mh);const e=ap(n.firestore,AE),t=wV(e),i=new VV(e);return CV(n._query),pV(t,n._query).then(o=>new xV(e,i,n,o))}(function(e,t=!0){(function(o){Jo=o})(Rs),Is(new xi("firestore",(i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new AE(new Dk(i.getProvider("auth-internal")),new Ok(u,i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(y.options.projectId,_)}(u,o),u);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ur(p0,m0,e),ur(p0,m0,"esm2017")})();var OV="firebase",MV="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(OV,MV,"app");function pm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LV=kE,xE=new kl("auth","Firebase",kE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Hp("@firebase/auth");function bV(n,...e){zc.logLevel<=ke.WARN&&zc.warn(`Auth (${Rs}): ${n}`,...e)}function wc(n,...e){zc.logLevel<=ke.ERROR&&zc.error(`Auth (${Rs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n,...e){throw mm(n,...e)}function hr(n,...e){return mm(n,...e)}function DE(n,e,t){const i=Object.assign(Object.assign({},LV()),{[e]:t});return new kl("auth","Firebase",i).create(e,{appName:n.name})}function Ss(n){return DE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return xE.create(n,...e)}function Ee(n,e,...t){if(!n)throw mm(e,...t)}function Lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wc(e),new Error(e)}function qr(n,e){n||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FV(){return u_()==="http:"||u_()==="https:"}function u_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FV()||lR()||"connection"in navigator)?navigator.onLine:!0}function jV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,qr(t>e,"Short delay should be less than long delay!"),this.isMobile=sR()||uR()}get(){return UV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(n,e){qr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new Ml(3e4,6e4);function ym(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function na(n,e,t,i,o={}){return NE(n,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=xl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:f},l);return aR()||(y.referrerPolicy="no-referrer"),VE.fetch()(OE(n,n.config.apiHost,t,d),y)})}async function NE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},BV),e);try{const o=new HV(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw uc(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,y]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw uc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw uc(n,"user-disabled",u);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw DE(n,_,y);Hr(n,_)}}catch(o){if(o instanceof gr)throw o;Hr(n,"network-request-failed",{message:String(o)})}}async function $V(n,e,t,i,o={}){const l=await na(n,e,t,i,o);return"mfaPendingCredential"in l&&Hr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function OE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?gm(n.config,o):`${n.config.apiScheme}://${o}`}class HV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(hr(this.auth,"network-request-failed")),zV.get())})}}function uc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=hr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n,e){return na(n,"POST","/v1/accounts:delete",e)}async function ME(n,e){return na(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KV(n,e=!1){const t=Fi(n),i=await t.getIdToken(e),o=vm(i);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:fl(_f(o.auth_time)),issuedAtTime:fl(_f(o.iat)),expirationTime:fl(_f(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function _f(n){return Number(n)*1e3}function vm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=cT(t);return o?JSON.parse(o):(wc("Failed to decode base64 JWT payload"),null)}catch(o){return wc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function c_(n){const e=vm(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof gr&&WV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function WV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Il(n,ME(t,{idToken:i}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?LE(l.providerUserInfo):[],d=XV(n.providerData,u),f=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=f?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new up(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function QV(n){const e=Fi(n);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XV(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function LE(n){return n.map(e=>{var{providerId:t}=e,i=pm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(n,e){const t=await NE(n,{},async()=>{const i=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,u=OE(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",VE.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function JV(n,e){return na(n,"POST","/v2/accounts:revokeToken",ym(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=c_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await YV(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,u=new Lo;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new up(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KV(this,e)}reload(){return QV(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await $c(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Il(this,qV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,u,d,f,y,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,U=(u=t.photoURL)!==null&&u!==void 0?u:void 0,B=(d=t.tenantId)!==null&&d!==void 0?d:void 0,F=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,H=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:ne,isAnonymous:ie,providerData:ae,stsTokenManager:x}=t;Ee(Q&&x,e,"internal-error");const I=Lo.fromJSON(this.name,x);Ee(typeof Q=="string",e,"internal-error"),yi(T,e.name),yi(S,e.name),Ee(typeof ne=="boolean",e,"internal-error"),Ee(typeof ie=="boolean",e,"internal-error"),yi(R,e.name),yi(U,e.name),yi(B,e.name),yi(F,e.name),yi(H,e.name),yi(Y,e.name);const P=new br({uid:Q,auth:e,email:S,emailVerified:ne,displayName:T,isAnonymous:ie,photoURL:U,phoneNumber:R,tenantId:B,stsTokenManager:I,createdAt:H,lastLoginAt:Y});return ae&&Array.isArray(ae)&&(P.providerData=ae.map(D=>Object.assign({},D))),F&&(P._redirectEventId=F),P}static async _fromIdTokenResponse(e,t,i=!1){const o=new Lo;o.updateFromServerResponse(t);const l=new br({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await $c(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?LE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Lo;d.updateFromIdToken(i);const f=new br({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;function Fr(n){qr(n instanceof Function,"Expected a class definition");let e=h_.get(n);return e?(qr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,h_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bE.type="NONE";const d_=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n,e,t){return`firebase:${n}:${e}:${t}`}class bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Tc(this.userKey,o.apiKey,l),this.fullPersistenceKey=Tc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new bo(Fr(d_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Fr(d_);const u=Tc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(u);if(_){const T=br._fromJSON(e,_);y!==l&&(d=T),l=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new bo(l,e,i):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new bo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(HE(e))return"Webos";if(UE(e))return"Safari";if((e.includes("chrome/")||jE(e))&&!e.includes("edge/"))return"Chrome";if(zE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function FE(n=qt()){return/firefox\//i.test(n)}function UE(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jE(n=qt()){return/crios\//i.test(n)}function BE(n=qt()){return/iemobile/i.test(n)}function zE(n=qt()){return/android/i.test(n)}function $E(n=qt()){return/blackberry/i.test(n)}function HE(n=qt()){return/webos/i.test(n)}function _m(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZV(n=qt()){var e;return _m(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eN(){return cR()&&document.documentMode===10}function qE(n=qt()){return _m(n)||zE(n)||HE(n)||$E(n)||/windows phone/i.test(n)||BE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n,e=[]){let t;switch(n){case"Browser":t=f_(qt());break;case"Worker":t=`${f_(qt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(n,e={}){return na(n,"GET","/v2/passwordPolicy",ym(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=6;class iN{constructor(e){var t,i,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:rN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p_(this),this.idTokenSubscription=new p_(this),this.beforeStateQueue=new tN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ME(this,{idToken:e}),i=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(o=f.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Ss(this));const t=e?Fi(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nN(this),t=new iN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await JV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bV(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wm(n){return Fi(n)}class p_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(n){Tm=n}function aN(n){return Tm.loadJS(n)}function lN(){return Tm.gapiScript}function uN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(n,e){const t=rh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Vc(l,e??{}))return o;Hr(o,"already-initialized")}return t.initialize({options:e})}function hN(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Fr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function dN(n,e,t){const i=wm(n);Ee(i._canInitEmulator,i,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=WE(e),{host:u,port:d}=fN(e),f=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${u}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),pN()}function WE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fN(n){const e=WE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:m_(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:m_(u)}}}function m_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(n,e){return $V(n,"POST","/v1/accounts:signInWithIdp",ym(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="http://localhost";class Ps extends GE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=pm(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Ps(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Fo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:mN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ll{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ps._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return wi.credential(t,i)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ll{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Ll{constructor(){super("twitter.com")}static credential(e,t){return Ps._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ei.credential(t,i)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await br._fromIdTokenResponse(e,i,o),u=g_(i);return new Qo({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=g_(i);return new Qo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function g_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends gr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Hc(e,t,i,o)}}function XE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(n,l,e,i):l})}async function gN(n,e,t=!1){const i=await Il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(n,e,t=!1){const{auth:i}=n;if(qn(i.app))return Promise.reject(Ss(i));const o="reauthenticate";try{const l=await Il(n,XE(i,o,e,n),t);Ee(l.idToken,i,"internal-error");const u=vm(l.idToken);Ee(u,i,"internal-error");const{sub:d}=u;return Ee(n.uid===d,i,"user-mismatch"),Qo._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Hr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(n,e,t=!1){if(qn(n.app))return Promise.reject(Ss(n));const i="signIn",o=await XE(n,i,e),l=await Qo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function _N(n,e,t,i){return Fi(n).onIdTokenChanged(e,t,i)}function wN(n,e,t){return Fi(n).beforeAuthStateChanged(e,t)}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1e3,EN=10;class JE extends YE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);eN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,EN):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},TN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JE.type="LOCAL";const SN=JE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends YE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZE.type="SESSION";const e1=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new gh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async y=>y(t.origin,l)),f=await IN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const y=Em("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(_),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function PN(n){dr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function CN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kN(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",xN=1,Kc="firebaseLocalStorage",r1="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yh(n,e){return n.transaction([Kc],e?"readwrite":"readonly").objectStore(Kc)}function DN(){const n=indexedDB.deleteDatabase(n1);return new bl(n).toPromise()}function cp(){const n=indexedDB.open(n1,xN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Kc,{keyPath:r1})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Kc)?e(i):(i.close(),await DN(),e(await cp()))})})}async function y_(n,e,t){const i=yh(n,!0).put({[r1]:e,value:t});return new bl(i).toPromise()}async function VN(n,e){const t=yh(n,!1).get(e),i=await new bl(t).toPromise();return i===void 0?null:i.value}function v_(n,e){const t=yh(n,!0).delete(e);return new bl(t).toPromise()}const NN=800,ON=3;class i1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ON)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(kN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await CN(),!this.activeServiceWorker)return;this.sender=new AN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await y_(e,qc,"1"),await v_(e,qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>y_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>VN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=yh(o,!1).getAll();return new bl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i1.type="LOCAL";const MN=i1;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n,e){return e?Fr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends GE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bN(n){return vN(n.auth,new Sm(n),n.bypassAuthState)}function FN(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),yN(t,new Sm(n),n.bypassAuthState)}async function UN(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),gN(t,new Sm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bN;case"linkViaPopup":case"linkViaRedirect":return UN;case"reauthViaPopup":case"reauthViaRedirect":return FN;default:Hr(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Ml(2e3,1e4);class Vo extends s1{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jN.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="pendingRedirect",Ec=new Map;class zN extends s1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ec.get(this.auth._key());if(!e){try{const i=await $N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ec.set(this.auth._key(),e)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $N(n,e){const t=KN(e),i=qN(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function HN(n,e){Ec.set(n._key(),e)}function qN(n){return Fr(n._redirectPersistence)}function KN(n){return Tc(BN,n.config.apiKey,n.name)}async function WN(n,e,t=!1){if(qn(n.app))return Promise.reject(Ss(n));const i=wm(n),o=LN(i,e),u=await new zN(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=10*60*1e3;class QN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!o1(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GN&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}}function __(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function o1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e={}){return na(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZN=/^https?/;async function e2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await YN(n);for(const t of e)try{if(t2(t))return}catch{}Hr(n,"unauthorized-domain")}function t2(n){const e=lp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!ZN.test(t))return!1;if(JN.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Ml(3e4,6e4);function w_(){const n=dr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function r2(n){return new Promise((e,t)=>{var i,o,l;function u(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),t(hr(n,"network-request-failed"))},timeout:n2.get()})}if(!((o=(i=dr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=dr().gapi)===null||l===void 0)&&l.load)u();else{const d=uN("iframefcb");return dr()[d]=()=>{gapi.load?u():t(hr(n,"network-request-failed"))},aN(`${lN()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Sc=null,e})}let Sc=null;function i2(n){return Sc=Sc||r2(n),Sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Ml(5e3,15e3),o2="__/auth/iframe",a2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c2(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gm(e,a2):`https://${n.config.authDomain}/${o2}`,i={apiKey:e.apiKey,appName:n.name,v:Rs},o=u2.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${xl(i).slice(1)}`}async function h2(n){const e=await i2(n),t=dr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:c2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=hr(n,"network-request-failed"),d=dr().setTimeout(()=>{l(u)},s2.get());function f(){dr().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,p2=600,m2="_blank",g2="http://localhost";class T_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2(n,e,t,i=f2,o=p2){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},d2),{width:i.toString(),height:o.toString(),top:l,left:u}),y=qt().toLowerCase();t&&(d=jE(y)?m2:t),FE(y)&&(e=e||g2,f.scrollbars="yes");const _=Object.entries(f).reduce((S,[R,U])=>`${S}${R}=${U},`,"");if(ZV(y)&&d!=="_self")return v2(e||"",d),new T_(null);const T=window.open(e||"",d,_);Ee(T,n,"popup-blocked");try{T.focus()}catch{}return new T_(T)}function v2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="__/auth/handler",w2="emulator/auth/handler",T2=encodeURIComponent("fac");async function E_(n,e,t,i,o,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Rs,eventId:o};if(e instanceof QE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",yR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))u[_]=T}if(e instanceof Ll){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await n._getAppCheckToken(),y=f?`#${T2}=${encodeURIComponent(f)}`:"";return`${E2(n)}?${xl(d).slice(1)}${y}`}function E2({config:n}){return n.emulator?gm(n,w2):`https://${n.authDomain}/${_2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=WN,this._overrideRedirectResult=HN}async _openPopup(e,t,i,o){var l;qr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await E_(e,t,i,lp(),o);return y2(e,u,Em())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await E_(e,t,i,lp(),o);return PN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(qr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await h2(e),i=new QN(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wf,{type:wf},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[wf];u!==void 0&&t(!!u),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=e2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qE()||UE()||_m()}}const I2=S2;var S_="@firebase/auth",I_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C2(n){Is(new xi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(n)},y=new sN(i,o,l,f);return hN(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Is(new xi("auth-internal",e=>{const t=wm(e.getProvider("auth").getImmediate());return(i=>new A2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(S_,I_,P2(n)),ur(S_,I_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=5*60,k2=pT("authIdTokenMaxAge")||R2;let A_=null;const x2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>k2)return;const o=t==null?void 0:t.token;A_!==o&&(A_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function D2(n=Kp()){const e=rh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cN(n,{popupRedirectResolver:I2,persistence:[MN,SN,e1]}),i=pT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=x2(l.toString());wN(t,u,()=>u(t.currentUser)),_N(t,d=>u(d))}}const o=hT("auth");return o&&dN(t,`http://${o}`),t}function V2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}oN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=hr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",V2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C2("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firebasestorage.googleapis.com",N2="storageBucket",O2=2*60*1e3,M2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends gr{constructor(e,t,i=0){super(Tf(e),`Firebase Storage: ${t} (${Tf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mr||(mr={}));function Tf(n){return"storage/"+n}function L2(){const n="An unknown error occurred, please check the error payload for server response.";return new yr(mr.UNKNOWN,n)}function b2(){return new yr(mr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F2(){return new yr(mr.CANCELED,"User canceled the upload/download.")}function U2(n){return new yr(mr.INVALID_URL,"Invalid URL '"+n+"'.")}function j2(n){return new yr(mr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function P_(n){return new yr(mr.INVALID_ARGUMENT,n)}function l1(){return new yr(mr.APP_DELETED,"The Firebase app was deleted.")}function B2(n){return new yr(mr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Kn.makeFromUrl(e,t)}catch{return new Kn(e,"")}if(i.path==="")return i;throw j2(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function y(ne){ne.path_=decodeURIComponent(ne.path)}const _="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",R=new RegExp(`^https?://${T}/${_}/b/${o}/o${S}`,"i"),U={bucket:1,path:3},B=t===a1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,F="([^?#]*)",H=new RegExp(`^https?://${B}/${o}/${F}`,"i"),Q=[{regex:d,indices:f,postModify:l},{regex:R,indices:U,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let ne=0;ne<Q.length;ne++){const ie=Q[ne],ae=ie.regex.exec(e);if(ae){const x=ae[ie.indices.bucket];let I=ae[ie.indices.path];I||(I=""),i=new Kn(x,I),ie.postModify(i);break}}if(i==null)throw U2(e);return i}}class z2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n,e,t){let i=1,o=null,l=null,u=!1,d=0;function f(){return d===2}let y=!1;function _(...F){y||(y=!0,e.apply(null,F))}function T(F){o=setTimeout(()=>{o=null,n(R,f())},F)}function S(){l&&clearTimeout(l)}function R(F,...H){if(y){S();return}if(F){S(),_.call(null,F,...H);return}if(f()||u){S(),_.call(null,F,...H);return}i<64&&(i*=2);let Q;d===1?(d=2,Q=0):Q=(i+Math.random())*1e3,T(Q)}let U=!1;function B(F){U||(U=!0,S(),!y&&(o!==null?(F||(d=2),clearTimeout(o),T(0)):F||(d=1)))}return T(0),l=setTimeout(()=>{u=!0,B(!0)},t),B}function H2(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n){return n!==void 0}function C_(n,e,t,i){if(i<e)throw P_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw P_(`Invalid value for '${n}'. Expected ${t} or less.`)}function K2(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Wc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Wc||(Wc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t,i,o,l,u,d,f,y,_,T,S=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=T,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,U)=>{this.resolve_=R,this.reject_=U,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new cc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const f=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,y)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===Wc.NO_ERROR,f=l.getStatus();if(!d||W2(f,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===Wc.ABORT;i(!1,new cc(!1,null,_));return}const y=this.successCodes_.indexOf(f)!==-1;i(!0,new cc(y,l))})},t=(i,o)=>{const l=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());q2(f)?l(f):l()}catch(f){u(f)}else if(d!==null){const f=L2();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(o.canceled){const f=this.appDelete_?l1():F2();u(f)}else{const f=b2();u(f)}};this.canceled_?t(!1,new cc(!1,null,!0)):this.backoffId_=$2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Q2(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function X2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Y2(n,e){e&&(n["X-Firebase-GMPID"]=e)}function J2(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Z2(n,e,t,i,o,l,u=!0){const d=K2(n.urlParams),f=n.url+d,y=Object.assign({},n.headers);return Y2(y,e),Q2(y,t),X2(y,l),J2(y,i),new G2(f,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function tO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t){this._service=e,t instanceof Kn?this._location=t:this._location=Kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gc(e,t)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tO(this._location.path)}get storage(){return this._service}get parent(){const e=eO(this._location.path);if(e===null)return null;const t=new Kn(this._location.bucket,e);return new Gc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw B2(e)}}function R_(n,e){const t=e==null?void 0:e[N2];return t==null?null:Kn.makeFromBucketSpec(t,n)}function nO(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:mT(o,n.app.options.projectId))}class rO{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=a1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O2,this._maxUploadRetryTime=M2,this._requests=new Set,o!=null?this._bucket=Kn.makeFromBucketSpec(o,this._host):this._bucket=R_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=R_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gc(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new z2(l1());{const u=Z2(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const k_="@firebase/storage",x_="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="storage";function iO(n=Kp(),e){n=Fi(n);const i=rh(n,u1).getImmediate({identifier:e}),o=dT("storage");return o&&sO(i,...o),i}function sO(n,e,t,i={}){nO(n,e,t,i)}function oO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new rO(t,i,o,e,Rs)}function aO(){Is(new xi(u1,oO,"PUBLIC").setMultipleInstances(!0)),ur(k_,x_,""),ur(k_,x_,"esm2017")}aO();const lO={apiKey:"AIzaSyCJq4Z7ED4S2xbaziCciJSOg3-YKjlDtoA",authDomain:"idalo-9a3e9.firebaseapp.com",projectId:"idalo-9a3e9",storageBucket:"idalo-9a3e9.firebasestorage.app",messagingSenderId:"113688221434",appId:"1:113688221434:web:04586ae8294caa21505b43"},Im=vT(lO);D2(Im);const uO=_V(Im);iO(Im);const cO=()=>{const[n,e]=me.useState([]),[t,i]=me.useState(!0),[o,l]=me.useState(null),u=async()=>{try{const f=(await NV(vV(uO,"menu"))).docs.map(y=>({id:y.id,...y.data()}));e(f)}catch(d){l(d.message)}finally{i(!1)}};return me.useEffect(()=>{console.log(t),console.log(o),console.log(n)},[t]),me.useEffect(()=>{u()},[]),{menuItems:n,loading:t,error:o}},hO=({carta:n,setCarta:e})=>{const[t,i]=me.useState(null),{menuItems:o,loading:l,error:u}=cO();me.useEffect(()=>{o&&o.length>0&&i(o[0])},[o,n]);const d=f=>{switch(f){case 0:return ee.jsx(n0,{carta:f,category:t,loading:l,error:u,setCarta:e});case 1:return ee.jsx(XC,{carta:f,category:t,loading:l,error:u});default:return ee.jsx(n0,{carta:f,category:t,loading:l,error:u,setCarta:e})}};return ee.jsx("section",{id:"Carta",className:"container_Carta",children:d(n)})},hc={categoria:"Catering",descripcion:"Bienvenido a nuestra exclusiva sección de Catering, donde cada detalle está diseñado para hacer de tu celebración algo inolvidable. Ofrecemos soluciones completas tanto para reuniones íntimas como para grandes celebraciones, asegurando un servicio impecable y experiencias únicas adaptadas a tus necesidades.",servicios:[{nombre:"Catering de Cachimbas",descripcion:"Eleva tu evento con nuestro servicio especializado de catering de cachimbas. Disfruta de una selección premium de sabores y la más alta calidad en shishas, acompañadas de un servicio experto que garantiza una experiencia elegante y sofisticada. Nuestro personal especializado se encargará de todo, desde la preparación hasta el mantenimiento durante el evento, asegurando que tus invitados disfruten de cada momento sin preocupaciones."},{nombre:"Discotecas",descripcion:"Eleva la experiencia de tus clientes con nuestro servicio de cachimbas en tu discoteca. Ofrecemos una amplia gama de sabores exóticos y equipos de alta gama para complementar la atmósfera vibrante de tu establecimiento, asegurando un servicio impecable y una experiencia única para cada visitante."},{nombre:"Eventos",descripcion:"Haz de tu fiesta privada un evento inolvidable con nuestro catering de cachimbas. Ya sea una celebración íntima o una gran fiesta, nos encargamos de todo el montaje y la gestión del servicio de cachimbas, permitiendo que tú y tus invitados disfrutéis de la velada sin preocupaciones."}],contacto:"Contáctanos para explorar cómo nuestro catering de cachimbas puede hacer que tu próximo evento sea una experiencia extraordinaria."},ir={direccion:{calle:"C. De los morales, 10",codigoPostal:"28054",ciudad:"Madrid",pais:"España"},correo:"Idalolounge@gmail.com",telefono:"",horarioCocina:{cafeteria:{dias:"lunes - domingo",horario:"08:00 a 13:00"},lounge:{martesMiércoles:"Martes - Jueves 19:00 a 24:00",juevesDomingo:"Viernes - Domingo 19:00 a 01:00"}},ubicacionMaps:"https://www.google.com/maps/place/C.+De+los+morales,+10,+28054+Madrid",redesSociales:{instagram:"https://www.instagram.com/idalolounge/",tiktok:""}},dO=()=>ee.jsxs("section",{className:"catering-container",children:[ee.jsx(Be.div,{className:"catering-services",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:ee.jsxs(Be.div,{className:"service-item",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[ee.jsx(Be.h3,{className:"service-title",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:hc.categoria}),ee.jsx(Be.p,{className:"service-description",initial:{opacity:0},animate:{opacity:1},transition:{duration:.7},children:hc.descripcion})]})}),ee.jsx(Be.div,{className:"catering-services",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:hc.servicios.map((n,e)=>ee.jsxs(Be.div,{className:"service-item",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:e*.2},children:[ee.jsx("h3",{className:"service-title",children:n.nombre}),ee.jsx("p",{className:"service-description",children:n.descripcion})]},e))}),ee.jsx(Be.p,{className:"catering-contact",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:hc.contacto})]});var c1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},D_=_s.createContext&&_s.createContext(c1),fO=["attr","size","title"];function pO(n,e){if(n==null)return{};var t=mO(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function mO(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Qc(){return Qc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qc.apply(this,arguments)}function V_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Xc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(t),!0).forEach(function(i){gO(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gO(n,e,t){return e=yO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yO(n){var e=vO(n,"string");return typeof e=="symbol"?e:e+""}function vO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function h1(n){return n&&n.map((e,t)=>_s.createElement(e.tag,Xc({key:t},e.attr),h1(e.child)))}function d1(n){return e=>_s.createElement(_O,Qc({attr:Xc({},n.attr)},e),h1(n.child))}function _O(n){var e=t=>{var{attr:i,size:o,title:l}=n,u=pO(n,fO),d=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),_s.createElement("svg",Qc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:f,style:Xc(Xc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&_s.createElement("title",null,l),n.children)};return D_!==void 0?_s.createElement(D_.Consumer,null,t=>e(t)):e(c1)}function wO(n){return d1({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function TO(n){return d1({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}const EO=()=>ee.jsxs("section",{className:"contacto-container",children:[ee.jsx("h2",{className:"contacto-title",children:ee.jsx(Be.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:"Contacto"})}),ee.jsxs(Be.p,{className:"contacto-address",initial:{opacity:0,x:-100},animate:{opacity:1,x:0},transition:{duration:.8},children:[ee.jsx("strong",{style:{color:"#ffcc00"},children:"Dirección:"})," ",ir.direccion.calle,", ",ir.direccion.codigoPostal," ",ir.direccion.ciudad,", ",ir.direccion.pais]}),ee.jsxs(Be.p,{className:"contacto-email",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[ee.jsx("strong",{style:{color:"#ffcc00"},children:"Correo:"})," ",ir.correo,ee.jsx("hr",{style:{color:"#ffcc00"}})]}),ee.jsx(Be.h3,{className:"contacto-horarios-title",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:"Horario de Cocina"}),ee.jsxs(Be.div,{className:"contacto-horarios",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[ee.jsxs("p",{children:[ee.jsx("strong",{style:{color:"#ffcc00"},children:"Cafetería:"})," ",ir.horarioCocina.cafeteria.dias," ",ir.horarioCocina.cafeteria.horario]}),ee.jsxs("p",{children:[ee.jsx("strong",{style:{color:"#ffcc00"},children:"Lounge:"})," ",ir.horarioCocina.lounge.martesMiércoles," "]}),ee.jsx("p",{children:ir.horarioCocina.lounge.juevesDomingo}),ee.jsx("hr",{style:{color:"#ffcc00"}})]}),ee.jsxs(Be.a,{href:ir.ubicacionMaps,target:"_blank",rel:"noopener noreferrer",className:"contacto-maps-link",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.7},children:[ee.jsx(TO,{})," Ver en Google Maps"]}),ee.jsx(Be.h3,{className:"contacto-socials-title",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.9},children:"Síguenos"}),ee.jsx(Be.div,{className:"contacto-socials",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:1},children:ee.jsxs("a",{style:{textDecoration:"none"},href:"https://instagram.com/idalolounge",target:"_blank",rel:"noopener noreferrer",className:"contacto-social-link",children:[ee.jsx(wO,{})," idalolounge"]})})]}),SO="/assets/Faded%20_Alan%20Walker%20(320)-CFRMtaJ2.mp3";function IO(){const n=me.useRef(null),[e,t]=me.useState("Inicio"),[i,o]=me.useState(0);me.useEffect(()=>{const u=()=>{n.current&&(n.current.volume=.1,n.current.play().catch(d=>console.log("Autoplay bloqueado:",d))),document.removeEventListener("click",u)};document.addEventListener("click",u)},[]);const l=()=>{switch(e){case"Inicio":return ee.jsx(t0,{});case"Carta":return ee.jsx(hO,{carta:i,setCarta:o});case"Catering":return ee.jsx(dO,{});case"Contacto":return ee.jsx(EO,{});default:return ee.jsx(t0,{})}};return ee.jsx(ee.Fragment,{children:ee.jsxs("div",{className:"container",children:[ee.jsx("audio",{ref:n,src:SO,loop:!0}),ee.jsx(QC,{setmoduleSwich:t,setCarta:o}),ee.jsx("main",{children:l()})]})})}IS.createRoot(document.getElementById("root")).render(ee.jsx(me.StrictMode,{children:ee.jsx(IO,{})}));
